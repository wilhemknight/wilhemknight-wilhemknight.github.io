_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[1534],{"7ljp":function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return d}));var o=n("q1tI"),a=n.n(o);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t){if(null==e)return{};var n,o,a=function(e,t){if(null==e)return{};var n,o,a={},r=Object.keys(e);for(o=0;o<r.length;o++)n=r[o],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(o=0;o<r.length;o++)n=r[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var u=a.a.createContext({}),s=function(e){var t=a.a.useContext(u),n=t;return e&&(n="function"===typeof e?e(t):l(l({},t),e)),n},c=function(e){var t=s(e.components);return a.a.createElement(u.Provider,{value:t},e.children)},b={inlineCode:"code",wrapper:function(e){var t=e.children;return a.a.createElement(a.a.Fragment,{},t)}},h=a.a.forwardRef((function(e,t){var n=e.components,o=e.mdxType,r=e.originalType,i=e.parentName,u=p(e,["components","mdxType","originalType","parentName"]),c=s(n),h=o,d=c["".concat(i,".").concat(h)]||c[h]||b[h]||r;return n?a.a.createElement(d,l(l({ref:t},u),{},{components:n})):a.a.createElement(d,l({ref:t},u))}));function d(e,t){var n=arguments,o=t&&t.mdxType;if("string"===typeof e||o){var r=n.length,i=new Array(r);i[0]=h;var l={};for(var p in t)hasOwnProperty.call(t,p)&&(l[p]=t[p]);l.originalType=e,l.mdxType="string"===typeof e?e:o,i[1]=l;for(var u=2;u<r;u++)i[u]=n[u];return a.a.createElement.apply(null,i)}return a.a.createElement.apply(null,n)}h.displayName="MDXCreateElement"},HALo:function(e,t,n){"use strict";function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}n.d(t,"a",(function(){return o}))},Qetd:function(e,t,n){"use strict";var o=Object.assign.bind(Object);e.exports=o,e.exports.default=e.exports},bhtd:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/workflow/publishing",function(){return n("iYvl")}])},dhJC:function(e,t,n){"use strict";function o(e,t){if(null==e)return{};var n,o,a=function(e,t){if(null==e)return{};var n,o,a={},r=Object.keys(e);for(o=0;o<r.length;o++)n=r[o],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(o=0;o<r.length;o++)n=r[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}n.d(t,"a",(function(){return o}))},iYvl:function(e,t,n){"use strict";n.r(t),n.d(t,"meta",(function(){return l})),n.d(t,"headings",(function(){return p})),n.d(t,"default",(function(){return s}));var o=n("HALo"),a=n("dhJC"),r=(n("q1tI"),n("7ljp")),i=["components"],l={title:"Publishing updates"},p=[{depth:2,type:"text",title:"How to publish"},{depth:2,type:"text",title:"What version of the app will my users get?"},{depth:2,type:"text",title:"Deploying to the App Store and Play Store"},{depth:2,type:"text",title:"Uploading Assets to the CDN"},{depth:2,type:"text",title:"Limitations"},{depth:3,type:"text",title:"Some native configuration can't be updated by publishing"},{depth:3,type:"text",title:"On iOS, you can't share your published link"},{depth:2,type:"text",title:"Privacy"},{depth:2,type:"text",title:"How do I remove a managed Expo project that I published?"}],u={meta:l,headings:p};function s(e){var t=e.components,n=Object(a.a)(e,i);return Object(r.b)("wrapper",Object(o.a)({},u,n,{components:t,mdxType:"MDXLayout"}),Object(r.b)("p",null,"While you\u2019re developing your project, you\u2019re writing code on your\ncomputer, and when you use Expo CLI, a server and the Metro bundler run on your machine and bundle up all your source code and make\nit available from a URL. Your URL for a project you\u2019re working on\nprobably looks something like this:\n",Object(r.b)("inlineCode",{parentName:"p"},"exp://i3-kvb.ccheever.an-example.exp.direct:80")),Object(r.b)("p",null,Object(r.b)("inlineCode",{parentName:"p"},"exp.direct")," is a domain we use for tunneling, so that even if you\u2019re\nbehind a VPN or firewall, any device on the internet that has your URL\nshould be able to access your project. This makes it much easier to open\nyour project on your phone or send it someone else you\u2019re collaborating\nwith who isn\u2019t on the same LAN."),Object(r.b)("p",null,'But since the bundler and development server are running on your computer, if you\nturn off your laptop or stop Expo CLI, you won\u2019t be able to load your\nproject from that URL. "Publish" is the term we use for deploying your\nproject. It makes your project available at a persistent URL, for\nexample ',Object(r.b)("a",{parentName:"p",href:"https://expo.dev/@community/native-component-list"},"https://expo.dev/@community/native-component-list"),", which can be\nopened with the Expo Go app. It also uploads all of your app images,\nfonts, and videos to a CDN (",Object(r.b)("a",{parentName:"p",href:"/workflow/how-expo-works/#publishingdeploying-an-expo-app-in-production"},"read more\nhere"),")."),Object(r.b)("h2",{id:"how-to-publish"},"How to publish"),Object(r.b)("p",null,"To publish a project, click the Publish button in Expo Dev Tools. (It\u2019s in the left side bar.) If you're using command line, run\n",Object(r.b)("inlineCode",{parentName:"p"},"expo publish"),". No setup is required, go ahead and create a new project\nand publish it without any changes and you will see that it works."),Object(r.b)("p",null,"When you do this, the bundler will create minify all your code and generate\ntwo versions of your code (one for iOS, one for Android) and then upload\nthose to a free hosting service provided by Expo. You\u2019ll get a link like ",Object(r.b)("a",{parentName:"p",href:"https://exp.host/@ccheever/an-example"},"https://exp.host/@ccheever/an-example"),"\nthat anyone can load your project from."),Object(r.b)("p",null,"If you haven't optimized your assets yet you will be prompted and asked\nif you'd like to do so when you run ",Object(r.b)("inlineCode",{parentName:"p"},"expo publish"),". This has the same effect\nas running ",Object(r.b)("inlineCode",{parentName:"p"},"npx expo-optimize")," and will compress all of the PNGs and JPEGs in your project."),Object(r.b)("p",null,"Any time you want to deploy an update, hit publish again and a new\nversion will be available immediately to your users the next time they\nopen it."),Object(r.b)("h2",{id:"what-version-of-the-app-will-my-users-get"},"What version of the app will my users get?"),Object(r.b)("p",null,"Your users will get the most recent compatible release that was pushed to a ",Object(r.b)("a",{parentName:"p",href:"/distribution/release-channels/"},"release channel"),". Factors that affect compatibility:"),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},"sdkVersion (standalone apps are built to support only a single SDK version)"),Object(r.b)("li",{parentName:"ul"},"platform"),Object(r.b)("li",{parentName:"ul"},"releaseChannel")),Object(r.b)("p",null,"The following flowchart shows how we determine which release to return to a user:"),Object(r.b)("p",null,Object(r.b)("img",{parentName:"p",src:"/static/images/release-channels-flowchart.png",alt:"Serving Flowchart"})),Object(r.b)("h2",{id:"deploying-to-the-app-store-and-play-store"},"Deploying to the App Store and Play Store"),Object(r.b)("p",null,"When you're ready to distribute your app to end-users, you can create a\nstandalone app binary (an ipa or apk file) and put it in the iOS App\nStore and the Google Play Store. See ",Object(r.b)("a",{parentName:"p",href:"/distribution/introduction/"},"Distributing Your App"),"."),Object(r.b)("p",null,"The standalone app knows to look for updates at your app's published\nurl, and if you publish an update then the next time a user opens your\napp they will automatically download the new version. The functionality\nis similar to ",Object(r.b)("a",{parentName:"p",href:"https://microsoft.github.io/code-push/"},"CodePush"),", but it\nis built into Expo so you don't need to install anything."),Object(r.b)("p",null,"To configure the way your app handles JS updates, see ",Object(r.b)("a",{parentName:"p",href:"/guides/offline-support/"},"Offline Support"),"."),Object(r.b)("h2",{id:"uploading-assets-to-the-cdn"},"Uploading Assets to the CDN"),Object(r.b)("p",null,"In order for assets to be uploaded to the CDN, they must be explicitly required somewhere in your application's code. Conditionally requiring assets will result in the Metro bundler being unable to detect them and therefore they will not be uploaded when you publish your project. A great way to ensure your assets will be uploaded is to make use of ",Object(r.b)("a",{parentName:"p",href:"/guides/preloading-and-caching-assets/"},"pre-loading and caching assets"),"."),Object(r.b)("h2",{id:"limitations"},"Limitations"),Object(r.b)("h3",{id:"some-native-configuration-cant-be-updated-by-publishing"},"Some native configuration can't be updated by publishing"),Object(r.b)("p",null,"If you make any of the following changes in ",Object(r.b)("strong",{parentName:"p"},"app.json"),", you will need to\nre-build the binaries for your app for the change to take effect:"),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},"Increment the Expo SDK Version"),Object(r.b)("li",{parentName:"ul"},"Change anything under the ",Object(r.b)("inlineCode",{parentName:"li"},"ios"),", ",Object(r.b)("inlineCode",{parentName:"li"},"android"),", or ",Object(r.b)("inlineCode",{parentName:"li"},"notification")," keys"),Object(r.b)("li",{parentName:"ul"},"Change your app ",Object(r.b)("inlineCode",{parentName:"li"},"splash")),Object(r.b)("li",{parentName:"ul"},"Change your app ",Object(r.b)("inlineCode",{parentName:"li"},"icon")),Object(r.b)("li",{parentName:"ul"},"Change your app ",Object(r.b)("inlineCode",{parentName:"li"},"name")),Object(r.b)("li",{parentName:"ul"},"Change your app ",Object(r.b)("inlineCode",{parentName:"li"},"owner")),Object(r.b)("li",{parentName:"ul"},"Change your app ",Object(r.b)("inlineCode",{parentName:"li"},"scheme")),Object(r.b)("li",{parentName:"ul"},"Change your ",Object(r.b)("inlineCode",{parentName:"li"},"facebookScheme")),Object(r.b)("li",{parentName:"ul"},"Change your bundled assets under ",Object(r.b)("inlineCode",{parentName:"li"},"assetBundlePatterns"))),Object(r.b)("p",null,"Additionally, changes to keys in Firebase configuration files (google-services.json and GoogleService-Info.plist) will require re-building the binaries to take effect in the iOS or Android standalone app."),Object(r.b)("h3",{id:"on-ios-you-cant-share-your-published-link"},"On iOS, you can't share your published link"),Object(r.b)("p",null,"When you publish, any Android user can open your app inside Expo Go immediately."),Object(r.b)("p",null,"Due to restrictions imposed by Apple, the best way to share your published app is\nto build a native binary with Expo's build service. You can use Apple TestFlight to\nshare the app with your testers, and you can submit it to the iTunes Store to share\nmore widely."),Object(r.b)("h2",{id:"privacy"},"Privacy"),Object(r.b)("p",null,"You can set the privacy of your project in your ",Object(r.b)("strong",{parentName:"p"},"app.json")," configuration\nfile by setting the key \u201cprivacy\u201d to either ",Object(r.b)("inlineCode",{parentName:"p"},"\u201cpublic\u201d")," or ",Object(r.b)("inlineCode",{parentName:"p"},"\u201cunlisted\u201d"),"."),Object(r.b)("p",null,"These options work similarly to the way they do on YouTube. Unlisted\nproject URLs will be secret unless you tell people about them or share\nthem. Public projects might be surfaced to other developers."),Object(r.b)("h2",{id:"how-do-i-remove-a-managed-expo-project-that-i-published"},"How do I remove a managed Expo project that I published?"),Object(r.b)("p",null,"The default ",Object(r.b)("a",{parentName:"p",href:"/workflow/configuration/"},"privacy setting")," for managed apps is ",Object(r.b)("inlineCode",{parentName:"p"},"unlisted")," so nobody can find your app unless you share the link with them."),Object(r.b)("p",null,"If you really want your published app to be 'unpublished', check out our guide on ",Object(r.b)("a",{parentName:"p",href:"/distribution/advanced-release-channels/"},"Advanced Release Channels"),", which explains how to roll back."))}s.isMDXComponent=!0}},[["bhtd",1,0]]]);