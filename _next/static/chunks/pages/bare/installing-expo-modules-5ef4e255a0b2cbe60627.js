_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[48],{"CXv+":function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/bare/installing-expo-modules",function(){return n("a9ge")}])},a9ge:function(e,t,n){"use strict";n.r(t),n.d(t,"meta",(function(){return r})),n.d(t,"headings",(function(){return c})),n.d(t,"default",(function(){return u}));var a=n("HALo"),o=n("dhJC"),i=(n("q1tI"),n("7ljp")),l=n("HCau"),p=n("5tZt"),s=["components"],r={title:"Installing Expo modules"},c=[{depth:2,type:"text",title:"Automatic installation"},{depth:2,type:"text",title:"Manual installation"},{depth:3,type:"text",title:"Configuration for iOS"},{depth:3,type:"text",title:"Configuration for Android"},{depth:2,type:"text",title:"Usage"},{depth:3,type:"text",title:"Verifying installation"},{depth:3,type:"text",title:"Using Expo SDK packages"},{depth:3,type:"inlineCode",title:"Expo modules included in the  expo  package"},{depth:3,type:"text",title:"Excluding specific modules from autolinking"}],d={meta:r,headings:c};function u(e){var t=e.components,n=Object(o.a)(e,s);return Object(i.b)("wrapper",Object(a.a)({},d,n,{components:t,mdxType:"MDXLayout"}),Object(i.b)("blockquote",null,Object(i.b)("p",{parentName:"blockquote"},"Are you migrating from ",Object(i.b)("inlineCode",{parentName:"p"},"react-native-unimodules"),"? If yes, please refer to ",Object(i.b)("a",{parentName:"p",href:"https://expo.fyi/expo-modules-migration"},"the Expo modules migration guide"),".")),Object(i.b)("p",null,"In order to use Expo modules in your app, you will need to install and configure the ",Object(i.b)("inlineCode",{parentName:"p"},"expo")," package."),Object(i.b)("p",null,"The ",Object(i.b)("inlineCode",{parentName:"p"},"expo")," package has a small footprint; it includes only a minimal set of packages that are needed in nearly every app and the module and autolinking infrastructure that other Expo SDK packages are built with. Once the ",Object(i.b)("inlineCode",{parentName:"p"},"expo")," package is installed and configured in your project, you can use ",Object(i.b)("inlineCode",{parentName:"p"},"expo install")," to add any other Expo module from the SDK."),Object(i.b)("p",null,"The easiest way to get started with Expo modules is to initialize a new bare workflow project with Expo CLI: ",Object(i.b)("inlineCode",{parentName:"p"},"expo init --template bare-minimum"),"."),Object(i.b)("p",null,"If you have an existing project without Expo modules installed (perhaps created with ",Object(i.b)("inlineCode",{parentName:"p"},"npx react-native init"),"), please follow the automatic or manual installation instructions below."),Object(i.b)("h2",{id:"automatic-installation"},"Automatic installation"),Object(i.b)("p",null,"Aside from initializing a new project with ",Object(i.b)("inlineCode",{parentName:"p"},"expo-cli"),", the easiest way to get up and running is with the ",Object(i.b)("inlineCode",{parentName:"p"},"install-expo-modules")," command."),Object(i.b)(l.b,{packageName:"expo",cmd:["# Install and configure the expo package automatically","npx install-expo-modules"],hideBareInstructions:!0,mdxType:"InstallSection"}),Object(i.b)("ul",null,Object(i.b)("li",{parentName:"ul"},"\u2705 ",Object(i.b)("strong",{parentName:"li"},"When the command succeeds"),", you will be able to add any Expo module in your app! Proceed to ",Object(i.b)("a",{parentName:"li",href:"/bare/installing-expo-modules/#usage"},"Usage")," for more information."),Object(i.b)("li",{parentName:"ul"},"\u274c ",Object(i.b)("strong",{parentName:"li"},"If the command fails"),", please follow the manual installation instructions. Updating code programmatically can be tricky, and if your project deviates significantly from a default React Native project, then you need to perform manual installation and adapt the instructions here to your codebase.")),Object(i.b)("h2",{id:"manual-installation"},"Manual installation"),Object(i.b)(l.b,{packageName:"expo",cmd:["npm install expo"],hideBareInstructions:!0,mdxType:"InstallSection"}),Object(i.b)("br",null),Object(i.b)("p",null,"Once installation is complete, apply the changes from the following diffs to configure Expo modules in your project. This is expected to take about five minutes, and you may need to adapt it slightly depending on how customized your project is."),Object(i.b)("h3",{id:"configuration-for-ios"},"Configuration for iOS"),Object(i.b)(p.a,{source:"/static/diffs/expo-ios.diff",mdxType:"ConfigurationDiff"}),Object(i.b)("p",null,"Save all of your changes. In Xcode, update the iOS Deployment Target under ",Object(i.b)("inlineCode",{parentName:"p"},"Target \u2192 Build Settings \u2192 Deployment")," to ",Object(i.b)("inlineCode",{parentName:"p"},"iOS 12.0"),". The last step is to install the project's CocoaPods again in order to pull in Expo modules that are detected by ",Object(i.b)("inlineCode",{parentName:"p"},"use_expo_modules!")," directive that we added to the ",Object(i.b)("inlineCode",{parentName:"p"},"Podfile"),":"),Object(i.b)(l.b,{packageName:"expo",cmd:["# Install pods","npx pod-install","","# Alternatively, the run command will install them for you","expo run:ios"],hideBareInstructions:!0,mdxType:"InstallSection"}),Object(i.b)("div",{style:{marginTop:50}}),Object(i.b)("h3",{id:"configuration-for-android"},"Configuration for Android"),Object(i.b)(p.a,{source:"/static/diffs/expo-android.diff",mdxType:"ConfigurationDiff"}),Object(i.b)("div",{style:{marginTop:-10}}),Object(i.b)("h2",{id:"usage"},"Usage"),Object(i.b)("h3",{id:"verifying-installation"},"Verifying installation"),Object(i.b)("p",null,"You can verify that installation was successful by logging a value from ",Object(i.b)("a",{parentName:"p",href:"/../../../../../../versions/latest/sdk/constants"},"expo-constants"),". Run ",Object(i.b)("inlineCode",{parentName:"p"},"expo install expo-constants"),", then run ",Object(i.b)("inlineCode",{parentName:"p"},"expo run:[android|ios]")," and modify your app JavaScript code to add the following:"),Object(i.b)("pre",null,Object(i.b)("code",{parentName:"pre",className:"language-js"},"import Constants from 'expo-constants';\nconsole.log(Constants.systemFonts);\n")),Object(i.b)("h3",{id:"using-expo-sdk-packages"},"Using Expo SDK packages"),Object(i.b)("p",null,"Once the ",Object(i.b)("inlineCode",{parentName:"p"},"expo")," package is installed and configured in your project, you can use ",Object(i.b)("inlineCode",{parentName:"p"},"expo install")," to add any other Expo module from the SDK. Learn more in ",Object(i.b)("a",{parentName:"p",href:"/../../../../../../workflow/using-libraries"},'"Using Libraries"'),"."),Object(i.b)("h3",{id:"expo-modules-included-in-the-expo-package"},"Expo modules included in the ",Object(i.b)("inlineCode",{parentName:"h3"},"expo")," package"),Object(i.b)("p",null,"The following Expo modules are brought in as dependencies of the ",Object(i.b)("inlineCode",{parentName:"p"},"expo")," package:"),Object(i.b)("ul",null,Object(i.b)("li",{parentName:"ul"},Object(i.b)("a",{parentName:"li",href:"/../../../../../../versions/latest/sdk/application/"},"expo-application")," - Generates the installation id in remote logging in development. This module is optional and can be safely removed if you do not use ",Object(i.b)("inlineCode",{parentName:"li"},"expo-dev-client"),"."),Object(i.b)("li",{parentName:"ul"},Object(i.b)("a",{parentName:"li",href:"/../../../../../../versions/latest/sdk/asset/"},"expo-asset")," - A JavaScript-only package that builds around ",Object(i.b)("inlineCode",{parentName:"li"},"expo-file-system")," and provides a common foundation for assets across all Expo modules."),Object(i.b)("li",{parentName:"ul"},Object(i.b)("a",{parentName:"li",href:"/../../../../../../versions/latest/sdk/constants/"},"expo-constants")," - Provides access to the manifest."),Object(i.b)("li",{parentName:"ul"},Object(i.b)("a",{parentName:"li",href:"/../../../../../../versions/latest/sdk/filesystem/"},"expo-file-system")," - Interact with the device file system. Used by ",Object(i.b)("inlineCode",{parentName:"li"},"expo-asset")," and many other Expo modules. Commonly used directly by developers in application code."),Object(i.b)("li",{parentName:"ul"},Object(i.b)("a",{parentName:"li",href:"/../../../../../../versions/latest/sdk/font/"},"expo-font")," - Load fonts at runtime. This module is optional and can be safely removed, however; it is recommended if you use ",Object(i.b)("inlineCode",{parentName:"li"},"expo-dev-client")," for development and it is required by ",Object(i.b)("inlineCode",{parentName:"li"},"@expo/vector-icons"),"."),Object(i.b)("li",{parentName:"ul"},Object(i.b)("a",{parentName:"li",href:"/../../../../../../versions/latest/sdk/keep-awake/"},"expo-keep-awake")," - Prevents your device from going to sleep while developing your app. This module is optional and can be safely removed.")),Object(i.b)("p",null,"To exclude any of these modules, refer to the following guide on ",Object(i.b)("a",{parentName:"p",href:"/bare/installing-expo-modules/#excluding-specific-modules-from-autolinking"},"excluding modules from autolinking"),"."),Object(i.b)("h3",{id:"excluding-specific-modules-from-autolinking"},"Excluding specific modules from autolinking"),Object(i.b)("p",null,"If you need to exclude Expo modules that you are not using but they got installed by other dependencies, you can use the ",Object(i.b)("inlineCode",{parentName:"p"},"expo.autolinking")," field in ",Object(i.b)("strong",{parentName:"p"},"package.json"),":"),Object(i.b)("pre",null,Object(i.b)("code",{parentName:"pre",className:"language-json"},'{\n  "name": "...",\n  "dependencies": {},\n  "expo": {\n    "autolinking": {\n      "exclude": ["expo-keep-awake"]\n    }\n  }\n}\n')),Object(i.b)("p",null,"You can also exclude a specific platform by using ",Object(i.b)("inlineCode",{parentName:"p"},"exclude")," under the platform key:"),Object(i.b)("pre",null,Object(i.b)("code",{parentName:"pre",className:"language-json"},'{\n  "name": "...",\n  "dependencies": {},\n  "expo": {\n    "autolinking": {\n      "exclude": ["expo-font"],\n      "ios": {\n        "exclude": ["expo-keep-awake"]\n      }\n    }\n  }\n}\n')))}u.isMDXComponent=!0}},[["CXv+",1,0,2,3,6,9,24]]]);