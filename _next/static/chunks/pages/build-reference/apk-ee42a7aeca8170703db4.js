_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[59],{"7ljp":function(e,t,n){"use strict";n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return m}));var r=n("q1tI"),a=n.n(r);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var u=a.a.createContext({}),c=function(e){var t=a.a.useContext(u),n=t;return e&&(n="function"===typeof e?e(t):l(l({},t),e)),n},p=function(e){var t=c(e.components);return a.a.createElement(u.Provider,{value:t},e.children)},b={inlineCode:"code",wrapper:function(e){var t=e.children;return a.a.createElement(a.a.Fragment,{},t)}},s=a.a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,i=e.originalType,o=e.parentName,u=d(e,["components","mdxType","originalType","parentName"]),p=c(n),s=r,m=p["".concat(o,".").concat(s)]||p[s]||b[s]||i;return n?a.a.createElement(m,l(l({ref:t},u),{},{components:n})):a.a.createElement(m,l({ref:t},u))}));function m(e,t){var n=arguments,r=t&&t.mdxType;if("string"===typeof e||r){var i=n.length,o=new Array(i);o[0]=s;var l={};for(var d in t)hasOwnProperty.call(t,d)&&(l[d]=t[d]);l.originalType=e,l.mdxType="string"===typeof e?e:r,o[1]=l;for(var u=2;u<i;u++)o[u]=n[u];return a.a.createElement.apply(null,o)}return a.a.createElement.apply(null,n)}s.displayName="MDXCreateElement"},BhZw:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/build-reference/apk",function(){return n("soCM")}])},HALo:function(e,t,n){"use strict";function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}n.d(t,"a",(function(){return r}))},Qetd:function(e,t,n){"use strict";var r=Object.assign.bind(Object);e.exports=r,e.exports.default=e.exports},dhJC:function(e,t,n){"use strict";function r(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}n.d(t,"a",(function(){return r}))},soCM:function(e,t,n){"use strict";n.r(t),n.d(t,"meta",(function(){return l})),n.d(t,"headings",(function(){return d})),n.d(t,"default",(function(){return c}));var r=n("HALo"),a=n("dhJC"),i=(n("q1tI"),n("7ljp")),o=["components"],l={title:"Building APKs for Android emulators and devices"},d=[{depth:2,type:"text",title:"Configuring a profile to build APKs"},{depth:3,type:"text",title:"Managed projects"},{depth:2,type:"text",title:"Installing your build"},{depth:3,type:"text",title:'Emulator ("Virtual device")'},{depth:3,type:"text",title:"Physical device"},{depth:4,type:"text",title:"Download directly to the device"},{depth:4,type:"inlineCode",title:"Install with  adb"}],u={meta:l,headings:d};function c(e){var t=e.components,n=Object(a.a)(e,o);return Object(i.b)("wrapper",Object(r.a)({},u,n,{components:t,mdxType:"MDXLayout"}),Object(i.b)("p",null,"The default file format used when building Android apps with EAS Build is an ",Object(i.b)("a",{parentName:"p",href:"https://developer.android.com/platform/technology/app-bundle"},"Android App Bundle")," (AAB / ",Object(i.b)("strong",{parentName:"p"},".aab"),"). This format is optimized for distributing to the Google Play Store, but AABs can't be installed directly to your device. To install a build directly to your Android device or emulator, you need to build an ",Object(i.b)("a",{parentName:"p",href:"https://en.wikipedia.org/wiki/Android_application_package"},"Android Package")," (APK / ",Object(i.b)("strong",{parentName:"p"},".apk"),") instead."),Object(i.b)("h2",{id:"configuring-a-profile-to-build-apks"},"Configuring a profile to build APKs"),Object(i.b)("h3",{id:"managed-projects"},"Managed projects"),Object(i.b)("p",null,"By default, EAS Build produces Android App Bundle, you can change it by:"),Object(i.b)("ul",null,Object(i.b)("li",{parentName:"ul"},"setting ",Object(i.b)("inlineCode",{parentName:"li"},"buildType")," to ",Object(i.b)("inlineCode",{parentName:"li"},"apk")),Object(i.b)("li",{parentName:"ul"},"setting ",Object(i.b)("inlineCode",{parentName:"li"},"developmentClient")," to true"),Object(i.b)("li",{parentName:"ul"},"setting ",Object(i.b)("inlineCode",{parentName:"li"},"gradleCommand")," to ",Object(i.b)("inlineCode",{parentName:"li"},":app:assembleRelease"),", ",Object(i.b)("inlineCode",{parentName:"li"},":app:assembleDebug")," or any other gradle command that produces APK")),Object(i.b)("pre",null,Object(i.b)("code",{parentName:"pre",className:"language-json"},'{\n  "build": {\n    "preview": {\n      "android": {\n        "buildType": "apk"\n      }\n    },\n    "preview2": {\n      "android": {\n        "gradleCommand": ":app:assembleRelease"\n      }\n    },\n    "preview3": {\n      "developmentClient": true\n    },\n    "production": {}\n  }\n}\n')),Object(i.b)("p",null,"Now, to run your build run ",Object(i.b)("inlineCode",{parentName:"p"},"eas build -p android --profile preview"),'. Remember that you can name the profile whatever you like; we named the profile "preview", but you could call it "local" or "simulator", whatever makes most sense for you.'),Object(i.b)("h2",{id:"installing-your-build"},"Installing your build"),Object(i.b)("h3",{id:"emulator-virtual-device"},'Emulator ("Virtual device")'),Object(i.b)("blockquote",null,Object(i.b)("p",{parentName:"blockquote"},"If you haven't installed or run an Android emulator before, follow the ",Object(i.b)("a",{parentName:"p",href:"/../../../../../../workflow/android-studio-emulator/"},"Android Studio emulator guide")," before proceeding.")),Object(i.b)("ul",null,Object(i.b)("li",{parentName:"ul"},"Once your build is completed, download the APK from the build details page or the link provided when ",Object(i.b)("inlineCode",{parentName:"li"},"eas build")," is done."),Object(i.b)("li",{parentName:"ul"},"Open up your emulator."),Object(i.b)("li",{parentName:"ul"},"Drag the APK file into the emulator."),Object(i.b)("li",{parentName:"ul"},"The app will be installed in a few seconds. When it's complete, navigate to the app launcher, find the app icon and open it."),Object(i.b)("li",{parentName:"ul"},"You can share this build, it will run on any Android emulator or device.")),Object(i.b)("h3",{id:"physical-device"},"Physical device"),Object(i.b)("h4",{id:"download-directly-to-the-device"},"Download directly to the device"),Object(i.b)("ul",null,Object(i.b)("li",{parentName:"ul"},"Once your build is completed, copy the URL to the APK from the build details page or the link provided when ",Object(i.b)("inlineCode",{parentName:"li"},"eas build")," is done."),Object(i.b)("li",{parentName:"ul"},"Send that URL to your device. Maybe by email? Up to you."),Object(i.b)("li",{parentName:"ul"},"Open the URL on your device, install the APK and run it.")),Object(i.b)("h4",{id:"install-with-adb"},"Install with ",Object(i.b)("inlineCode",{parentName:"h4"},"adb")),Object(i.b)("ul",null,Object(i.b)("li",{parentName:"ul"},Object(i.b)("a",{parentName:"li",href:"https://developer.android.com/studio/command-line/adb"},"Install adb")," if you don't have it installed already."),Object(i.b)("li",{parentName:"ul"},"Connect your device to your computer and ",Object(i.b)("a",{parentName:"li",href:"https://developer.android.com/studio/command-line/adb#Enabling"},"enable adb debugging on your device")," if you haven't already."),Object(i.b)("li",{parentName:"ul"},"Once your build is completed, download the APK from the build details page or the link provided when ",Object(i.b)("inlineCode",{parentName:"li"},"eas build")," is done."),Object(i.b)("li",{parentName:"ul"},"Run ",Object(i.b)("inlineCode",{parentName:"li"},"adb install path/to/the/file.apk"),"."),Object(i.b)("li",{parentName:"ul"},"Run the app on your device.")))}c.isMDXComponent=!0}},[["BhZw",1,0]]]);