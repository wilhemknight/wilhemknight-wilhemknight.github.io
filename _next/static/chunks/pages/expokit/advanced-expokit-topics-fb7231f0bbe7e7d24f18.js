_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[124],{"+7rv":function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/expokit/advanced-expokit-topics",function(){return n("9qoL")}])},"7ljp":function(e,t,n){"use strict";n.d(t,"a",(function(){return b})),n.d(t,"b",(function(){return m}));var o=n("q1tI"),r=n.n(o);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t){if(null==e)return{};var n,o,r=function(e,t){if(null==e)return{};var n,o,r={},i=Object.keys(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var p=r.a.createContext({}),u=function(e){var t=r.a.useContext(p),n=t;return e&&(n="function"===typeof e?e(t):l(l({},t),e)),n},b=function(e){var t=u(e.components);return r.a.createElement(p.Provider,{value:t},e.children)},s={inlineCode:"code",wrapper:function(e){var t=e.children;return r.a.createElement(r.a.Fragment,{},t)}},d=r.a.forwardRef((function(e,t){var n=e.components,o=e.mdxType,i=e.originalType,a=e.parentName,p=c(e,["components","mdxType","originalType","parentName"]),b=u(n),d=o,m=b["".concat(a,".").concat(d)]||b[d]||s[d]||i;return n?r.a.createElement(m,l(l({ref:t},p),{},{components:n})):r.a.createElement(m,l({ref:t},p))}));function m(e,t){var n=arguments,o=t&&t.mdxType;if("string"===typeof e||o){var i=n.length,a=new Array(i);a[0]=d;var l={};for(var c in t)hasOwnProperty.call(t,c)&&(l[c]=t[c]);l.originalType=e,l.mdxType="string"===typeof e?e:o,a[1]=l;for(var p=2;p<i;p++)a[p]=n[p];return r.a.createElement.apply(null,a)}return r.a.createElement.apply(null,n)}d.displayName="MDXCreateElement"},"9qoL":function(e,t,n){"use strict";n.r(t),n.d(t,"meta",(function(){return l})),n.d(t,"headings",(function(){return c})),n.d(t,"default",(function(){return u}));var o=n("HALo"),r=n("dhJC"),i=(n("q1tI"),n("7ljp")),a=["components"],l={title:"Advanced ExpoKit Topics"},c=[{depth:2,type:"text",title:"Un-ejecting"},{depth:2,type:"text",title:"Verifying Bundles (iOS only)"},{depth:2,type:"text",title:"Configuring the JS URL"},{depth:2,type:"text",title:"Changing the Deep Link Scheme"},{depth:2,type:"text",title:"Enabling Optional Expo Modules on iOS"},{depth:2,type:"text",title:"Using DocumentPicker"},{depth:2,type:"text",title:"Using Google Maps"}],p={meta:l,headings:c};function u(e){var t=e.components,n=Object(r.a)(e,a);return Object(i.b)("wrapper",Object(o.a)({},p,n,{components:t,mdxType:"MDXLayout"}),Object(i.b)("blockquote",null,Object(i.b)("p",{parentName:"blockquote"},"ExpoKit is deprecated and will no longer be supported after SDK 38. If you need to make customizations to your Expo project, we recommend using the ",Object(i.b)("a",{parentName:"p",href:"/workflow/customizing/"},"bare workflow")," instead.")),Object(i.b)("p",null,"This guide goes deeper into a few ",Object(i.b)("a",{parentName:"p",href:"/expokit/expokit/"},"ExpoKit")," topics that aren't critical\nright out of the box, but that you may encounter down the road. If you're not familiar with\nExpoKit, you might want to read ",Object(i.b)("a",{parentName:"p",href:"/expokit/expokit/"},"the ExpoKit guide")," first."),Object(i.b)("h2",{id:"un-ejecting"},"Un-ejecting"),Object(i.b)("p",null,'It is possible to manually "un-eject" your project, for example if you want to return to a JS-only state, or if you want to repeatedly eject for testing purposes. Since your project won\'t be ejected any more, you will no longer be able to use custom native code.'),Object(i.b)("blockquote",null,Object(i.b)("p",{parentName:"blockquote"},Object(i.b)("strong",{parentName:"p"},"Warning:")," The following instructions will permanently remove the native iOS and Android code from your project, including any changes you've made. We strongly recommend committing your changes to version control before trying this.")),Object(i.b)("p",null,"To un-eject:"),Object(i.b)("ul",null,Object(i.b)("li",{parentName:"ul"},"Delete the ",Object(i.b)("inlineCode",{parentName:"li"},"ios")," and ",Object(i.b)("inlineCode",{parentName:"li"},"android")," directories from your project."),Object(i.b)("li",{parentName:"ul"},"Delete the ",Object(i.b)("inlineCode",{parentName:"li"},"isDetached")," and ",Object(i.b)("inlineCode",{parentName:"li"},"detach")," keys from your project's ",Object(i.b)("strong",{parentName:"li"},"app.json"),".")),Object(i.b)("p",null,"You can now use your project like a normal Expo project (with no ExpoKit)."),Object(i.b)("h2",{id:"verifying-bundles-ios-only"},"Verifying Bundles (iOS only)"),Object(i.b)("p",null,"When we serve updates to your ExpoKit project, we include a signature so that\nyour project can verify that the JS actually came from our servers."),Object(i.b)("p",null,"By default, projects that use ExpoKit have this feature disabled on iOS and enabled on\nAndroid. We encourage you to enable it on iOS so that your code is verified for all of your\nusers."),Object(i.b)("p",null,"To enable code verification in your native project with ExpoKit:"),Object(i.b)("ul",null,Object(i.b)("li",{parentName:"ul"},Object(i.b)("p",{parentName:"li"},"Fulfill one of these two requirements (you only need one):"),Object(i.b)("ul",{parentName:"li"},Object(i.b)("li",{parentName:"ul"},"Use a non-wildcard bundle identifier when provisioning the app (recommended)"),Object(i.b)("li",{parentName:"ul"},"Enable ",Object(i.b)("strong",{parentName:"li"},"Keychain Sharing")," in your Xcode project settings under ",Object(i.b)("strong",{parentName:"li"},"Capabilities"),". (faster to\nset up)"))),Object(i.b)("li",{parentName:"ul"},Object(i.b)("p",{parentName:"li"},"In ",Object(i.b)("inlineCode",{parentName:"p"},"ios/your-project/Supporting/EXShell.plist"),", set ",Object(i.b)("inlineCode",{parentName:"p"},"isManifestVerificationBypassed")," to\n",Object(i.b)("inlineCode",{parentName:"p"},"NO")," (or delete this key entirely)."))),Object(i.b)("h2",{id:"configuring-the-js-url"},"Configuring the JS URL"),Object(i.b)("p",null,"In development, your ExpoKit project will request your local build from Expo CLI. You can see this configuration in ",Object(i.b)("strong",{parentName:"p"},"EXBuildConstants.plist")," (iOS) or ",Object(i.b)("inlineCode",{parentName:"p"},"ExponentBuildConstants")," (Android). You shouldn't need to edit it, because it's written automatically when you serve the project."),Object(i.b)("p",null,"In production, your ExpoKit project will request your published JS bundle. This is configured in ",Object(i.b)("strong",{parentName:"p"},"EXShell.plist")," (iOS) and ",Object(i.b)("strong",{parentName:"p"},"MainActivity.java")," (Android). If you want to specify custom behavior in iOS, you can also set the ",Object(i.b)("inlineCode",{parentName:"p"},"[ExpoKit sharedInstance].publishedManifestUrlOverride")," property."),Object(i.b)("h2",{id:"changing-the-deep-link-scheme"},"Changing the Deep Link Scheme"),Object(i.b)("p",null,"If you do not have a ",Object(i.b)("inlineCode",{parentName:"p"},"scheme")," specified in app.json at the time of ejecting, Expo will automatically generate a random one for you. If you'd like to switch to a different scheme after ejecting, there are a few places where you need to find an occurrence of your old scheme and replace it with the new one:"),Object(i.b)("ol",null,Object(i.b)("li",{parentName:"ol"},Object(i.b)("strong",{parentName:"li"},"app.json")," (the ",Object(i.b)("inlineCode",{parentName:"li"},'"scheme"')," field)"),Object(i.b)("li",{parentName:"ol"},Object(i.b)("inlineCode",{parentName:"li"},"ios/<your-project-name>/Supporting/Info.plist")," (under the first occurrence of",Object(i.b)("inlineCode",{parentName:"li"},"CFBundleURLSchemes"),")"),Object(i.b)("li",{parentName:"ol"},Object(i.b)("strong",{parentName:"li"},"android/app/src/main/AndroidManifest.xml")," (in a line that looks like ",Object(i.b)("inlineCode",{parentName:"li"},'<data android:scheme="<your-scheme-here>"/>'),", under ",Object(i.b)("inlineCode",{parentName:"li"},"MainActivity"),", or ",Object(i.b)("inlineCode",{parentName:"li"},"LauncherActivity")," for older projects)"),Object(i.b)("li",{parentName:"ol"},Object(i.b)("inlineCode",{parentName:"li"},"android/app/src/main/java/host/exp/exponent/generated/AppConstants.java")," (the ",Object(i.b)("inlineCode",{parentName:"li"},"SHELL_APP_SCHEME")," variable)")),Object(i.b)("h2",{id:"enabling-optional-expo-modules-on-ios"},"Enabling Optional Expo Modules on iOS"),Object(i.b)("p",null,"To enable FaceDetector, ARKit, or Payments in your iOS app, see ",Object(i.b)("a",{parentName:"p",href:"/expokit/universal-modules-and-expokit/"},"Universal Modules and ExpoKit"),"."),Object(i.b)("h2",{id:"using-documentpicker"},"Using DocumentPicker"),Object(i.b)("p",null,"In iOS Expokit projects, the DocumentPicker module requires the iCloud entitlement to work properly. If your app doesn't have it already, you can add it by opening the project in Xcode and following these steps:"),Object(i.b)("ul",null,Object(i.b)("li",{parentName:"ul"},"In the project go to the ",Object(i.b)("inlineCode",{parentName:"li"},"Capabilities")," tab."),Object(i.b)("li",{parentName:"ul"},"Set the iCloud switch to on."),Object(i.b)("li",{parentName:"ul"},"Check the ",Object(i.b)("inlineCode",{parentName:"li"},"iCloud Documents")," checkbox.")),Object(i.b)("p",null,"If everything worked properly your screen should look like this:"),Object(i.b)("p",null,Object(i.b)("img",{parentName:"p",src:"/static/images/icloud-entitlement.png",alt:null})),Object(i.b)("h2",{id:"using-google-maps"},"Using Google Maps"),Object(i.b)("p",null,"If you integrate Google Maps to your ExpoKit app with the MapView component, you may need to follow additional instructions to provide your Google Maps API key. See the ",Object(i.b)("a",{parentName:"p",href:"/versions/latest/sdk/map-view/"},"MapView docs"),"."))}u.isMDXComponent=!0},HALo:function(e,t,n){"use strict";function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}n.d(t,"a",(function(){return o}))},Qetd:function(e,t,n){"use strict";var o=Object.assign.bind(Object);e.exports=o,e.exports.default=e.exports},dhJC:function(e,t,n){"use strict";function o(e,t){if(null==e)return{};var n,o,r=function(e,t){if(null==e)return{};var n,o,r={},i=Object.keys(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}n.d(t,"a",(function(){return o}))}},[["+7rv",1,0]]]);