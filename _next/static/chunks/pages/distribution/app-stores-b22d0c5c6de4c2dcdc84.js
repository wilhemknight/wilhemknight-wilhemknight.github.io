_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[94],{"7ljp":function(e,t,a){"use strict";a.d(t,"a",(function(){return u})),a.d(t,"b",(function(){return h}));var n=a("q1tI"),i=a.n(n);function o(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function r(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function s(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?r(Object(a),!0).forEach((function(t){o(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):r(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function p(e,t){if(null==e)return{};var a,n,i=function(e,t){if(null==e)return{};var a,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(i[a]=e[a]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(i[a]=e[a])}return i}var l=i.a.createContext({}),c=function(e){var t=i.a.useContext(l),a=t;return e&&(a="function"===typeof e?e(t):s(s({},t),e)),a},u=function(e){var t=c(e.components);return i.a.createElement(l.Provider,{value:t},e.children)},b={inlineCode:"code",wrapper:function(e){var t=e.children;return i.a.createElement(i.a.Fragment,{},t)}},d=i.a.forwardRef((function(e,t){var a=e.components,n=e.mdxType,o=e.originalType,r=e.parentName,l=p(e,["components","mdxType","originalType","parentName"]),u=c(a),d=n,h=u["".concat(r,".").concat(d)]||u[d]||b[d]||o;return a?i.a.createElement(h,s(s({ref:t},l),{},{components:a})):i.a.createElement(h,s({ref:t},l))}));function h(e,t){var a=arguments,n=t&&t.mdxType;if("string"===typeof e||n){var o=a.length,r=new Array(o);r[0]=d;var s={};for(var p in t)hasOwnProperty.call(t,p)&&(s[p]=t[p]);s.originalType=e,s.mdxType="string"===typeof e?e:n,r[1]=s;for(var l=2;l<o;l++)r[l]=a[l];return i.a.createElement.apply(null,r)}return i.a.createElement.apply(null,a)}d.displayName="MDXCreateElement"},HALo:function(e,t,a){"use strict";function n(){return(n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}a.d(t,"a",(function(){return n}))},Qetd:function(e,t,a){"use strict";var n=Object.assign.bind(Object);e.exports=n,e.exports.default=e.exports},SUgY:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/distribution/app-stores",function(){return a("sB6y")}])},dhJC:function(e,t,a){"use strict";function n(e,t){if(null==e)return{};var a,n,i=function(e,t){if(null==e)return{};var a,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(i[a]=e[a]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(i[a]=e[a])}return i}a.d(t,"a",(function(){return n}))},sB6y:function(e,t,a){"use strict";a.r(t),a.d(t,"meta",(function(){return s})),a.d(t,"headings",(function(){return p})),a.d(t,"default",(function(){return c}));var n=a("HALo"),i=a("dhJC"),o=(a("q1tI"),a("7ljp")),r=["components"],s={title:"Deploying to App Stores"},p=[{depth:2,type:"text",title:"Make sure your app works on many form factors"},{depth:2,type:"text",title:"Make app loading seamless"},{depth:2,type:"text",title:"Play nicely with the system UI"},{depth:2,type:"text",title:"Tailor your app metadata"},{depth:2,type:"text",title:"Versioning your App"},{depth:2,type:"text",title:"Privacy Policy"},{depth:2,type:"text",title:"iOS-specific guidelines"},{depth:3,type:"text",title:"App privacy questions"},{depth:2,type:"text",title:"Android Permissions"},{depth:2,type:"text",title:"Common App Rejections"},{depth:2,type:"text",title:"System permissions dialogs on iOS"},{depth:2,type:"text",title:"Localizing your iOS app"}],l={meta:s,headings:p};function c(e){var t=e.components,a=Object(i.a)(e,r);return Object(o.b)("wrapper",Object(n.a)({},l,a,{components:t,mdxType:"MDXLayout"}),Object(o.b)("p",null,"This guide offers best practices around submitting your Expo app to the Apple App Store and Google Play Store. To learn how to generate native binaries for submission, refer to ",Object(o.b)("a",{parentName:"p",href:"/../../../../../../build/setup/"},'"Creating your first build"'),"."),Object(o.b)("p",null,"Although you can share your published project through the Expo Go app and on your ",Object(o.b)("a",{parentName:"p",href:"https://expo.dev"},"expo.dev")," profile, submitting a standalone app to the Apple and Google stores is necessary to have a dedicated piece of real estate on your users' devices. Submitting to these stores carries stronger requirements and quality standards than sharing a toy project with a few friends, because it makes your app available through a much wider distribution platform."),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"Disclaimer:")," Especially in the case of Apple, review guidelines and rules change all the time, and Apple's enforcement of various rules tends to be finicky and inconsistent. We can't guarantee that your particular project will be accepted by either platform, and you are ultimately responsible for your app's behavior. However, Expo apps are native apps and behave just like any other apps, so if you've created something awesome, you should have nothing to worry about!"),Object(o.b)("h2",{id:"make-sure-your-app-works-on-many-form-factors"},"Make sure your app works on many form factors"),Object(o.b)("p",null,"It's a good idea to test your app on a device or simulator with a small screen (e.g. an iPhone SE) as well as a large screen (e.g. an iPhone X). Ensure your components render the way you expect, no buttons are blocked, and all text fields are accessible."),Object(o.b)("p",null,"Try your app on tablets in addition to handsets. Even if you have ",Object(o.b)("inlineCode",{parentName:"p"},"ios.supportsTablet: false")," configured, your app will still render at phone resolution on iPads and must be usable."),Object(o.b)("h2",{id:"make-app-loading-seamless"},"Make app loading seamless"),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},"Add a ",Object(o.b)("a",{parentName:"li",href:"/guides/splash-screens/"},"splash screen"),", the very first thing your users see after they select your app."),Object(o.b)("li",{parentName:"ul"},"Use ",Object(o.b)("a",{parentName:"li",href:"/versions/latest/sdk/app-loading/"},"AppLoading")," to ensure your interface is ready before the user sees it."),Object(o.b)("li",{parentName:"ul"},Object(o.b)("a",{parentName:"li",href:"/guides/preloading-and-caching-assets/"},"Preload and cache your assets")," so your app loads quickly, even with a poor internet connection.")),Object(o.b)("h2",{id:"play-nicely-with-the-system-ui"},"Play nicely with the system UI"),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},"Configure the ",Object(o.b)("a",{parentName:"li",href:"/guides/configuring-statusbar/"},"status bar")," so it doesn't clash with your interface."),Object(o.b)("li",{parentName:"ul"},"Use ",Object(o.b)("a",{parentName:"li",href:"/versions/latest/sdk/gesture-handler/"},"native gestures")," whenever possible."),Object(o.b)("li",{parentName:"ul"},"Use interface elements that make sense on the device. For example, see the ",Object(o.b)("a",{parentName:"li",href:"https://developer.apple.com/ios/human-interface-guidelines/overview/themes/"},"iOS Human Interface Guidelines"),".")),Object(o.b)("h2",{id:"tailor-your-app-metadata"},"Tailor your app metadata"),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},"Add a great ",Object(o.b)("a",{parentName:"li",href:"/guides/app-icons/"},"icon"),". Icon requirements between iOS and Android differ and are fairly strict, so be sure and familiarize yourself with that guide."),Object(o.b)("li",{parentName:"ul"},"Customize your ",Object(o.b)("a",{parentName:"li",href:"/workflow/configuration/#primarycolor"},"primaryColor"),"."),Object(o.b)("li",{parentName:"ul"},"Make sure your app has a valid iOS ",Object(o.b)("a",{parentName:"li",href:"/versions/latest/config/app/#bundleidentifier"},"Bundle Identifier")," and ",Object(o.b)("a",{parentName:"li",href:"/versions/latest/config/app/#package"},"Android Package"),". Take care in choosing these, as you will not be able to change them later.")),Object(o.b)("h2",{id:"versioning-your-app"},"Versioning your App"),Object(o.b)("p",null,"You'll use the ",Object(o.b)("strong",{parentName:"p"},"app.json")," file to specify the version of your app, but there are a few different fields each with specific functionality."),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},Object(o.b)("a",{parentName:"li",href:"/versions/latest/config/app/#version"},Object(o.b)("inlineCode",{parentName:"a"},"version"))," will apply both to iOS and Android. For iOS, this corresponds to ",Object(o.b)("inlineCode",{parentName:"li"},"CFBundleShortVersionString"),", and for Android this corresponds to ",Object(o.b)("inlineCode",{parentName:"li"},"versionName"),". This is your user-facing version string for both platforms."),Object(o.b)("li",{parentName:"ul"},Object(o.b)("a",{parentName:"li",href:"/versions/latest/config/app/#versioncode"},Object(o.b)("inlineCode",{parentName:"a"},"android.versionCode"))," functions as your internal Android version number. This will be used to distinguish different binaries of your app."),Object(o.b)("li",{parentName:"ul"},Object(o.b)("a",{parentName:"li",href:"/versions/latest/config/app/#buildnumber"},Object(o.b)("inlineCode",{parentName:"a"},"ios.buildNumber"))," functions as your internal iOS version number, and corresponds to ",Object(o.b)("inlineCode",{parentName:"li"},"CFBundleVersion"),". This will be used to distinguish different binaries of your app.")),Object(o.b)("p",null,"To access these values at runtime, you can use the ",Object(o.b)("a",{parentName:"p",href:"/versions/latest/sdk/application/"},"Expo Application API"),":"),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},"Use ",Object(o.b)("a",{parentName:"li",href:"/versions/latest/sdk/application/#applicationnativeapplicationversion"},Object(o.b)("inlineCode",{parentName:"a"},"Application.nativeApplicationVersion"))," to access the ",Object(o.b)("inlineCode",{parentName:"li"},"version")," value listed above."),Object(o.b)("li",{parentName:"ul"},"Use ",Object(o.b)("a",{parentName:"li",href:"/versions/latest/sdk/application/#applicationnativebuildversion"},Object(o.b)("inlineCode",{parentName:"a"},"Application.nativeBuildVersion"))," to access either ",Object(o.b)("inlineCode",{parentName:"li"},"android.versionCode")," or ",Object(o.b)("inlineCode",{parentName:"li"},"ios.buildNumber")," values (depending on the current platform)")),Object(o.b)("h2",{id:"privacy-policy"},"Privacy Policy"),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},"Starting October 3, 2018, all new iOS apps and app updates will be required to have a privacy policy in order to pass the App Store Review Guidelines."),Object(o.b)("li",{parentName:"ul"},"Additionally, a number of developers have reported warnings from Google if their app does not have a privacy policy, since by default all Expo apps contain code for requesting the Android Advertising ID. Though this code may not be executed depending on which Expo APIs you use, we still recommend that all apps on the Google Play Store include a privacy policy as well.")),Object(o.b)("h2",{id:"ios-specific-guidelines"},"iOS-specific guidelines"),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},"All apps in the App Store must abide by the ",Object(o.b)("a",{parentName:"li",href:"https://developer.apple.com/app-store/review/guidelines/"},"App Store Review Guidelines"),"."),Object(o.b)("li",{parentName:"ul"},'Apple will ask you whether your app uses the IDFA: the answer is "yes." This is because Expo contains the Facebook and Branch SDKs, which contain code for collecting the IDFA, and you\'ll need to check a couple boxes on the Apple submission form. See ',Object(o.b)("a",{parentName:"li",href:"https://blog.branch.io/how-to-submit-an-app-that-uses-an-idfa-to-the-app-store/"},"Branch's Guide")," for which specific boxes to fill in.")),Object(o.b)("blockquote",null,Object(o.b)("p",{parentName:"blockquote"},Object(o.b)("strong",{parentName:"p"},"Note"),": No data is sent to Branch, Facebook, Segment, or Amplitude from your app unless you explicitly do so using the APIs. For more information on how Expo handles your data, and your end users' data, take a look at our ",Object(o.b)("a",{parentName:"p",href:"https://expo.dev/privacy-explained"},"Privacy Explained page"),".")),Object(o.b)("h3",{id:"app-privacy-questions"},"App privacy questions"),Object(o.b)("p",null,"Beginning December 8, 2020, new app submissions and updates are required to provide information about their privacy practices in App Store Connect. See ",Object(o.b)("a",{parentName:"p",href:"https://developer.apple.com/app-store/app-privacy-details/"},"App privacy details on the App Store")," for more information."),Object(o.b)("p",null,"Apple will ask you a series of questions:"),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},"Select ",Object(o.b)("strong",{parentName:"li"},"Yes, we collect data from this app"),". Click ",Object(o.b)("strong",{parentName:"li"},"Next"),"."),Object(o.b)("li",{parentName:"ul"},"Select ",Object(o.b)("strong",{parentName:"li"},"Device ID"),Object(o.b)("ul",{parentName:"li"},Object(o.b)("li",{parentName:"ul"},"Managed standalone apps include the Facebook, Facebook Ads, and Google AdMob SDKs, which still access the IDFA."))),Object(o.b)("li",{parentName:"ul"},"If you use ",Object(o.b)("inlineCode",{parentName:"li"},"expo-facebook"),", select ",Object(o.b)("strong",{parentName:"li"},"Other Usage Data")),Object(o.b)("li",{parentName:"ul"},"If you use ",Object(o.b)("inlineCode",{parentName:"li"},"expo-updates"),", select ",Object(o.b)("strong",{parentName:"li"},"Crash Data"),Object(o.b)("ul",{parentName:"li"},Object(o.b)("li",{parentName:"ul"},"Errors that occur when launching an update are collected when a new update is requested."))),Object(o.b)("li",{parentName:"ul"},"If you use Facebook Ads and/or Google AdMob SDKs, select ",Object(o.b)("strong",{parentName:"li"},"Advertising Data"))),Object(o.b)("blockquote",null,Object(o.b)("p",{parentName:"blockquote"},Object(o.b)("strong",{parentName:"p"},"Note"),": Supplement the above guidance with additional disclosures based on the data your particular app and the third-party services you use collect.")),Object(o.b)("h2",{id:"android-permissions"},"Android Permissions"),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},"Permissions are configured via the ",Object(o.b)("a",{parentName:"li",href:"/workflow/configuration/#android"},Object(o.b)("inlineCode",{parentName:"a"},"android.permissions")," key in your ",Object(o.b)("strong",{parentName:"a"},"app.json")," file")),Object(o.b)("li",{parentName:"ul"},"By default, your app will include ",Object(o.b)("strong",{parentName:"li"},"all"),' permissions supported by Expo. This is so that your standalone app will match its behavior in the Expo Go app and simply "work out of the box" no matter what permissions you ask for, with hardly any configuration needed on your part.'),Object(o.b)("li",{parentName:"ul"},"There are some drawbacks to this. For example, let's say your To-do list app requests ",Object(o.b)("inlineCode",{parentName:"li"},"CAMERA")," permission upon installation. Your users may be wary of installing since nothing in the app seems to use the camera, so why would it need that permission?"),Object(o.b)("li",{parentName:"ul"},"To remedy this, simply add the ",Object(o.b)("inlineCode",{parentName:"li"},"android.permissions")," key in your ",Object(o.b)("strong",{parentName:"li"},"app.json")," file, and specify which permissions your app will use. A list of all Android permissions and configuration options can be found ",Object(o.b)("a",{parentName:"li",href:"/workflow/configuration/#android"},"here"),"."),Object(o.b)("li",{parentName:"ul"},"To use ",Object(o.b)("em",{parentName:"li"},"only")," the minimum necessary permissions that Expo requires to run, set ",Object(o.b)("inlineCode",{parentName:"li"},'"permissions" : []'),". To use those in addition to ",Object(o.b)("inlineCode",{parentName:"li"},"CAMERA")," permission, for example, you'd set ",Object(o.b)("inlineCode",{parentName:"li"},'"permissions" : ["CAMERA"]'),".")),Object(o.b)("h2",{id:"common-app-rejections"},"Common App Rejections"),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},"It's helpful to glance over ",Object(o.b)("a",{parentName:"li",href:"https://developer.apple.com/app-store/review/rejections/"},"Common App Rejections"),"."),Object(o.b)("li",{parentName:"ul"},"Binaries can get rejected for having poorly formatted icons, so double check the ",Object(o.b)("a",{parentName:"li",href:"/guides/app-icons/"},"App Icon guide"),"."),Object(o.b)("li",{parentName:"ul"},"Apple can reject your app if elements don't render properly on an iPad, even if your app doesn't target the iPad form factor. Be sure and test your app on an iPad (or iPad simulator)."),Object(o.b)("li",{parentName:"ul"},"Occasionally people get a message from Apple which mentions an IPv6 network. Typically this is just Apple's way of informing you what kind of network they tested on, and the actual \"IPv6\" detail is a red herring. All of Expo's iOS code uses ",Object(o.b)("inlineCode",{parentName:"li"},"NSURLSession"),", which is IPv6-compatible. ",Object(o.b)("a",{parentName:"li",href:"https://forums.expo.dev/t/ios-standalone-rejected-at-review-because-of-ipv6/7062"},"More info"),".")),Object(o.b)("h2",{id:"system-permissions-dialogs-on-ios"},"System permissions dialogs on iOS"),Object(o.b)("p",null,"If your app asks for ",Object(o.b)("a",{parentName:"p",href:"/versions/latest/sdk/permissions/"},"system permissions"),' from the user, e.g. to use the device\'s camera, or access photos, Apple requires an explanation for how your app makes use of that data. Expo will automatically provide a boilerplate reason for you, such as "Allow cool-app to access the camera", however these ',Object(o.b)("strong",{parentName:"p"},"must")," be customized and tailored to your specific use case in order for your app to be accepted by the App Store. To do this, override these values using the ",Object(o.b)("a",{parentName:"p",href:"/versions/latest/config/app/#infoplist"},"ios.infoPlist")," key in ",Object(o.b)("strong",{parentName:"p"},"app.json"),", for example:"),Object(o.b)("pre",null,Object(o.b)("code",{parentName:"pre"},'"infoPlist": {\n  "NSCameraUsageDescription": "This app uses the camera to scan barcodes on event tickets."\n},\n')),Object(o.b)("p",null,"The full list of keys Expo provides by default can be seen ",Object(o.b)("a",{parentName:"p",href:"https://github.com/expo/expo/tree/main/exponent-view-template/ios/exponent-view-template/Supporting/Info.plist#L28-L45"},"here"),". Unlike with Android, on iOS it is not possible to filter the list of permissions an app may request at a native level. This means that by default, your app will ship with all of these default boilerplate strings embedded in the binary. You can provide any overrides you want in the ",Object(o.b)("inlineCode",{parentName:"p"},"infoPlist")," configuration. Because these strings are configured at the native level, they will only be published when you build a new binary with ",Object(o.b)("inlineCode",{parentName:"p"},"expo build"),"."),Object(o.b)("h2",{id:"localizing-your-ios-app"},"Localizing your iOS app"),Object(o.b)("p",null,"If you plan on shipping your app to different countries, regions, or just want it to support various languages, you can provide ",Object(o.b)("a",{parentName:"p",href:"/../../../../../../versions/latest/sdk/localization"},"localized")," strings for things like the display name and system dialogs. All of this is easily set up ",Object(o.b)("a",{parentName:"p",href:"/../../../../../../workflow/configuration/#ios"},"in your app.json"),". First, set ",Object(o.b)("inlineCode",{parentName:"p"},"ios.infoPlist.CFBundleAllowMixedLocalizations: true"),", then provide a list of file paths to ",Object(o.b)("inlineCode",{parentName:"p"},"locales"),"."),Object(o.b)("pre",null,Object(o.b)("code",{parentName:"pre",className:"language-json"},'  "expo" : {\n    ...\n    "ios" : {\n      "infoPlist": {\n        "CFBundleAllowMixedLocalizations": true\n      }\n    },\n    "locales": {\n      "ja": "./languages/japanese.json"\n    }\n  }\n')),Object(o.b)("p",null,"The keys provided to ",Object(o.b)("inlineCode",{parentName:"p"},"locales")," should be the ",Object(o.b)("a",{parentName:"p",href:"https://developer.apple.com/documentation/xcode/choosing-localization-regions-and-scripts"},"language identifier"),", made up of a ",Object(o.b)("a",{parentName:"p",href:"https://www.loc.gov/standards/iso639-2/php/code_list.php"},"2-letter language code")," of your desired language, with an optional region code (e.g. ",Object(o.b)("inlineCode",{parentName:"p"},"en-US")," or ",Object(o.b)("inlineCode",{parentName:"p"},"en-GB"),"), and the value should point to a JSON file that looks something like this:"),Object(o.b)("pre",null,Object(o.b)("code",{parentName:"pre",className:"language-json"},'// japanese.json\n{\n  "CFBundleDisplayName": "\u3053\u3093\u306b\u3061\u306f",\n  "NSContactsUsageDescription": "\u65e5\u672c\u8a9e\u306e\u3053\u308c\u3089\u306e\u8a00\u8449"\n}\n')),Object(o.b)("p",null,"Now, iOS knows to set the display name of your app to ",Object(o.b)("inlineCode",{parentName:"p"},"\u3053\u3093\u306b\u3061\u306f")," whenever it's installed on a device with the language set to Japanese."))}c.isMDXComponent=!0}},[["SUgY",1,0]]]);