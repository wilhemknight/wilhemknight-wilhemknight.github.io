_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[93],{"7ljp":function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return h}));var a=n("q1tI"),l=n.n(a);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t){if(null==e)return{};var n,a,l=function(e,t){if(null==e)return{};var n,a,l={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(l[n]=e[n]);return l}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}var p=l.a.createContext({}),c=function(e){var t=l.a.useContext(p),n=t;return e&&(n="function"===typeof e?e(t):b(b({},t),e)),n},s=function(e){var t=c(e.components);return l.a.createElement(p.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return l.a.createElement(l.a.Fragment,{},t)}},d=l.a.forwardRef((function(e,t){var n=e.components,a=e.mdxType,r=e.originalType,i=e.parentName,p=o(e,["components","mdxType","originalType","parentName"]),s=c(n),d=a,h=s["".concat(i,".").concat(d)]||s[d]||u[d]||r;return n?l.a.createElement(h,b(b({ref:t},p),{},{components:n})):l.a.createElement(h,b({ref:t},p))}));function h(e,t){var n=arguments,a=t&&t.mdxType;if("string"===typeof e||a){var r=n.length,i=new Array(r);i[0]=d;var b={};for(var o in t)hasOwnProperty.call(t,o)&&(b[o]=t[o]);b.originalType=e,b.mdxType="string"===typeof e?e:a,i[1]=b;for(var p=2;p<r;p++)i[p]=n[p];return l.a.createElement.apply(null,i)}return l.a.createElement.apply(null,n)}d.displayName="MDXCreateElement"},HALo:function(e,t,n){"use strict";function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}n.d(t,"a",(function(){return a}))},Qetd:function(e,t,n){"use strict";var a=Object.assign.bind(Object);e.exports=a,e.exports.default=e.exports},VvHC:function(e,t,n){"use strict";n.r(t),n.d(t,"meta",(function(){return b})),n.d(t,"headings",(function(){return o})),n.d(t,"default",(function(){return c}));var a=n("HALo"),l=n("dhJC"),r=(n("q1tI"),n("7ljp")),i=["components"],b={title:"Advanced release channels"},o=[{depth:2,type:"text",title:"Introduction"},{depth:2,type:"text",title:"See past publishes"},{depth:4,type:"text",title:"Example command and output"},{depth:4,type:"text",title:"Example command and output"},{depth:2,type:"text",title:"What version of the app will my users get?"},{depth:2,type:"text",title:"Promoting a release to a new release channel"},{depth:2,type:"text",title:"Rollback a release channel entry"},{depth:2,type:"text",title:"Release channels CLI tools"},{depth:3,type:"text",title:"Publish history"},{depth:3,type:"text",title:"Publish details"},{depth:3,type:"text",title:"Publish rollback"},{depth:3,type:"text",title:"Publish set"}],p={meta:b,headings:o};function c(e){var t=e.components,n=Object(l.a)(e,i);return Object(r.b)("wrapper",Object(a.a)({},p,n,{components:t,mdxType:"MDXLayout"}),Object(r.b)("blockquote",null,Object(r.b)("p",{parentName:"blockquote"},"Release channels are used for our Classic Updates service. As of Dec 2021, we started previewing the next generation of our updates service: EAS Update. ",Object(r.b)("a",{parentName:"p",href:"/../../../../../../eas-update"},"Learn more"),".")),Object(r.b)("h2",{id:"introduction"},"Introduction"),Object(r.b)("p",null,"For a quick introduction to release channels, read ",Object(r.b)("a",{parentName:"p",href:"/distribution/release-channels/"},"this"),"."),Object(r.b)("p",null,"When you publish your app by running ",Object(r.b)("inlineCode",{parentName:"p"},"expo publish --release-channel staging"),", it creates:"),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},"a release, identified by a ",Object(r.b)("inlineCode",{parentName:"li"},"publicationId")," for Android and iOS platforms. A release refers to your bundled source code and assets at the time of publication."),Object(r.b)("li",{parentName:"ul"},"a link to the release in the ",Object(r.b)("inlineCode",{parentName:"li"},"staging")," release channel, identified by a ",Object(r.b)("inlineCode",{parentName:"li"},"channelId"),". This is like a commit on a git branch.")),Object(r.b)("p",null,"For simplicity, the rest of this article will refer to just the ",Object(r.b)("inlineCode",{parentName:"p"},"ios")," releases, but you could swap out ios for android at any point and everything would still be true."),Object(r.b)("h2",{id:"see-past-publishes"},"See past publishes"),Object(r.b)("p",null,"You can see everything that you\u2019ve published with ",Object(r.b)("inlineCode",{parentName:"p"},"expo publish:history"),"."),Object(r.b)("h4",{id:"example-command-and-output"},"Example command and output"),Object(r.b)("p",null,Object(r.b)("inlineCode",{parentName:"p"},"expo publish:history --platform ios")),Object(r.b)("table",null,Object(r.b)("thead",{parentName:"table"},Object(r.b)("tr",{parentName:"thead"},Object(r.b)("th",{parentName:"tr",align:null},"publishedTime"),Object(r.b)("th",{parentName:"tr",align:null},"appVersion"),Object(r.b)("th",{parentName:"tr",align:null},"sdkVersion"),Object(r.b)("th",{parentName:"tr",align:null},"platform"),Object(r.b)("th",{parentName:"tr",align:null},"channel"),Object(r.b)("th",{parentName:"tr",align:null},"publicationId"))),Object(r.b)("tbody",{parentName:"table"},Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",{parentName:"tr",align:null},"2018-01-05T23:55:04.603Z"),Object(r.b)("td",{parentName:"tr",align:null},"1.0.0"),Object(r.b)("td",{parentName:"tr",align:null},"24.0.0"),Object(r.b)("td",{parentName:"tr",align:null},"ios"),Object(r.b)("td",{parentName:"tr",align:null},"staging"),Object(r.b)("td",{parentName:"tr",align:null},"80b1ffd7-4e05-4851-95f9-697e122033c3")))),Object(r.b)("p",null,"To see more details about this particular release, you can run ",Object(r.b)("inlineCode",{parentName:"p"},"expo publish:details")),Object(r.b)("h4",{id:"example-command-and-output-1"},"Example command and output"),Object(r.b)("p",null,Object(r.b)("inlineCode",{parentName:"p"},"expo publish:details --publish-id 80b1ffd7-4e05-4851-95f9-697e122033c3")),Object(r.b)("p",null,Object(r.b)("img",{parentName:"p",src:"/static/images/release-channels-pub-details-1.png",alt:"Publish Details"})),Object(r.b)("h2",{id:"what-version-of-the-app-will-my-users-get"},"What version of the app will my users get?"),Object(r.b)("p",null,"Your users will get the most recent compatible release that was pushed to a release channel. Factors that affect compatibility:"),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},"sdkVersion (standalone apps are built to support only a single SDK version)"),Object(r.b)("li",{parentName:"ul"},"platform"),Object(r.b)("li",{parentName:"ul"},"releaseChannel")),Object(r.b)("p",null,"The following flowchart shows how we determine which release to return to a user:"),Object(r.b)("p",null,Object(r.b)("img",{parentName:"p",src:"/static/images/release-channels-flowchart.png",alt:"Serving Flowchart"})),Object(r.b)("h2",{id:"promoting-a-release-to-a-new-release-channel"},"Promoting a release to a new release channel"),Object(r.b)("p",null,"Example use case: you previously published a release to ",Object(r.b)("inlineCode",{parentName:"p"},"staging")," and everything went well in your testing. Now you want this release to be active in another release channel (ie) production"),Object(r.b)("p",null,"We run ",Object(r.b)("inlineCode",{parentName:"p"},"expo publish:set")," to push our release to the ",Object(r.b)("inlineCode",{parentName:"p"},"production")," release channel.\n",Object(r.b)("inlineCode",{parentName:"p"},"expo publish:set --publish-id 80b1ffd7-4e05-4851-95f9-697e122033c3 --release-channel production")),Object(r.b)("p",null,"Continuing from the previous section, we can see that our release is available in both the ",Object(r.b)("inlineCode",{parentName:"p"},"staging")," and the ",Object(r.b)("inlineCode",{parentName:"p"},"production")," release channels."),Object(r.b)("p",null,Object(r.b)("inlineCode",{parentName:"p"},"expo publish:history --platform ios")),Object(r.b)("table",null,Object(r.b)("thead",{parentName:"table"},Object(r.b)("tr",{parentName:"thead"},Object(r.b)("th",{parentName:"tr",align:null},"publishedTime"),Object(r.b)("th",{parentName:"tr",align:null},"appVersion"),Object(r.b)("th",{parentName:"tr",align:null},"sdkVersion"),Object(r.b)("th",{parentName:"tr",align:null},"platform"),Object(r.b)("th",{parentName:"tr",align:null},"channel"),Object(r.b)("th",{parentName:"tr",align:null},"publicationId"))),Object(r.b)("tbody",{parentName:"table"},Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",{parentName:"tr",align:null},"2018-01-05T23:55:04.603Z"),Object(r.b)("td",{parentName:"tr",align:null},"1.0.0"),Object(r.b)("td",{parentName:"tr",align:null},"36.0.0"),Object(r.b)("td",{parentName:"tr",align:null},"ios"),Object(r.b)("td",{parentName:"tr",align:null},"staging"),Object(r.b)("td",{parentName:"tr",align:null},"80b1ffd7-4e05-4851-95f9-697e122033c3")),Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",{parentName:"tr",align:null},"2018-01-05T23:55:04.603Z"),Object(r.b)("td",{parentName:"tr",align:null},"1.0.0"),Object(r.b)("td",{parentName:"tr",align:null},"36.0.0"),Object(r.b)("td",{parentName:"tr",align:null},"ios"),Object(r.b)("td",{parentName:"tr",align:null},"production"),Object(r.b)("td",{parentName:"tr",align:null},"80b1ffd7-4e05-4851-95f9-697e122033c3")),Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",{parentName:"tr",align:null},"2018-01-04T22:43:19.302Z"),Object(r.b)("td",{parentName:"tr",align:null},"1.0.0"),Object(r.b)("td",{parentName:"tr",align:null},"36.0.0"),Object(r.b)("td",{parentName:"tr",align:null},"ios"),Object(r.b)("td",{parentName:"tr",align:null},"production"),Object(r.b)("td",{parentName:"tr",align:null},"d6b61741-a8dc-11e9-852a-3b0715b88238")))),Object(r.b)("h2",{id:"rollback-a-release-channel-entry"},"Rollback a release channel entry"),Object(r.b)("p",null,"Example use case: you published a release to your ",Object(r.b)("inlineCode",{parentName:"p"},"production")," release channel, only to realize that it includes a major regression for some of your users, so you want to revert to the previous version."),Object(r.b)("p",null,"Continuing from the previous section, we rollback our ",Object(r.b)("inlineCode",{parentName:"p"},"production")," release channel entry for just the iOS platform with ",Object(r.b)("inlineCode",{parentName:"p"},"expo publish:set")),Object(r.b)("p",null,Object(r.b)("inlineCode",{parentName:"p"},"expo publish:set --release-channel production --publish-id d6b61741-a8dc-11e9-852a-3b0715b88238")),Object(r.b)("p",null,"Or, we could rollback the ",Object(r.b)("inlineCode",{parentName:"p"},"production")," release channel entry for both iOS and Android with:\n",Object(r.b)("inlineCode",{parentName:"p"},"expo publish:rollback --release-channel production --sdk-version 36.0.0")),Object(r.b)("p",null,"Now we can see that our releases are available on the production release channel."),Object(r.b)("p",null,Object(r.b)("inlineCode",{parentName:"p"},"expo publish:history --platform ios")),Object(r.b)("table",null,Object(r.b)("thead",{parentName:"table"},Object(r.b)("tr",{parentName:"thead"},Object(r.b)("th",{parentName:"tr",align:null},"publishedTime"),Object(r.b)("th",{parentName:"tr",align:null},"appVersion"),Object(r.b)("th",{parentName:"tr",align:null},"sdkVersion"),Object(r.b)("th",{parentName:"tr",align:null},"platform"),Object(r.b)("th",{parentName:"tr",align:null},"channel"),Object(r.b)("th",{parentName:"tr",align:null},"publicationId"))),Object(r.b)("tbody",{parentName:"table"},Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",{parentName:"tr",align:null},"2018-01-04T22:43:19.302Z"),Object(r.b)("td",{parentName:"tr",align:null},"1.0.0"),Object(r.b)("td",{parentName:"tr",align:null},"36.0.0"),Object(r.b)("td",{parentName:"tr",align:null},"ios"),Object(r.b)("td",{parentName:"tr",align:null},"production"),Object(r.b)("td",{parentName:"tr",align:null},"d6b61741-a8dc-11e9-852a-3b0715b88238")))),Object(r.b)("h2",{id:"release-channels-cli-tools"},"Release channels CLI tools"),Object(r.b)("h3",{id:"publish-history"},"Publish history"),Object(r.b)("pre",null,Object(r.b)("code",{parentName:"pre"},"  Usage: expo publish:history [--release-channel <channel-name>] [--count <number-of-logs>]\n\n  View a log of your published releases.\n\n  Options:\n    -c, --release-channel <channel-name>  Filter by release channel. If this flag is not included, the most recent publications will be shown.\n    -count, --count <number-of-logs>      Number of logs to view, maximum 100, default 5.\n    -r, --raw                             Produce some raw output.\n    -p, --platform <ios|android>          Filter by platform, android or ios.\n")),Object(r.b)("h3",{id:"publish-details"},"Publish details"),Object(r.b)("pre",null,Object(r.b)("code",{parentName:"pre"},"  Usage: expo publish:details --publish-id <publish-id>\n  View the details of a published release.\n\n  Options:\n    --publish-id <publish-id>  Publication id. (Required)\n    -r, --raw                             Produce some raw output.\n")),Object(r.b)("h3",{id:"publish-rollback"},"Publish rollback"),Object(r.b)("pre",null,Object(r.b)("code",{parentName:"pre"},"Usage: expo publish:rollback\n\n  Rollback an update to a release channel. Equivalent to running `expo publish:set` with publish-id set to the most recent release to the specified sdk version\n\n  Options:\n    -c, --release-channel <channel-name>  The name of the release channel to roll back (Required)\n    -s, --sdk-version <version>           The SDK version to roll back (e.g. 37.0.0) (Required)\n    -p, --platform <ios|android>          The platform to roll back (roll back both unless specified)\n")),Object(r.b)("h3",{id:"publish-set"},"Publish set"),Object(r.b)("pre",null,Object(r.b)("code",{parentName:"pre"}," Usage: expo publish:set --release-channel <channel-name> --publish-id <publish-id>\n\n  Set a published release to be served from a specified channel.\n\n  Options:\n    -c, --release-channel <channel-name>  The channel to set the published release. (Required)\n    -p, --publish-id <publish-id>         The id of the published release to serve from the channel. (Required)\n")))}c.isMDXComponent=!0},boKN:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/distribution/advanced-release-channels",function(){return n("VvHC")}])},dhJC:function(e,t,n){"use strict";function a(e,t){if(null==e)return{};var n,a,l=function(e,t){if(null==e)return{};var n,a,l={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(l[n]=e[n]);return l}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}n.d(t,"a",(function(){return a}))}},[["boKN",1,0]]]);