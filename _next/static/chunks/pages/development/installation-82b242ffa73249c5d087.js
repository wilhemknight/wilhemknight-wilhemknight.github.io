_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[89],{K0YK:function(e,t,a){"use strict";a.r(t),a.d(t,"meta",(function(){return b})),a.d(t,"headings",(function(){return s})),a.d(t,"default",(function(){return m}));var n=a("HALo"),o=a("dhJC"),i=(a("q1tI"),a("7ljp")),p=a("HCau"),l=a("FhZx"),r=a("5tZt"),d=a("zokH"),c=["components"],b={title:"Installation in React Native and Bare workflow projects",sidebar_title:"Bare React Native Installation"},s=[{depth:2,type:"text",title:"1. Installation"},{depth:3,type:"text",title:"\ud83c\udf4f iOS"},{depth:3,type:"text",title:"\ud83e\udd16 Android"},{depth:2,type:"text",title:"2. Basic configuration"},{depth:3,type:"text",title:"\ud83c\udf4f iOS"},{depth:3,type:"text",title:"\ud83e\udd16 Android"},{depth:2,type:"text",title:"3. Optional configuration"},{depth:3,type:"text",title:"Enable development with Expo CLI"},{depth:3,type:"text",title:"Disable packager autostart when building for iOS"},{depth:3,type:"text",title:"Add better error handlers"},{depth:3,type:"text",title:"Loading published updates"},{depth:2,type:"text",title:"4. Build and Install"}],u={meta:b,headings:s};function m(e){var t=e.components,a=Object(o.a)(e,c);return Object(i.b)("wrapper",Object(n.a)({},u,a,{components:t,mdxType:"MDXLayout"}),Object(i.b)("p",null,"The installation steps on this page are only required to add the ",Object(i.b)("inlineCode",{parentName:"p"},"expo-dev-client")," library to a React Native or Bare project. To add a the ",Object(i.b)("inlineCode",{parentName:"p"},"expo-dev-client")," library to an existing managed project, see our ",Object(i.b)("a",{parentName:"p",href:"/development/getting-started/"},"Getting Started guide"),"."),Object(i.b)("p",null,"If you're just starting your project, you can create a new project from our template with:"),Object(i.b)(l.a,{cmd:["npx crna -t with-dev-client"],mdxType:"TerminalBlock"}),Object(i.b)("p",null,"If you have an existing project, you'll need to ",Object(i.b)("a",{parentName:"p",href:"/development/installation/"},"install the package and make a few changes")," to your ",Object(i.b)("strong",{parentName:"p"},"AppDelegate.m"),", ",Object(i.b)("strong",{parentName:"p"},"MainActivity.java")," and ",Object(i.b)("strong",{parentName:"p"},"MainApplication.java"),"."),Object(i.b)("p",null,"If you created your project with ",Object(i.b)("inlineCode",{parentName:"p"},"expo init"),", or you already have ",Object(i.b)("inlineCode",{parentName:"p"},"expo")," and/or other Expo modules up and running, use the tabs marked ",Object(i.b)("strong",{parentName:"p"},"With Expo modules"),"."),Object(i.b)("p",null,"If you created your project with ",Object(i.b)("inlineCode",{parentName:"p"},"expo init")," before SDK 43 and have ",Object(i.b)("inlineCode",{parentName:"p"},"react-native-unimodules")," up and running, use the tabs marked ",Object(i.b)("strong",{parentName:"p"},"With unimodules"),". When you're ready, consider upgrading to the newer Expo modules by ",Object(i.b)("a",{parentName:"p",href:"https://expo.fyi/expo-modules-migration"},"following these steps"),"."),Object(i.b)("p",null,"If you created your project with ",Object(i.b)("inlineCode",{parentName:"p"},"npx react-native init")," and do not have any other Expo packages installed, ",Object(i.b)("strong",{parentName:"p"},"starting from version ",Object(i.b)("inlineCode",{parentName:"strong"},"0.8.0")," you'll need to ",Object(i.b)("a",{parentName:"strong",href:"/bare/installing-expo-modules"},"install Expo modules"))," in order to use ",Object(i.b)("inlineCode",{parentName:"p"},"expo-dev-client"),"."),Object(i.b)("blockquote",null,Object(i.b)("p",{parentName:"blockquote"},Object(i.b)("strong",{parentName:"p"},"Note"),": if you are using ",Object(i.b)("em",{parentName:"p"},"SDK 43 or above"),", you'll need to install ",Object(i.b)("inlineCode",{parentName:"p"},"expo-dev-client@0.6.0")," or above.")),Object(i.b)("h2",{id:"1-installation"},"1. Installation"),Object(i.b)("p",null,"Add the ",Object(i.b)("inlineCode",{parentName:"p"},"expo-dev-client")," library to your package.json."),Object(i.b)(p.b,{packageName:"expo-development-client",cmd:["npm install expo-dev-client"],hideBareInstructions:!0,mdxType:"InstallSection"}),Object(i.b)("h3",{id:"-ios"},"\ud83c\udf4f iOS"),Object(i.b)("p",null,"Add the following lines to your ",Object(i.b)("strong",{parentName:"p"},"Podfile"),":"),Object(i.b)(r.a,{source:"/static/diffs/client/podfile.diff",mdxType:"ConfigurationDiff"}),Object(i.b)("p",null,"Run the following command to install native code for the Dev Launcher via CocoaPods."),Object(i.b)(p.b,{packageName:"expo-development-client",cmd:["npx pod-install"],hideBareInstructions:!0,mdxType:"InstallSection"}),Object(i.b)("p",null,"Also, make sure that your project is configured to deploy on an iOS version ",Object(i.b)("em",{parentName:"p"},"above 10"),".\nTo do that, open Xcode and go to General > Deployment Info, and select an iOS version of at least 11.0."),Object(i.b)("img",{src:"/static/images/client/check_ios_version.png",style:{maxWidth:"100%"}}),Object(i.b)("h3",{id:"-android"},"\ud83e\udd16 Android"),Object(i.b)("p",null,"No additional changes are needed to install the package on Android. \ud83c\udf89"),Object(i.b)("h2",{id:"2-basic-configuration"},"2. Basic configuration"),Object(i.b)("p",null,"Development builds use deep links to open projects from the QR code. If you have added a custom deep link scheme to your project, your development build will use it. However, if this isn't the case, you need to configure the deep link support for your app. The ",Object(i.b)("inlineCode",{parentName:"p"},"uri-scheme")," package will do this for you once you have chosen a scheme."),Object(i.b)(p.b,{packageName:"expo-development-client",cmd:["npx uri-scheme add <your scheme>"],hideBareInstructions:!0,mdxType:"InstallSection"}),Object(i.b)("p",null,"See the ",Object(i.b)("a",{parentName:"p",href:"https://www.npmjs.com/package/uri-scheme"},"uri-scheme package")," for more information."),Object(i.b)("h3",{id:"-ios-1"},"\ud83c\udf4f iOS"),Object(i.b)("p",null,"Make the following changes to allow the ",Object(i.b)("inlineCode",{parentName:"p"},"expo-dev-client")," library to control project initialization in the ",Object(i.b)("strong",{parentName:"p"},"DEBUG")," mode."),Object(i.b)(d.b,{tabs:["With Expo modules","With unimodules"],mdxType:"Tabs"},Object(i.b)(d.a,{mdxType:"Tab"},Object(i.b)(r.a,{source:"/static/diffs/client/app-delegate-expo-modules.diff",mdxType:"ConfigurationDiff"})),Object(i.b)(d.a,{mdxType:"Tab"},Object(i.b)(r.a,{source:"/static/diffs/client/app-delegate.diff",mdxType:"ConfigurationDiff"}))),Object(i.b)("h3",{id:"-android-1"},"\ud83e\udd16 Android"),Object(i.b)("p",null,"Make the following changes to allow the ",Object(i.b)("inlineCode",{parentName:"p"},"expo-dev-client")," library to control project initialization in the ",Object(i.b)("strong",{parentName:"p"},"DEBUG")," mode."),Object(i.b)(d.b,{tabs:["With Expo modules","With unimodules"],mdxType:"Tabs"},Object(i.b)(d.a,{mdxType:"Tab"},Object(i.b)(r.a,{source:"/static/diffs/client/main-activity-and-application-expo-modules.diff",mdxType:"ConfigurationDiff"})),Object(i.b)(d.a,{mdxType:"Tab"},Object(i.b)(r.a,{source:"/static/diffs/client/main-activity-and-application.diff",mdxType:"ConfigurationDiff"}))),Object(i.b)("h2",{id:"3-optional-configuration"},"3. Optional configuration"),Object(i.b)("p",null,"There are a few more changes you can make to get the best experience, but you ",Object(i.b)("a",{parentName:"p",href:"/../../../../../../development/getting-started/#building-and-installing-your-first-development-build"},"can skip ahead to building")," if you prefer."),Object(i.b)("h3",{id:"enable-development-with-expo-cli"},"Enable development with Expo CLI"),Object(i.b)("p",null,"Expo CLI requires you to have the ",Object(i.b)("inlineCode",{parentName:"p"},"expo")," package installed so it can maintain consistent behavior in your project when new versions of the Expo SDK are released. The package will not be used directly by your project unless you import it in your application code, which is not recommended."),Object(i.b)(p.b,{packageName:"expo",cmd:["npm install expo --save-dev"],hideBareInstructions:!0,mdxType:"InstallSection"}),Object(i.b)("h3",{id:"disable-packager-autostart-when-building-for-ios"},"Disable packager autostart when building for iOS"),Object(i.b)("p",null,"When you start your project on iOS, the metro bundler will be started automatically. This behavior might not be ideal when you want to use ",Object(i.b)("inlineCode",{parentName:"p"},"expo start"),". Our recommended solution is to remove the ",Object(i.b)("inlineCode",{parentName:"p"},"Start Packager"),' action from building scripts. To do that you need to open the Xcode, go to "Build Phases" and remove the "Start Packager" action.'),Object(i.b)("img",{src:"/static/images/client/remove_start_packager.png",style:{maxWidth:"100%"}}),Object(i.b)("h3",{id:"add-better-error-handlers"},"Add better error handlers"),Object(i.b)("p",null,"Sometimes, for certain types of errors, we can provide more helpful error messages than the ones that ship by default with React Native. To turn this feature on you need to import ",Object(i.b)("inlineCode",{parentName:"p"},"expo-dev-client")," in your ",Object(i.b)("strong",{parentName:"p"},"index")," file (in the managed workflow, you need to add this import on top of the ",Object(i.b)("strong",{parentName:"p"},"App.{js|tsx}"),"). Make sure that the import statement is above ",Object(i.b)("inlineCode",{parentName:"p"},"import App from './App'"),"."),Object(i.b)("pre",null,Object(i.b)("code",{parentName:"pre",className:"language-js"},"import 'expo-dev-client';\n...\nimport App from \"./App\";\n")),Object(i.b)("blockquote",null,Object(i.b)("p",{parentName:"blockquote"},"Note: This will only affect the application in which you make this change. If you want to load multiple projects from a single development app, you'll need to add this import statement to each project.")),Object(i.b)("h3",{id:"loading-published-updates"},"Loading published updates"),Object(i.b)("p",null,"Development builds can also open and preview published updates to your app. To add this feature, add ",Object(i.b)("inlineCode",{parentName:"p"},"expo-updates@0.8.0")," or newer to your app if it isn't already installed, and add a small additional integration in your ",Object(i.b)("strong",{parentName:"p"},"AppDelegate.m")," and ",Object(i.b)("strong",{parentName:"p"},"MainApplication.java")," files."),Object(i.b)("ol",null,Object(i.b)("li",{parentName:"ol"},Object(i.b)("a",{parentName:"li",href:"/bare/installing-expo-modules/"},"Install ",Object(i.b)("inlineCode",{parentName:"a"},"expo-modules")," in your project"),"."),Object(i.b)("li",{parentName:"ol"},Object(i.b)("a",{parentName:"li",href:"/bare/installing-updates/"},"Install ",Object(i.b)("inlineCode",{parentName:"a"},"expo-updates")," in your project"),"."),Object(i.b)("li",{parentName:"ol"},"Make the following changes to complete the integration with ",Object(i.b)("inlineCode",{parentName:"li"},"expo-updates"),":")),Object(i.b)(r.a,{source:"/static/diffs/client/app-delegate-updates.diff",mdxType:"ConfigurationDiff"}),Object(i.b)(r.a,{source:"/static/diffs/client/main-application-updates.diff",mdxType:"ConfigurationDiff"}),Object(i.b)("h2",{id:"4-build-and-install"},"4. Build and Install"),Object(i.b)("p",null,"You're now ready to ",Object(i.b)("a",{parentName:"p",href:"/../../../../../../development/getting-started/#creating-and-installing-your-first-development-build"},"build your first development build"),"."))}m.isMDXComponent=!0},b9gK:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/development/installation",function(){return a("K0YK")}])}},[["b9gK",1,0,2,3,6,9,23,24]]]);