_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[210],{"0wqC":function(e,t,n){"use strict";n.r(t),n.d(t,"meta",(function(){return p})),n.d(t,"headings",(function(){return s})),n.d(t,"default",(function(){return b}));var a=n("HALo"),r=n("dhJC"),i=(n("q1tI"),n("7ljp")),o=["components"],p={title:"Submitting to the Apple App Store",sidebar_title:"Submitting to Apple"},s=[{depth:2,type:"text",title:"Prerequisites"},{depth:2,type:"text",title:"1. Build a standalone app"},{depth:2,type:"text",title:"2. Start the submission"},{depth:2,type:"text",title:"Submitting your app using CI"},{depth:2,type:"text",title:"Automating submissions"}],l={meta:p,headings:s};function b(e){var t=e.components,n=Object(r.a)(e,o);return Object(i.b)("wrapper",Object(a.a)({},l,n,{components:t,mdxType:"MDXLayout"}),Object(i.b)("p",null,"This guide outlines how to submit your app to the Apple App Store from your own computer and from CI."),Object(i.b)("h2",{id:"prerequisites"},"Prerequisites"),Object(i.b)("ul",null,Object(i.b)("li",{parentName:"ul"},"A paid developer account is required to submit an app ","\u2014"," you can create an Apple Developer account on the ",Object(i.b)("a",{parentName:"li",href:"https://developer.apple.com/account/"},"Apple Developer Portal"),"."),Object(i.b)("li",{parentName:"ul"},"You will also need to have EAS CLI installed and authenticated with your Expo account: ",Object(i.b)("inlineCode",{parentName:"li"},"npm install -g eas-cli && eas login"),".")),Object(i.b)("h2",{id:"1-build-a-standalone-app"},"1. Build a standalone app"),Object(i.b)("p",null,"You'll need a native app binary signed for store submission. You can either use ",Object(i.b)("a",{parentName:"p",href:"/submit/introduction/"},"EAS Build")," or do it on your own."),Object(i.b)("h2",{id:"2-start-the-submission"},"2. Start the submission"),Object(i.b)("p",null,"To submit the binary to the App Store, run ",Object(i.b)("inlineCode",{parentName:"p"},"eas submit -p ios")," from inside your project directory. The command will lead you step by step through the process of submitting the app. See the ",Object(i.b)("a",{parentName:"p",href:"/submit/eas-json/"},"Configuration with eas.json")," page to learn how to pre-configure your submission."),Object(i.b)("blockquote",null,Object(i.b)("p",{parentName:"blockquote"},"Although it's possible to upload any binary to the store, each submission is associated with an Expo project. That's why it's important to start a submission from inside your project's directory - that's where your ",Object(i.b)("a",{parentName:"p",href:"/workflow/configuration/"},"app configuration")," is defined.")),Object(i.b)("p",null,"If you have not generated an App Store Connect API Key yet, you can let EAS CLI take care of that for you by signing into your Apple Developer Program account and following the prompts. You can also upload your own ",Object(i.b)("a",{parentName:"p",href:"https://expo.fyi/creating-asc-api-key"},"API Key")," or pass in an ",Object(i.b)("a",{parentName:"p",href:"https://expo.fyi/apple-app-specific-password"},"Apple app-specific password"),"."),Object(i.b)("p",null,"To upload your iOS app to the Apple App Store, run ",Object(i.b)("inlineCode",{parentName:"p"},"eas submit --platform ios")," and follow the instructions on the screen."),Object(i.b)("p",null,"The command will perform the following steps:"),Object(i.b)("ul",null,Object(i.b)("li",{parentName:"ul"},Object(i.b)("p",{parentName:"li"},"Log in to your Expo account and ensure that your app project exists on EAS servers.")),Object(i.b)("li",{parentName:"ul"},Object(i.b)("p",{parentName:"li"},"Ensure that your app exists on App Store Connect and its ",Object(i.b)("a",{parentName:"p",href:"https://expo.fyi/bundle-identifier"},"Bundle Identifier")," is registered on Apple Developer Portal:"),Object(i.b)("ul",{parentName:"li"},Object(i.b)("li",{parentName:"ul"},"You will be asked to log in to your Apple Developer account and select your team. You can also provide this information in ",Object(i.b)("strong",{parentName:"li"},"eas.json")," by setting ",Object(i.b)("inlineCode",{parentName:"li"},"appleId")," and ",Object(i.b)("inlineCode",{parentName:"li"},"appleTeamId")," in the submit profile. The Apple ID password has to be set with the ",Object(i.b)("inlineCode",{parentName:"li"},"EXPO_APPLE_PASSWORD")," environment variable."),Object(i.b)("li",{parentName:"ul"},"The command will look for ",Object(i.b)("inlineCode",{parentName:"li"},"ios.bundleIdentifier")," in the app config."),Object(i.b)("li",{parentName:"ul"},"If you are submitting your app for the first time, it will be automatically created.\nUnless ",Object(i.b)("inlineCode",{parentName:"li"},"expo.name")," in your app configuration is found or ",Object(i.b)("inlineCode",{parentName:"li"},"appName")," is provided in ",Object(i.b)("strong",{parentName:"li"},"eas.json"),", you will be prompted for the app name.\nYou can also specify your app's language and SKU using ",Object(i.b)("inlineCode",{parentName:"li"},"language")," and ",Object(i.b)("inlineCode",{parentName:"li"},"sku")," keys in ",Object(i.b)("strong",{parentName:"li"},"eas.json"),". If you have never submitted any app before, you may also have to specify your company name with ",Object(i.b)("inlineCode",{parentName:"li"},"companyName"),".")),Object(i.b)("blockquote",{parentName:"li"},Object(i.b)("p",{parentName:"blockquote"},"If you already have an App Store Connect app, this step can be skipped by providing the ",Object(i.b)("inlineCode",{parentName:"p"},"ascAppId")," in the submit profile. The ",Object(i.b)("a",{parentName:"p",href:"https://expo.fyi/asc-app-id"},"ASC App ID")," can be found either on App Store Connect, or later during this command in the ",Object(i.b)("em",{parentName:"p"},"Submission Summary")," table."))),Object(i.b)("li",{parentName:"ul"},Object(i.b)("p",{parentName:"li"},"Ensure you have the proper credentials set up. If none can be found, you can let EAS CLI set some up for you."),Object(i.b)("details",null,Object(i.b)("summary",null,Object(i.b)("h4",null,"\ud83d\udd10 Do you want to use your own credentials?")),Object(i.b)("p",null,Object(i.b)("p",{parentName:"li"},Object(i.b)("strong",{parentName:"p"},"App Store Connect API Key:")," Create your own ",Object(i.b)("a",{parentName:"p",href:"https://expo.fyi/creating-asc-api-key"},"API Key")," then set it with the ",Object(i.b)("inlineCode",{parentName:"p"},"ascApiKeyPath"),", ",Object(i.b)("inlineCode",{parentName:"p"},"ascApiKeyIssuerId"),", and ",Object(i.b)("inlineCode",{parentName:"p"},"ascApiKeyId")," fields in ",Object(i.b)("strong",{parentName:"p"},"eas.json"),"."),Object(i.b)("p",{parentName:"li"},Object(i.b)("strong",{parentName:"p"},"App Specific Password:")," Provide your ",Object(i.b)("a",{parentName:"p",href:"https://expo.fyi/apple-app-specific-password"},"password")," and Apple ID Username by passing them in with the ",Object(i.b)("inlineCode",{parentName:"p"},"EXPO_APPLE_APP_SPECIFIC_PASSWORD")," environment variable and ",Object(i.b)("inlineCode",{parentName:"p"},"appleId")," field in ",Object(i.b)("strong",{parentName:"p"},"eas.json"),", respectively.")))),Object(i.b)("li",{parentName:"ul"},Object(i.b)("p",{parentName:"li"},"Ask for which binary to submit. You can select one of the following:"),Object(i.b)("ul",{parentName:"li"},Object(i.b)("li",{parentName:"ul"},"The latest successful iOS build for the project on EAS servers."),Object(i.b)("li",{parentName:"ul"},"Specific build ID. It can be found on the ",Object(i.b)("a",{parentName:"li",href:"https://expo.dev/builds"},"builds dashboard"),"."),Object(i.b)("li",{parentName:"ul"},"Path to an ",Object(i.b)("strong",{parentName:"li"},".ipa")," archive on your local filesystem."),Object(i.b)("li",{parentName:"ul"},"URL to the app archive.")),Object(i.b)("blockquote",{parentName:"li"},Object(i.b)("p",{parentName:"blockquote"},"This step can be skipped if one of the following CLI parameters is provided: ",Object(i.b)("inlineCode",{parentName:"p"},"--latest"),", ",Object(i.b)("inlineCode",{parentName:"p"},"--id"),", ",Object(i.b)("inlineCode",{parentName:"p"},"--path"),", or ",Object(i.b)("inlineCode",{parentName:"p"},"--url"),"."))),Object(i.b)("li",{parentName:"ul"},Object(i.b)("p",{parentName:"li"},"A summary of the provided configuration is displayed and the submission process begins. The submission progress is displayed on the screen.")),Object(i.b)("li",{parentName:"ul"},Object(i.b)("p",{parentName:"li"},"Your build should now be visible on ",Object(i.b)("a",{parentName:"p",href:"https://appstoreconnect.apple.com"},"App Store Connect"),". If something goes wrong, an appropriate message is displayed on the screen."))),Object(i.b)("h2",{id:"submitting-your-app-using-ci"},"Submitting your app using CI"),Object(i.b)("p",null,"The ",Object(i.b)("inlineCode",{parentName:"p"},"eas submit")," command is able to perform submissions from a CI environment. All you have to do is ensure that all required information is provided with ",Object(i.b)("strong",{parentName:"p"},"eas.json")," and environment variables."),Object(i.b)("p",null,"You must do the following:"),Object(i.b)("ul",null,Object(i.b)("li",{parentName:"ul"},Object(i.b)("p",{parentName:"li"},"Provide the archive source (",Object(i.b)("inlineCode",{parentName:"p"},"--latest"),", ",Object(i.b)("inlineCode",{parentName:"p"},"--id"),", ",Object(i.b)("inlineCode",{parentName:"p"},"--path"),", or ",Object(i.b)("inlineCode",{parentName:"p"},"--url"),").")),Object(i.b)("li",{parentName:"ul"},Object(i.b)("p",{parentName:"li"},"Make sure that the iOS Bundle Identifier is present in your ",Object(i.b)("a",{parentName:"p",href:"/../../../../../../workflow/configuration/"},"app config file"),".")),Object(i.b)("li",{parentName:"ul"},Object(i.b)("p",{parentName:"li"},"Set the ASC App ID (",Object(i.b)("inlineCode",{parentName:"p"},"ascAppId")," in ",Object(i.b)("strong",{parentName:"p"},"eas.json"),"). The ASC App ID is required to skip the Apple developer log-in process, which will likely not be possible on CI due to the 2FA prompt.")),Object(i.b)("li",{parentName:"ul"},Object(i.b)("p",{parentName:"li"},"Set up your App Store Connect API Key with EAS Servers. You can check the state of your credentials by running ",Object(i.b)("inlineCode",{parentName:"p"},"eas credentials")," or by running ",Object(i.b)("inlineCode",{parentName:"p"},"eas submit -p ios")," interactively."),Object(i.b)("details",null,Object(i.b)("summary",null,Object(i.b)("h4",null,"\ud83d\udd10 Do you want to use your own credentials?")),Object(i.b)("p",null,Object(i.b)("p",{parentName:"li"},Object(i.b)("strong",{parentName:"p"},"App Store Connect API Key:")," Create your own ",Object(i.b)("a",{parentName:"p",href:"https://expo.fyi/creating-asc-api-key"},"API Key")," then set it with the ",Object(i.b)("inlineCode",{parentName:"p"},"ascApiKeyPath"),", ",Object(i.b)("inlineCode",{parentName:"p"},"ascApiKeyIssuerId"),", and ",Object(i.b)("inlineCode",{parentName:"p"},"ascApiKeyId")," fields in ",Object(i.b)("strong",{parentName:"p"},"eas.json"),"."),Object(i.b)("p",{parentName:"li"},Object(i.b)("strong",{parentName:"p"},"App Specific Password:")," Provide your ",Object(i.b)("a",{parentName:"p",href:"https://expo.fyi/apple-app-specific-password"},"password")," and Apple ID Username by passing them in with the ",Object(i.b)("inlineCode",{parentName:"p"},"EXPO_APPLE_APP_SPECIFIC_PASSWORD")," environment variable and ",Object(i.b)("inlineCode",{parentName:"p"},"appleId")," field in ",Object(i.b)("strong",{parentName:"p"},"eas.json"),", respectively."))))),Object(i.b)("p",null,"Example usage:"),Object(i.b)("pre",null,Object(i.b)("code",{parentName:"pre",className:"language-sh"},"eas submit -p ios --latest --profile foobar\n")),Object(i.b)("h2",{id:"automating-submissions"},"Automating submissions"),Object(i.b)("p",null,"To learn how to automatically submit your app after a successful build, refer to the ",Object(i.b)("a",{parentName:"p",href:"/../../../../../../build/automating-submissions/"},'"Automating submissions" guide'),"."))}b.isMDXComponent=!0},"7ljp":function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return d}));var a=n("q1tI"),r=n.n(a);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var l=r.a.createContext({}),b=function(e){var t=r.a.useContext(l),n=t;return e&&(n="function"===typeof e?e(t):p(p({},t),e)),n},c=function(e){var t=b(e.components);return r.a.createElement(l.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return r.a.createElement(r.a.Fragment,{},t)}},m=r.a.forwardRef((function(e,t){var n=e.components,a=e.mdxType,i=e.originalType,o=e.parentName,l=s(e,["components","mdxType","originalType","parentName"]),c=b(n),m=a,d=c["".concat(o,".").concat(m)]||c[m]||u[m]||i;return n?r.a.createElement(d,p(p({ref:t},l),{},{components:n})):r.a.createElement(d,p({ref:t},l))}));function d(e,t){var n=arguments,a=t&&t.mdxType;if("string"===typeof e||a){var i=n.length,o=new Array(i);o[0]=m;var p={};for(var s in t)hasOwnProperty.call(t,s)&&(p[s]=t[s]);p.originalType=e,p.mdxType="string"===typeof e?e:a,o[1]=p;for(var l=2;l<i;l++)o[l]=n[l];return r.a.createElement.apply(null,o)}return r.a.createElement.apply(null,n)}m.displayName="MDXCreateElement"},HALo:function(e,t,n){"use strict";function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}n.d(t,"a",(function(){return a}))},Qetd:function(e,t,n){"use strict";var a=Object.assign.bind(Object);e.exports=a,e.exports.default=e.exports},dhJC:function(e,t,n){"use strict";function a(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}n.d(t,"a",(function(){return a}))},uzdc:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/submit/ios",function(){return n("0wqC")}])}},[["uzdc",1,0]]]);