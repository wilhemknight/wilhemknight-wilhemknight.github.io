_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[871],{"3Rk5":function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/versions/v41.0.0/sdk/tracking-transparency",function(){return n("OenN")}])},I0q5:function(e,t,n){"use strict";n.d(t,"a",(function(){return O}));var a=n("z7pX"),r=n("H+61"),c=n("UlJF"),s=n("+Css"),o=n("7LId"),i=n("VIvw"),p=n("iHvq"),l=n("cpVT"),u=n("q1tI"),d=n("ufKf"),b=n("3zh3"),f=n("AeFk"),h=function(e){var t=e.size,n=void 0===t?24:t,a=e.stroke,r=void 0===a?b.palette.dark.white:a;return Object(f.c)("svg",{"aria-label":"check",width:n,height:n,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Object(f.c)("path",{d:"M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6m4-3h6v6m-11 5L21 3",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}))},m=n("5BX9");function y(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=Object(p.a)(e);if(t){var r=Object(p.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(i.a)(this,n)}}var j="v".concat(n("kiQV").version),O=function(e){Object(o.a)(n,e);var t=y(n);function n(){var e;Object(r.a)(this,n);for(var c=arguments.length,o=new Array(c),i=0;i<c;i++)o[i]=arguments[i];return e=t.call.apply(t,[this].concat(o)),Object(l.a)(Object(s.a)(e),"contentRef",u.createRef()),Object(l.a)(Object(s.a)(e),"state",{ready:!1}),Object(l.a)(Object(s.a)(e),"getSelectedDocsVersion",(function(){var t=e.context.version;return"latest"===t?j:t})),Object(l.a)(Object(s.a)(e),"getSnackSdkVersion",(function(){var t=e.getSelectedDocsVersion();return"unversioned"===t&&(t=j),t.replace("v","")})),Object(l.a)(Object(s.a)(e),"getExamplesPath",(function(){return"".concat(document.location.origin,"/static/examples/").concat(e.getSelectedDocsVersion())})),Object(l.a)(Object(s.a)(e),"getDependencies",(function(){return Object(a.a)(e.props.dependencies).join(",")})),Object(l.a)(Object(s.a)(e),"getCode",(function(){return(e.contentRef.current&&e.contentRef.current.textContent||"").replace(/%%placeholder-start%%.*%%placeholder-end%%/g,"")})),e}return Object(c.a)(n,[{key:"componentDidMount",value:function(){this.setState({ready:!0})}},{key:"render",value:function(){return Object(f.c)("div",null,Object(f.c)("div",{ref:this.contentRef,style:this.props.contentHidden?{display:"none"}:void 0},this.props.children),Object(f.c)("form",{action:d.a,method:"POST",target:"_blank"},Object(f.c)("input",{type:"hidden",name:"platform",value:this.props.defaultPlatform||"android"}),Object(f.c)("input",{type:"hidden",name:"name",value:this.props.label||"Example"}),Object(f.c)("input",{type:"hidden",name:"dependencies",value:this.getDependencies()}),Object(f.c)("input",{type:"hidden",name:"sdkVersion",value:this.getSnackSdkVersion()}),this.props.platforms&&Object(f.c)("input",{type:"hidden",name:"supportedPlatforms",value:this.props.platforms.join(",")}),this.state.ready&&Object(f.c)("input",{type:"hidden",name:"files",value:JSON.stringify(Object(d.b)({templateId:this.props.templateId,code:this.getCode(),files:this.props.files,baseURL:this.getExamplesPath()}))}),Object(f.c)("button",{className:"snack-inline-example-button",disabled:!this.state.ready},Object(f.c)(h,{size:16})," ",this.props.buttonTitle||"Try this example on Snack")))}}]),n}(u.Component);Object(l.a)(O,"contextType",m.a),Object(l.a)(O,"defaultProps",{dependencies:[]})},OenN:function(e,t,n){"use strict";n.r(t),n.d(t,"meta",(function(){return u})),n.d(t,"headings",(function(){return d})),n.d(t,"default",(function(){return f}));var a=n("HALo"),r=n("dhJC"),c=(n("q1tI"),n("7ljp")),s=n("3Ukx"),o=n("HCau"),i=n("hykZ"),p=n("I0q5"),l=["components"],u={title:"TrackingTransparency",sourceCodeUrl:"https://github.com/expo/expo/tree/sdk-41/packages/expo-tracking-transparency"},d=[{depth:2,type:"text",title:"Installation"},{depth:2,type:"text",title:"Usage"},{depth:2,type:"text",title:"API"}],b={meta:u,headings:d};function f(e){var t=e.components,n=Object(r.a)(e,l);return Object(c.b)("wrapper",Object(a.a)({},b,n,{components:t,mdxType:"MDXLayout"}),Object(c.b)("blockquote",null,Object(c.b)("p",{parentName:"blockquote"},"This library was added to SDK 41 in a patch release on May 21st, 2021. If you want to use this library on iOS, you must use Expo Go v2.19.6.")),Object(c.b)("p",null,'A library for requesting permission to track the user or their device. Examples of data used for tracking include email address, device ID, advertising ID, etc... This permission is only necessary on iOS 14 and higher; on iOS 13 and below this permission is always granted. If the "Allow Apps to Request to Track" device-level setting is off, this permission will be denied. Be sure to add ',Object(c.b)("inlineCode",{parentName:"p"},"NSUserTrackingUsageDescription")," to your ",Object(c.b)("a",{parentName:"p",href:"/../../../../../../versions/latest/config/app/#infoplist"},Object(c.b)("strong",{parentName:"a"},"Info.plist"))," to explain how the user will be tracked, otherwise your app will be rejected by Apple."),Object(c.b)("p",null,"For more information on Apple's new App Tracking Transparency framework, please refer to their ",Object(c.b)("a",{parentName:"p",href:"https://developer.apple.com/app-store/user-privacy-and-data-use/"},"documentation"),"."),Object(c.b)(i.a,{ios:!0,simulator:!0,mdxType:"PlatformsSection"}),Object(c.b)("h2",{id:"installation"},"Installation"),Object(c.b)(o.b,{packageName:"expo-tracking-transparency",mdxType:"InstallSection"}),Object(c.b)("h2",{id:"usage"},"Usage"),Object(c.b)(p.a,{label:"Basic tracking transparency usage",dependencies:["expo-tracking-transparency"],mdxType:"SnackInline"},Object(c.b)("pre",null,Object(c.b)("code",{parentName:"pre",className:"language-jsx"},"import React, { useEffect } from 'react';\nimport { Text, StyleSheet, View } from 'react-native';\nimport { requestTrackingPermissionsAsync } from 'expo-tracking-transparency';\n\nexport default function App() {\n  useEffect(() => {\n    (async () => {\n      const { status } = await requestTrackingPermissionsAsync();\n      if (status === 'granted') {\n        console.log('Yay! I have user permission to track data');\n      }\n    })();\n  }, []);\n\n  return (\n    <View style={styles.container}>\n      <Text>Tracking Transparency Module Example</Text>\n    </View>\n  );\n}\n\n/* @hide const styles = StyleSheet.create({ ... }); */\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n});\n/* @end */\n"))),Object(c.b)("h2",{id:"api"},"API"),Object(c.b)("pre",null,Object(c.b)("code",{parentName:"pre",className:"language-js"},"import {\n  requestTrackingPermissionsAsync,\n  getTrackingPermissionsAsync,\n} from 'expo-tracking-transparency';\n")),Object(c.b)(s.a,{packageName:"expo-tracking-transparency",mdxType:"APISection"}))}f.isMDXComponent=!0},ufKf:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return r}));var a="https://snack.expo.dev";function r(e){var t=e.templateId,n=e.code,a=e.files,r=e.baseURL,c={};return a&&Object.keys(a).forEach((function(e){var t=a[e],n=/\.(jsx?|tsx?|json|md)$/i.test(e);c[e]=n?{type:"CODE",url:t.match(/^https?:\/\//)?t:"".concat(r,"/").concat(t)}:{type:"ASSET",contents:t}})),t?c["App.js"]={type:"CODE",url:"".concat(r,"/").concat(t,".js")}:n&&(c["App.js"]={type:"CODE",contents:n}),c}}},[["3Rk5",1,0,2,3,4,5,6,7,8,9,10,11,12,13,14]]]);