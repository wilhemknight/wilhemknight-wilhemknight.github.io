_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[844],{"e/TA":function(e,t,a){"use strict";a.r(t),a.d(t,"meta",(function(){return p})),a.d(t,"headings",(function(){return o})),a.d(t,"default",(function(){return s}));var n=a("HALo"),r=a("dhJC"),b=(a("q1tI"),a("7ljp")),i=a("HCau"),l=a("hykZ"),c=["components"],p={title:"Payments",sourceCodeUrl:"https://github.com/expo/expo/tree/sdk-41/packages/expo-payments-stripe"},o=[{depth:2,type:"text",title:"Installation"},{depth:2,type:"text",title:"Setup"},{depth:3,type:"text",title:"Register hook in order to let Stripe process source authorization"},{depth:2,type:"text",title:"Importing Payments"},{depth:2,type:"text",title:"Using the Payments SDK"},{depth:3,type:"linkReference",title:"Creating token  "},{depth:2,type:"linkReference",title:"Payment request with card form  "},{depth:3,type:"text",title:"Example"},{depth:2,type:"linkReference",title:"Creating source  "},{depth:3,type:"text",title:"Example"},{depth:2,type:"linkReference",title:"ApplePay  "},{depth:3,type:"inlineCode",title:"openApplePaySetupAsync()"},{depth:3,type:"inlineCode",title:"canMakeApplePayPaymentsAsync([options]) -> Promise"},{depth:5,type:"inlineCode",title:"options"},{depth:4,type:"text",title:"Example"},{depth:3,type:"inlineCode",title:"deviceSupportsApplePayAsync() -> Promise"},{depth:3,type:"inlineCode",title:"paymentRequestWithApplePayAsync(items, [options]) -> Promise"},{depth:5,type:"inlineCode",title:"items  \u2014 An array of object with the following keys:"},{depth:5,type:"inlineCode",title:"options  \u2014 An object with the following keys:"},{depth:5,type:"inlineCode",title:"shippingMethod  \u2014 An object with the following keys:"},{depth:4,type:"text",title:"Example"},{depth:4,type:"inlineCode",title:"Token structure \u2013  paymentRequestWithApplePayAsync  response"},{depth:3,type:"inlineCode",title:"completeApplePayRequestAsync()/cancelApplePayRequestAsync() -> Promise"},{depth:2,type:"text",title:"AndroidPay"},{depth:3,type:"inlineCode",title:"deviceSupportsAndroidPayAsync() -> Promise"},{depth:3,type:"inlineCode",title:"canMakeAndroidPayPaymentsAsync() -> Promise"},{depth:3,type:"inlineCode",title:"paymentRequestWithAndroidPayAsync(options) -> Promise"},{depth:4,type:"text",title:"Example"},{depth:2,type:"text",title:"Structures of the objects"},{depth:3,type:"text",title:"The Token object"},{depth:5,type:"inlineCode",title:"token  \u2014 an object with the following keys"},{depth:5,type:"inlineCode",title:"card  \u2014 an object with the following keys"},{depth:5,type:"inlineCode",title:"bankAccount"},{depth:4,type:"text",title:"Example"},{depth:3,type:"text",title:"The Source object"},{depth:5,type:"inlineCode",title:"source  \u2014 an object with the following keys:"},{depth:5,type:"inlineCode",title:"owner"},{depth:5,type:"inlineCode",title:"receiver"},{depth:5,type:"inlineCode",title:"redirect"},{depth:5,type:"inlineCode",title:"verification"},{depth:5,type:"inlineCode",title:"cardDetails"},{depth:5,type:"inlineCode",title:"sepaDebitDetails"},{depth:1,type:"text",title:"Example"},{depth:2,type:"text",title:"Enabling Apple Pay in bare"}],d={meta:p,headings:o};function s(e){var t=e.components,a=Object(r.a)(e,c);return Object(b.b)("wrapper",Object(n.a)({},d,a,{components:t,mdxType:"MDXLayout"}),Object(b.b)("blockquote",null,Object(b.b)("p",{parentName:"blockquote"},Object(b.b)("strong",{parentName:"p"},"This library is deprecated in favor of ",Object(b.b)("a",{parentName:"strong",href:"/versions/v41.0.0/sdk/stripe/"},Object(b.b)("inlineCode",{parentName:"a"},"@stripe/stripe-react-native")),", and will no longer be available after the release of SDK 43.")," ",Object(b.b)("a",{parentName:"p",href:"https://github.com/expo/fyi/blob/master/payments-migration-guide.md#how-to-migrate-from-expo-payments-stripe-to-the-new-stripestripe-react-native-library"},"Learn more about how to transition to the new library"),".")),Object(b.b)("blockquote",null,Object(b.b)("p",{parentName:"blockquote"},"\ud83d\udea8 On iOS, the Payments module is currently only supported the ",Object(b.b)("a",{parentName:"p",href:"/../../../../../../workflow/customizing"},"bare workflow"),".")),Object(b.b)("p",null,"Payments uses ",Object(b.b)("a",{parentName:"p",href:"https://stripe.com/"},"Stripe")," and ",Object(b.b)("a",{parentName:"p",href:"https://www.apple.com/apple-pay/"},"Apple Pay")," on iOS, but the module is only available in bare workflow apps."),Object(b.b)("p",null,"Stripe is supported in the managed workflow for Android, and Android Pay is supported in the bare workflow."),Object(b.b)("p",null,"Need more help than what's on the page? The Payments module is largely based off ",Object(b.b)("a",{parentName:"p",href:"https://github.com/tipsi/tipsi-stripe"},"tipsi-stripe"),". The documentation and questions there may prove helpful."),Object(b.b)(l.a,{android:!0,ios:!0,simulator:!0,web:{pending:"https://github.com/expo/expo/issues/4046"},mdxType:"PlatformsSection"}),Object(b.b)("h2",{id:"installation"},"Installation"),Object(b.b)(i.b,{packageName:"expo-payments-stripe",mdxType:"InstallSection"}),Object(b.b)("h2",{id:"setup"},"Setup"),Object(b.b)("p",null,"If you haven't done payments with Stripe before, create an account with ",Object(b.b)("a",{parentName:"p",href:"https://dashboard.stripe.com/register"},"Stripe"),". After getting the account set up, navigate to the ",Object(b.b)("a",{parentName:"p",href:"https://dashboard.stripe.com/account/apikeys"},"Stripe API dashboard"),". Here, you'll need to make a note of the Publishable key and Secret key listed."),Object(b.b)("h3",{id:"register-hook-in-order-to-let-stripe-process-source-authorization"},"Register hook in order to let Stripe process source authorization"),Object(b.b)("blockquote",null,Object(b.b)("p",{parentName:"blockquote"},"You don't need to make this step if you're not going to use ",Object(b.b)("a",{parentName:"p",href:"https://stripe.com/docs/mobile/ios/sources"},"sources"),".")),Object(b.b)("p",null,"For iOS, follow ",Object(b.b)("a",{parentName:"p",href:"https://stripe.com/docs/mobile/ios/sources#redirecting-your-customer"},"Stripe instructions"),"."),Object(b.b)("p",null,"For Android, add the following code to your ",Object(b.b)("strong",{parentName:"p"},"AndroidManifest.xml"),", replacing ",Object(b.b)("inlineCode",{parentName:"p"},"your_scheme")," with the URI scheme you're going to use when specifying return URL for payment process."),Object(b.b)("blockquote",null,Object(b.b)("p",{parentName:"blockquote"},"\ud83d\udca1 If you are using Expo Go then the setup has already been done for you.")),Object(b.b)("pre",null,Object(b.b)("code",{parentName:"pre",className:"language-xml"},'      ...\n      <activity\n          android:exported="true"\n          android:launchMode="singleTask"\n          android:name="expo.modules.payments.stripe.RedirectUriReceiver"\n          android:theme="@android:style/Theme.Translucent.NoTitleBar.Fullscreen">\n          <intent-filter>\n              <action android:name="android.intent.action.VIEW" />\n              <category android:name="android.intent.category.DEFAULT" />\n              <category android:name="android.intent.category.BROWSABLE" />\n\n              <data android:scheme="your_scheme" />\n          </intent-filter>\n      </activity>\n      ...\n')),Object(b.b)("p",null,"Remember to use the same scheme as the one which was set in ",Object(b.b)("strong",{parentName:"p"},"Info.plist")," file (only if you are also developing app for iOS)."),Object(b.b)("h2",{id:"importing-payments"},"Importing Payments"),Object(b.b)("pre",null,Object(b.b)("code",{parentName:"pre",className:"language-javascript"},"import { PaymentsStripe as Stripe } from 'expo-payments-stripe';\n\n...\nStripe.setOptionsAsync({\n    ...\n});\n...\n")),Object(b.b)("h2",{id:"using-the-payments-sdk"},"Using the Payments SDK"),Object(b.b)("p",null,"First, initialize the Payments module with your credentials:"),Object(b.b)("p",null,"This ",Object(b.b)("inlineCode",{parentName:"p"},"setOptionsAsync")," method must put under the componentDidMount in android's production mode, unlike iOS that it works outside any component."),Object(b.b)("pre",null,Object(b.b)("code",{parentName:"pre",className:"language-javascript"},"Stripe.setOptionsAsync({\n  publishableKey: 'PUBLISHABLE_KEY', // Your key\n  androidPayMode: 'test', // [optional] used to set wallet environment (AndroidPay)\n  merchantId: 'your_merchant_id', // [optional] used for payments with ApplePay\n});\n")),Object(b.b)("h3",{id:"creating-token-android-ios"},"Creating token ","[Android, iOS]"),Object(b.b)("p",null,"Creates token based on passed card params."),Object(b.b)("p",null,Object(b.b)("strong",{parentName:"p"},"params")," \u2014 An object with the following keys:"),Object(b.b)("table",null,Object(b.b)("thead",{parentName:"table"},Object(b.b)("tr",{parentName:"thead"},Object(b.b)("th",{parentName:"tr",align:"left"},"Key"),Object(b.b)("th",{parentName:"tr",align:"left"},"Type"),Object(b.b)("th",{parentName:"tr",align:"left"},"Description"))),Object(b.b)("tbody",{parentName:"table"},Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",{parentName:"tr",align:"left"},"number (Required)"),Object(b.b)("td",{parentName:"tr",align:"left"},"String"),Object(b.b)("td",{parentName:"tr",align:"left"},"The card\u2019s number")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",{parentName:"tr",align:"left"},"expMonth (Required)"),Object(b.b)("td",{parentName:"tr",align:"left"},"Number"),Object(b.b)("td",{parentName:"tr",align:"left"},"The card\u2019s expiration month")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",{parentName:"tr",align:"left"},"expYear (Required)"),Object(b.b)("td",{parentName:"tr",align:"left"},"Number"),Object(b.b)("td",{parentName:"tr",align:"left"},"The card\u2019s expiration year")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",{parentName:"tr",align:"left"},"cvc"),Object(b.b)("td",{parentName:"tr",align:"left"},"String"),Object(b.b)("td",{parentName:"tr",align:"left"},"The card\u2019s security code, found on the back")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",{parentName:"tr",align:"left"},"name"),Object(b.b)("td",{parentName:"tr",align:"left"},"String"),Object(b.b)("td",{parentName:"tr",align:"left"},"The cardholder\u2019s name")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",{parentName:"tr",align:"left"},"addressLine1"),Object(b.b)("td",{parentName:"tr",align:"left"},"String"),Object(b.b)("td",{parentName:"tr",align:"left"},"The first line of the billing address")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",{parentName:"tr",align:"left"},"addressLine2"),Object(b.b)("td",{parentName:"tr",align:"left"},"String"),Object(b.b)("td",{parentName:"tr",align:"left"},"The second line of the billing address")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",{parentName:"tr",align:"left"},"addressCity"),Object(b.b)("td",{parentName:"tr",align:"left"},"String"),Object(b.b)("td",{parentName:"tr",align:"left"},"City of the billing address")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",{parentName:"tr",align:"left"},"addressState"),Object(b.b)("td",{parentName:"tr",align:"left"},"String"),Object(b.b)("td",{parentName:"tr",align:"left"},"State of the billing address")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",{parentName:"tr",align:"left"},"addressZip"),Object(b.b)("td",{parentName:"tr",align:"left"},"String"),Object(b.b)("td",{parentName:"tr",align:"left"},"Zip code of the billing address")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",{parentName:"tr",align:"left"},"addressCountry"),Object(b.b)("td",{parentName:"tr",align:"left"},"String"),Object(b.b)("td",{parentName:"tr",align:"left"},"Country for the billing address")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",{parentName:"tr",align:"left"},"brand (Android)"),Object(b.b)("td",{parentName:"tr",align:"left"},"String"),Object(b.b)("td",{parentName:"tr",align:"left"},"Brand of this card. Can be one of: ",Object(b.b)("strong",{parentName:"td"},"JCB \u2016 American Express \u2016 Visa \u2016 Discover \u2016 Diners Club \u2016 MasterCard \u2016 Unknown"))),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",{parentName:"tr",align:"left"},"last4 (Android)"),Object(b.b)("td",{parentName:"tr",align:"left"},"String"),Object(b.b)("td",{parentName:"tr",align:"left"},"last 4 digits of the card")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",{parentName:"tr",align:"left"},"fingerprint (Android)"),Object(b.b)("td",{parentName:"tr",align:"left"},"String"),Object(b.b)("td",{parentName:"tr",align:"left"},"The card fingerprint")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",{parentName:"tr",align:"left"},"funding (Android)"),Object(b.b)("td",{parentName:"tr",align:"left"},"String"),Object(b.b)("td",{parentName:"tr",align:"left"},"The funding type of the card. Can be one of: ",Object(b.b)("strong",{parentName:"td"},"debit \u2016 credit \u2016 prepaid \u2016 unknown"))),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",{parentName:"tr",align:"left"},"country (Android)"),Object(b.b)("td",{parentName:"tr",align:"left"},"String"),Object(b.b)("td",{parentName:"tr",align:"left"},"ISO country code of the card itself")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",{parentName:"tr",align:"left"},"currency"),Object(b.b)("td",{parentName:"tr",align:"left"},"String"),Object(b.b)("td",{parentName:"tr",align:"left"},"Three-letter ISO currency code representing the currency paid out to the bank account. This is only applicable when tokenizing debit cards to issue payouts to managed accounts. You should not set it otherwise. The card can then be used as a transfer destination for funds in this currency")))),Object(b.b)("pre",null,Object(b.b)("code",{parentName:"pre",className:"language-js"},"const params = {\n  // mandatory\n  number: '4242424242424242',\n  expMonth: 11,\n  expYear: 17,\n  cvc: '223',\n  // optional\n  name: 'Test User',\n  currency: 'usd',\n  addressLine1: '123 Test Street',\n  addressLine2: 'Apt. 5',\n  addressCity: 'Test City',\n  addressState: 'Test State',\n  addressCountry: 'Test Country',\n  addressZip: '55555',\n};\n\nconst token = await Stripe.createTokenWithCardAsync(params);\n\n// Client specific code\n// api.sendTokenToBackend(token)\n")),Object(b.b)("blockquote",null,Object(b.b)("p",{parentName:"blockquote"},"Remember to initialize the Payments module before creating token.")),Object(b.b)("h2",{id:"payment-request-with-card-form-android-ios"},"Payment request with card form ","[Android, iOS]"),Object(b.b)("p",null,"Launch ",Object(b.b)("inlineCode",{parentName:"p"},"Add Card")," view to accept payment."),Object(b.b)("p",null,Object(b.b)("strong",{parentName:"p"},"options (iOS only)")," \u2014 An object with the following keys:"),Object(b.b)("table",null,Object(b.b)("thead",{parentName:"table"},Object(b.b)("tr",{parentName:"thead"},Object(b.b)("th",{parentName:"tr",align:"left"},"Key"),Object(b.b)("th",{parentName:"tr",align:"left"},"Type"),Object(b.b)("th",{parentName:"tr",align:"left"},"Description"))),Object(b.b)("tbody",{parentName:"table"},Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",{parentName:"tr",align:"left"},"requiredBillingAddressFields"),Object(b.b)("td",{parentName:"tr",align:"left"},"String"),Object(b.b)("td",{parentName:"tr",align:"left"},"The billing address fields the user must fill out when prompted for their payment details. Can be one of: ",Object(b.b)("strong",{parentName:"td"},"full")," or ",Object(b.b)("strong",{parentName:"td"},"zip")," or not specify to disable")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",{parentName:"tr",align:"left"},"prefilledInformation"),Object(b.b)("td",{parentName:"tr",align:"left"},"Object"),Object(b.b)("td",{parentName:"tr",align:"left"},"You can set this property to pre-fill any information you\u2019ve already collected from your user")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",{parentName:"tr",align:"left"},"managedAccountCurrency"),Object(b.b)("td",{parentName:"tr",align:"left"},"String"),Object(b.b)("td",{parentName:"tr",align:"left"},"Required to be able to add the card to an account (in all other cases, this parameter is not used). More info")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",{parentName:"tr",align:"left"},"theme"),Object(b.b)("td",{parentName:"tr",align:"left"},"Object"),Object(b.b)("td",{parentName:"tr",align:"left"},"Can be used to visually style Stripe-provided UI")))),Object(b.b)("p",null,Object(b.b)("strong",{parentName:"p"},"options.prefilledInformation")," \u2014 An object with the following keys:"),Object(b.b)("table",null,Object(b.b)("thead",{parentName:"table"},Object(b.b)("tr",{parentName:"thead"},Object(b.b)("th",{parentName:"tr",align:"center"},"Key"),Object(b.b)("th",{parentName:"tr",align:"center"},"Type"),Object(b.b)("th",{parentName:"tr",align:null},"Description"))),Object(b.b)("tbody",{parentName:"table"},Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",{parentName:"tr",align:"center"},"shippingAddress"),Object(b.b)("td",{parentName:"tr",align:"center"},"Object"),Object(b.b)("td",{parentName:"tr",align:null},"The user\u2019s shipping address. When set, the shipping address form will be filled with this address. The user will also have the option to fill their billing address using this address.")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",{parentName:"tr",align:"center"},"billingAddress"),Object(b.b)("td",{parentName:"tr",align:"center"},"Object"),Object(b.b)("td",{parentName:"tr",align:null},'The user\u2019s billing address. When set, the "add card" form will be filled with this address. The user will also have the option to fill their shipping address using this address.')))),Object(b.b)("p",null,Object(b.b)("strong",{parentName:"p"},"options.prefilledInformation.billingAddress")," \u2014 An object with the following keys:"),Object(b.b)("table",null,Object(b.b)("thead",{parentName:"table"},Object(b.b)("tr",{parentName:"thead"},Object(b.b)("th",{parentName:"tr",align:"left"},"Key"),Object(b.b)("th",{parentName:"tr",align:"left"},"Type"),Object(b.b)("th",{parentName:"tr",align:"left"},"Description"))),Object(b.b)("tbody",{parentName:"table"},Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",{parentName:"tr",align:"left"},"name"),Object(b.b)("td",{parentName:"tr",align:"left"},"String"),Object(b.b)("td",{parentName:"tr",align:"left"},'The user\u2019s full name (e.g. "Jane Doe")')),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",{parentName:"tr",align:"left"},"line1"),Object(b.b)("td",{parentName:"tr",align:"left"},"String"),Object(b.b)("td",{parentName:"tr",align:"left"},'The first line of the user\u2019s street address (e.g. "123 Fake St")')),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",{parentName:"tr",align:"left"},"line2"),Object(b.b)("td",{parentName:"tr",align:"left"},"String"),Object(b.b)("td",{parentName:"tr",align:"left"},'The apartment, floor number, etc of the user\u2019s street address (e.g. "Apartment 1A")')),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",{parentName:"tr",align:"left"},"city"),Object(b.b)("td",{parentName:"tr",align:"left"},"String"),Object(b.b)("td",{parentName:"tr",align:"left"},'The city in which the user resides (e.g. "San Francisco")')),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",{parentName:"tr",align:"left"},"state"),Object(b.b)("td",{parentName:"tr",align:"left"},"String"),Object(b.b)("td",{parentName:"tr",align:"left"},'The state in which the user resides (e.g. "CA")')),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",{parentName:"tr",align:"left"},"postalCode"),Object(b.b)("td",{parentName:"tr",align:"left"},"String"),Object(b.b)("td",{parentName:"tr",align:"left"},'The postal code in which the user resides (e.g. "90210")')),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",{parentName:"tr",align:"left"},"country"),Object(b.b)("td",{parentName:"tr",align:"left"},"String"),Object(b.b)("td",{parentName:"tr",align:"left"},'The ISO country code of the address (e.g. "US")')),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",{parentName:"tr",align:"left"},"phone"),Object(b.b)("td",{parentName:"tr",align:"left"},"String"),Object(b.b)("td",{parentName:"tr",align:"left"},'The phone number of the address (e.g. "8885551212")')),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",{parentName:"tr",align:"left"},"email"),Object(b.b)("td",{parentName:"tr",align:"left"},"String"),Object(b.b)("td",{parentName:"tr",align:"left"},'The email of the address (e.g. "',Object(b.b)("a",{parentName:"td",href:"mailto:jane@doe.com"},"jane@doe.com"),'")')))),Object(b.b)("p",null,Object(b.b)("strong",{parentName:"p"},"options.theme")," \u2014 An object with the following keys:"),Object(b.b)("table",null,Object(b.b)("thead",{parentName:"table"},Object(b.b)("tr",{parentName:"thead"},Object(b.b)("th",{parentName:"tr",align:"left"},"Key"),Object(b.b)("th",{parentName:"tr",align:"left"},"Type"),Object(b.b)("th",{parentName:"tr",align:"left"},"Description"))),Object(b.b)("tbody",{parentName:"table"},Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",{parentName:"tr",align:"left"},"primaryBackgroundColor"),Object(b.b)("td",{parentName:"tr",align:"left"},"String"),Object(b.b)("td",{parentName:"tr",align:"left"},"The primary background color of the theme")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",{parentName:"tr",align:"left"},"secondaryBackgroundColor"),Object(b.b)("td",{parentName:"tr",align:"left"},"String"),Object(b.b)("td",{parentName:"tr",align:"left"},"The secondary background color of this theme")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",{parentName:"tr",align:"left"},"primaryForegroundColor"),Object(b.b)("td",{parentName:"tr",align:"left"},"String"),Object(b.b)("td",{parentName:"tr",align:"left"},"The primary foreground color of this theme. This will be used as the text color for any important labels in a view with this theme (such as the text color for a text field that the user needs to fill out)")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",{parentName:"tr",align:"left"},"secondaryForegroundColor"),Object(b.b)("td",{parentName:"tr",align:"left"},"String"),Object(b.b)("td",{parentName:"tr",align:"left"},"The secondary foreground color of this theme. This will be used as the text color for any supplementary labels in a view with this theme (such as the placeholder color for a text field that the user needs to fill out)")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",{parentName:"tr",align:"left"},"accentColor"),Object(b.b)("td",{parentName:"tr",align:"left"},"String"),Object(b.b)("td",{parentName:"tr",align:"left"},"The accent color of this theme - it will be used for any buttons and other elements on a view that are important to highlight")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",{parentName:"tr",align:"left"},"errorColor"),Object(b.b)("td",{parentName:"tr",align:"left"},"String"),Object(b.b)("td",{parentName:"tr",align:"left"},"The error color of this theme - it will be used for rendering any error messages or view")))),Object(b.b)("h3",{id:"example"},"Example"),Object(b.b)("pre",null,Object(b.b)("code",{parentName:"pre",className:"language-js"},"const options = {\n  requiredBillingAddressFields: 'full',\n  prefilledInformation: {\n    billingAddress: {\n      name: 'Gunilla Haugeh',\n      line1: 'Canary Place',\n      line2: '3',\n      city: 'Macon',\n      state: 'Georgia',\n      country: 'US',\n      postalCode: '31217',\n    },\n  },\n};\n\nconst token = await stripe.paymentRequestWithCardFormAsync(options);\n\n// Client specific code\n// api.sendTokenToBackend(token)\n")),Object(b.b)("h2",{id:"creating-source-android-ios"},"Creating source ","[Android, iOS]"),Object(b.b)("p",null,"Creates source object based on params. Sources are used to create payments for a variety of ",Object(b.b)("a",{parentName:"p",href:"https://stripe.com/docs/sources"},"payment methods")),Object(b.b)("p",null,Object(b.b)("em",{parentName:"p"},"NOTE"),": For sources that require redirecting your customer to authorize the payment, you need to specify a return URL when you create the source. This allows your customer to be redirected back to your app after they authorize the payment. The prefix before ':' in your return URL should be the same as the scheme in your ",Object(b.b)("strong",{parentName:"p"},"Info.plist")," and ",Object(b.b)("strong",{parentName:"p"},"AndroidManifest.xml"),'. If You are not sure about this step look at above sections "Register hook in order to Stripe could process source authorization".'),Object(b.b)("p",null,Object(b.b)("em",{parentName:"p"},"NOTE"),": If you are using Expo Go or an ejected Expo application, do not specify ",Object(b.b)("inlineCode",{parentName:"p"},"returnURL"),"."),Object(b.b)("p",null,Object(b.b)("inlineCode",{parentName:"p"},"params")," \u2014 An object with the following keys:"),Object(b.b)("p",null,Object(b.b)("strong",{parentName:"p"},"Depending on the type you need to provide different params. Check the STPSourceParams docs for reference")),Object(b.b)("table",null,Object(b.b)("thead",{parentName:"table"},Object(b.b)("tr",{parentName:"thead"},Object(b.b)("th",{parentName:"tr",align:"left"},"Key"),Object(b.b)("th",{parentName:"tr",align:"left"},"Type"),Object(b.b)("th",{parentName:"tr",align:"left"},"Description"))),Object(b.b)("tbody",{parentName:"table"},Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",{parentName:"tr",align:"left"},"type (Required)"),Object(b.b)("td",{parentName:"tr",align:"left"},"String"),Object(b.b)("td",{parentName:"tr",align:"left"},"The type of the source to create. Can be one of: ",Object(b.b)("strong",{parentName:"td"},"bancontact \u2016 bitcoin \u2016 card \u2016 griopay \u2016 ideal \u2016 sepaDebit \u2016 sofort \u2016 threeDSecure \u2016 alipay"))),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",{parentName:"tr",align:"left"},"amount"),Object(b.b)("td",{parentName:"tr",align:"left"},"Number"),Object(b.b)("td",{parentName:"tr",align:"left"},"A positive number in the smallest currency unit representing the amount to charge the customer (e.g., 1099 for a \u20ac10.99 payment)")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",{parentName:"tr",align:"left"},"name"),Object(b.b)("td",{parentName:"tr",align:"left"},"String"),Object(b.b)("td",{parentName:"tr",align:"left"},"The full name of the account holder")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",{parentName:"tr",align:"left"},"returnURL"),Object(b.b)("td",{parentName:"tr",align:"left"},"String"),Object(b.b)("td",{parentName:"tr",align:"left"},"The URL the customer should be redirected to after they have successfully verified the payment")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",{parentName:"tr",align:"left"},"statementDescriptor"),Object(b.b)("td",{parentName:"tr",align:"left"},"String"),Object(b.b)("td",{parentName:"tr",align:"left"},"A custom statement descriptor for the payment")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",{parentName:"tr",align:"left"},"currency"),Object(b.b)("td",{parentName:"tr",align:"left"},"String"),Object(b.b)("td",{parentName:"tr",align:"left"},"The currency associated with the source. This is the currency for which the source will be chargeable once ready")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",{parentName:"tr",align:"left"},"email"),Object(b.b)("td",{parentName:"tr",align:"left"},"String"),Object(b.b)("td",{parentName:"tr",align:"left"},"The customer\u2019s email address")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",{parentName:"tr",align:"left"},"bank"),Object(b.b)("td",{parentName:"tr",align:"left"},"String"),Object(b.b)("td",{parentName:"tr",align:"left"},"The customer\u2019s bank")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",{parentName:"tr",align:"left"},"iban"),Object(b.b)("td",{parentName:"tr",align:"left"},"String"),Object(b.b)("td",{parentName:"tr",align:"left"},"The IBAN number for the bank account you wish to debit")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",{parentName:"tr",align:"left"},"addressLine1"),Object(b.b)("td",{parentName:"tr",align:"left"},"String"),Object(b.b)("td",{parentName:"tr",align:"left"},"The bank account holder\u2019s first address line (optional)")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",{parentName:"tr",align:"left"},"city"),Object(b.b)("td",{parentName:"tr",align:"left"},"String"),Object(b.b)("td",{parentName:"tr",align:"left"},"The bank account holder\u2019s city")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",{parentName:"tr",align:"left"},"postalCode"),Object(b.b)("td",{parentName:"tr",align:"left"},"String"),Object(b.b)("td",{parentName:"tr",align:"left"},"The bank account holder\u2019s postal code")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",{parentName:"tr",align:"left"},"country"),Object(b.b)("td",{parentName:"tr",align:"left"},"String"),Object(b.b)("td",{parentName:"tr",align:"left"},"The bank account holder\u2019s two-letter country code (sepaDebit) or the country code of the customer\u2019s bank (sofort)")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",{parentName:"tr",align:"left"},"card"),Object(b.b)("td",{parentName:"tr",align:"left"},"String"),Object(b.b)("td",{parentName:"tr",align:"left"},"The ID of the card source")))),Object(b.b)("h3",{id:"example-1"},"Example"),Object(b.b)("pre",null,Object(b.b)("code",{parentName:"pre",className:"language-js"},"const params = {\n  type: 'alipay',\n  amount: 5,\n  currency: 'EUR',\n  returnURL: 'expaymentsstripe://stripe-redirect',\n};\n\nconst source = await stripe.createSourceWithParamsAsync(params);\n\n// Client specific code\n// api.sendSourceToBackend(source)\n")),Object(b.b)("h2",{id:"applepay-ios"},"ApplePay ","[iOS]"),Object(b.b)("p",null,"Remember: to use Apple Pay on a real device, you need to ",Object(b.b)("a",{parentName:"p",href:"/versions/v41.0.0/sdk/payments/#enabling-apple-pay-in-bare"},"set up apple pay first"),"."),Object(b.b)("h3",{id:"openapplepaysetupasync"},Object(b.b)("inlineCode",{parentName:"h3"},"openApplePaySetupAsync()")),Object(b.b)("p",null,"Opens the user interface to set up credit cards for Apple Pay."),Object(b.b)("h3",{id:"canmakeapplepaypaymentsasyncoptions---promise"},Object(b.b)("inlineCode",{parentName:"h3"},"canMakeApplePayPaymentsAsync([options]) -> Promise")),Object(b.b)("p",null,"Returns whether the user can make Apple Pay payments with specified options.\nIf there are no configured payment cards, this method always returns ",Object(b.b)("inlineCode",{parentName:"p"},"false"),".\nReturn ",Object(b.b)("inlineCode",{parentName:"p"},"true")," if the user can make Apple Pay payments through any of the specified networks; otherwise, ",Object(b.b)("inlineCode",{parentName:"p"},"false"),"."),Object(b.b)("p",null,Object(b.b)("strong",{parentName:"p"},"NOTE"),": iOS Simulator always returns ",Object(b.b)("inlineCode",{parentName:"p"},"true")),Object(b.b)("h5",{id:"options"},Object(b.b)("inlineCode",{parentName:"h5"},"options")),Object(b.b)("table",null,Object(b.b)("thead",{parentName:"table"},Object(b.b)("tr",{parentName:"thead"},Object(b.b)("th",{parentName:"tr",align:"left"},"Key"),Object(b.b)("th",{parentName:"tr",align:"left"},"Type"),Object(b.b)("th",{parentName:"tr",align:"left"},"Description"))),Object(b.b)("tbody",{parentName:"table"},Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",{parentName:"tr",align:"left"},"networks"),Object(b.b)("td",{parentName:"tr",align:"left"},"Array","[String]"),Object(b.b)("td",{parentName:"tr",align:"left"},"Indicates whether the user can make Apple Pay payments through the specified network. Available networks: ",Object(b.b)("strong",{parentName:"td"},"american_express \u2016 discover \u2016 master_card \u2016 visa"),". If option does not specify we pass all available networks under the hood.")))),Object(b.b)("h4",{id:"example-2"},"Example"),Object(b.b)("pre",null,Object(b.b)("code",{parentName:"pre",className:"language-js"},"import { PaymentsStripe as Stripe } from 'expo-payments-stripe';\n\nawait Stripe.canMakeApplePayPaymentsAsync();\n")),Object(b.b)("pre",null,Object(b.b)("code",{parentName:"pre",className:"language-js"},"import { PaymentsStripe as Stripe } from 'expo-payments-stripe';\n\nawait Stripe.canMakeApplePayPaymentsAsync(['american_express', 'discover']);\n")),Object(b.b)("h3",{id:"devicesupportsapplepayasync---promise"},Object(b.b)("inlineCode",{parentName:"h3"},"deviceSupportsApplePayAsync() -> Promise")),Object(b.b)("p",null,"Returns whether the user can make Apple Pay payments.\nUser may not be able to make payments for a variety of reasons. For example, this functionality may not be supported by their hardware, or it may be restricted by parental controls.\nReturns ",Object(b.b)("inlineCode",{parentName:"p"},"true")," if the device supports making payments; otherwise, ",Object(b.b)("inlineCode",{parentName:"p"},"false"),"."),Object(b.b)("p",null,Object(b.b)("em",{parentName:"p"},"NOTE"),": iOS Simulator always returns ",Object(b.b)("inlineCode",{parentName:"p"},"true")),Object(b.b)("h3",{id:"paymentrequestwithapplepayasyncitems-options---promise"},Object(b.b)("inlineCode",{parentName:"h3"},"paymentRequestWithApplePayAsync(items, [options]) -> Promise")),Object(b.b)("p",null,"Launch the \uf8ff Pay view to accept payment."),Object(b.b)("h5",{id:"items--an-array-of-object-with-the-following-keys"},Object(b.b)("inlineCode",{parentName:"h5"},"items")," \u2014 An array of object with the following keys:"),Object(b.b)("table",null,Object(b.b)("thead",{parentName:"table"},Object(b.b)("tr",{parentName:"thead"},Object(b.b)("th",{parentName:"tr",align:"left"},"Key"),Object(b.b)("th",{parentName:"tr",align:"left"},"Type"),Object(b.b)("th",{parentName:"tr",align:"left"},"Description"))),Object(b.b)("tbody",{parentName:"table"},Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",{parentName:"tr",align:"left"},"label"),Object(b.b)("td",{parentName:"tr",align:"left"},Object(b.b)("em",{parentName:"td"},"String")),Object(b.b)("td",{parentName:"tr",align:"left"},"A short, localized description of the item.")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",{parentName:"tr",align:"left"},"amount"),Object(b.b)("td",{parentName:"tr",align:"left"},Object(b.b)("em",{parentName:"td"},"String")),Object(b.b)("td",{parentName:"tr",align:"left"},"The summary item\u2019s amount.")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",{parentName:"tr",align:"left"},"type"),Object(b.b)("td",{parentName:"tr",align:"left"},Object(b.b)("em",{parentName:"td"},"String")),Object(b.b)("td",{parentName:"tr",align:"left"},'The summary item\u2019s type. Must be "pending" or "final". Defaults to "final".')))),Object(b.b)("p",null,Object(b.b)("strong",{parentName:"p"},"NOTE"),': The final item should represent your company; it\'ll be prepended with the word "Pay" (i.e. "Pay Tipsi, Inc \\$50")'),Object(b.b)("h5",{id:"options--an-object-with-the-following-keys"},Object(b.b)("inlineCode",{parentName:"h5"},"options")," \u2014 An object with the following keys:"),Object(b.b)("table",null,Object(b.b)("thead",{parentName:"table"},Object(b.b)("tr",{parentName:"thead"},Object(b.b)("th",{parentName:"tr",align:"left"},"Key"),Object(b.b)("th",{parentName:"tr",align:"left"},"Type"),Object(b.b)("th",{parentName:"tr",align:"left"},"Description"))),Object(b.b)("tbody",{parentName:"table"},Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",{parentName:"tr",align:"left"},"requiredBillingAddressFields"),Object(b.b)("td",{parentName:"tr",align:"left"},"Array","[String]"),Object(b.b)("td",{parentName:"tr",align:"left"},"A bit field of billing address fields that you need in order to process the transaction. Array should contain one of: ",Object(b.b)("strong",{parentName:"td"},"all \u2016 name \u2016 email \u2016 phone \u2016 postal_address")," or not specify to disable")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",{parentName:"tr",align:"left"},"requiredShippingAddressFields"),Object(b.b)("td",{parentName:"tr",align:"left"},"Array","[String]"),Object(b.b)("td",{parentName:"tr",align:"left"},"A bit field of shipping address fields that you need in order to process the transaction. Array should contain one of: ",Object(b.b)("strong",{parentName:"td"},"all \u2016 name \u2016 email \u2016 phone \u2016 postal_address")," or not specify to disable")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",{parentName:"tr",align:"left"},"shippingMethods"),Object(b.b)("td",{parentName:"tr",align:"left"},"Array"),Object(b.b)("td",{parentName:"tr",align:"left"},"An array of ",Object(b.b)("inlineCode",{parentName:"td"},"shippingMethod")," objects that describe the supported shipping methods.")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",{parentName:"tr",align:"left"},"currencyCode"),Object(b.b)("td",{parentName:"tr",align:"left"},"String"),Object(b.b)("td",{parentName:"tr",align:"left"},"The three-letter ISO 4217 currency code. Default is ",Object(b.b)("strong",{parentName:"td"},"USD"))),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",{parentName:"tr",align:"left"},"countryCode"),Object(b.b)("td",{parentName:"tr",align:"left"},"String"),Object(b.b)("td",{parentName:"tr",align:"left"},"The two-letter code for the country where the payment will be processed. Default is ",Object(b.b)("strong",{parentName:"td"},"US"))),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",{parentName:"tr",align:"left"},"shippingType"),Object(b.b)("td",{parentName:"tr",align:"left"},"String"),Object(b.b)("td",{parentName:"tr",align:"left"},"An optional value that indicates how purchased items are to be shipped. Default is ",Object(b.b)("strong",{parentName:"td"},"shipping"),". Available options are: ",Object(b.b)("strong",{parentName:"td"},"shipping \u2016 delivery \u2016 store_pickup \u2016 service_pickup"))))),Object(b.b)("h5",{id:"shippingmethod--an-object-with-the-following-keys"},Object(b.b)("inlineCode",{parentName:"h5"},"shippingMethod")," \u2014 An object with the following keys:"),Object(b.b)("table",null,Object(b.b)("thead",{parentName:"table"},Object(b.b)("tr",{parentName:"thead"},Object(b.b)("th",{parentName:"tr",align:"left"},"Key"),Object(b.b)("th",{parentName:"tr",align:"left"},"Type"),Object(b.b)("th",{parentName:"tr",align:"left"},"Description"))),Object(b.b)("tbody",{parentName:"table"},Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",{parentName:"tr",align:"left"},"id"),Object(b.b)("td",{parentName:"tr",align:"left"},"String"),Object(b.b)("td",{parentName:"tr",align:"left"},"A unique identifier for the shipping method, used by the app")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",{parentName:"tr",align:"left"},"id"),Object(b.b)("td",{parentName:"tr",align:"left"},"String"),Object(b.b)("td",{parentName:"tr",align:"left"},"A short, localized description of the shipping method")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",{parentName:"tr",align:"left"},"label"),Object(b.b)("td",{parentName:"tr",align:"left"},"String"),Object(b.b)("td",{parentName:"tr",align:"left"},"A unique identifier for the shipping method, used by the app")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",{parentName:"tr",align:"left"},"detail"),Object(b.b)("td",{parentName:"tr",align:"left"},"String"),Object(b.b)("td",{parentName:"tr",align:"left"},"A user-readable description of the shipping method")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",{parentName:"tr",align:"left"},"amount"),Object(b.b)("td",{parentName:"tr",align:"left"},"String"),Object(b.b)("td",{parentName:"tr",align:"left"},"The shipping method\u2019s amount")))),Object(b.b)("h4",{id:"example-3"},"Example"),Object(b.b)("pre",null,Object(b.b)("code",{parentName:"pre",className:"language-js"},"const items = [\n  {\n    label: 'Whisky',\n    amount: '50.00',\n  },\n  {\n    label: 'Tipsi, Inc',\n    amount: '50.00',\n  },\n];\n\nconst shippingMethods = [\n  {\n    id: 'fedex',\n    label: 'FedEX',\n    detail: 'Test @ 10',\n    amount: '10.00',\n  },\n];\n\nconst options = {\n  requiredBillingAddressFields: ['all'],\n  requiredShippingAddressFields: ['phone', 'postal_address'],\n  shippingMethods,\n};\n\nconst token = await stripe.paymentRequestWithApplePayAsync(items, options);\n")),Object(b.b)("h4",{id:"token-structure--paymentrequestwithapplepayasync-response"},"Token structure \u2013 ",Object(b.b)("inlineCode",{parentName:"h4"},"paymentRequestWithApplePayAsync")," response"),Object(b.b)("p",null,Object(b.b)("inlineCode",{parentName:"p"},"extra")," \u2014 An object with the following keys"),Object(b.b)("table",null,Object(b.b)("thead",{parentName:"table"},Object(b.b)("tr",{parentName:"thead"},Object(b.b)("th",{parentName:"tr",align:"left"},"Key"),Object(b.b)("th",{parentName:"tr",align:"left"},"Type"),Object(b.b)("th",{parentName:"tr",align:"left"},"Description"))),Object(b.b)("tbody",{parentName:"table"},Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",{parentName:"tr",align:"left"},"shippingMethod"),Object(b.b)("td",{parentName:"tr",align:"left"},"Object"),Object(b.b)("td",{parentName:"tr",align:"left"},"Selected shippingMethod object")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",{parentName:"tr",align:"left"},"billingContact"),Object(b.b)("td",{parentName:"tr",align:"left"},"Object"),Object(b.b)("td",{parentName:"tr",align:"left"},"The user's billing contact object")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",{parentName:"tr",align:"left"},"shippingContact"),Object(b.b)("td",{parentName:"tr",align:"left"},"Object"),Object(b.b)("td",{parentName:"tr",align:"left"},"The user's shipping contact object")))),Object(b.b)("p",null,Object(b.b)("inlineCode",{parentName:"p"},"contact")," \u2014 An object with the following keys"),Object(b.b)("table",null,Object(b.b)("thead",{parentName:"table"},Object(b.b)("tr",{parentName:"thead"},Object(b.b)("th",{parentName:"tr",align:"left"},"Key"),Object(b.b)("th",{parentName:"tr",align:"left"},"Type"),Object(b.b)("th",{parentName:"tr",align:"left"},"Description"))),Object(b.b)("tbody",{parentName:"table"},Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",{parentName:"tr",align:"left"},"name"),Object(b.b)("td",{parentName:"tr",align:"left"},"String"),Object(b.b)("td",{parentName:"tr",align:"left"},"The contact\u2019s name")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",{parentName:"tr",align:"left"},"phoneNumber"),Object(b.b)("td",{parentName:"tr",align:"left"},"String"),Object(b.b)("td",{parentName:"tr",align:"left"},"The contact\u2019s phone number")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",{parentName:"tr",align:"left"},"emailAddress"),Object(b.b)("td",{parentName:"tr",align:"left"},"String"),Object(b.b)("td",{parentName:"tr",align:"left"},"The contact\u2019s email address")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",{parentName:"tr",align:"left"},"street"),Object(b.b)("td",{parentName:"tr",align:"left"},"String"),Object(b.b)("td",{parentName:"tr",align:"left"},"The street name in a postal address")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",{parentName:"tr",align:"left"},"city"),Object(b.b)("td",{parentName:"tr",align:"left"},"String"),Object(b.b)("td",{parentName:"tr",align:"left"},"The city name in a postal address")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",{parentName:"tr",align:"left"},"state"),Object(b.b)("td",{parentName:"tr",align:"left"},"String"),Object(b.b)("td",{parentName:"tr",align:"left"},"The state name in a postal address")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",{parentName:"tr",align:"left"},"country"),Object(b.b)("td",{parentName:"tr",align:"left"},"String"),Object(b.b)("td",{parentName:"tr",align:"left"},"The country name in a postal address")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",{parentName:"tr",align:"left"},"ISOCountryCode"),Object(b.b)("td",{parentName:"tr",align:"left"},"String"),Object(b.b)("td",{parentName:"tr",align:"left"},"The ISO country code for the country in a postal address")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",{parentName:"tr",align:"left"},"postalCode"),Object(b.b)("td",{parentName:"tr",align:"left"},"String"),Object(b.b)("td",{parentName:"tr",align:"left"},"The postal code in a postal address")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",{parentName:"tr",align:"left"},"supplementarySubLocality"),Object(b.b)("td",{parentName:"tr",align:"left"},"String"),Object(b.b)("td",{parentName:"tr",align:"left"},"The contact\u2019s sublocality")))),Object(b.b)("h3",{id:"completeapplepayrequestasynccancelapplepayrequestasync---promise"},Object(b.b)("inlineCode",{parentName:"h3"},"completeApplePayRequestAsync()/cancelApplePayRequestAsync() -> Promise")),Object(b.b)("p",null,"After ",Object(b.b)("inlineCode",{parentName:"p"},"paymentRequestWithApplePayAsync")," you should complete the operation by calling ",Object(b.b)("inlineCode",{parentName:"p"},"completeApplePayRequestAsync")," or cancel if an error occurred. This closes Apple Pay. (resolves to undefined, you do not need to store the Promise)"),Object(b.b)("pre",null,Object(b.b)("code",{parentName:"pre",className:"language-js"},"const items = [\n  {\n    label: 'Whisky',\n    amount: '50.00',\n  },\n  {\n    label: 'Tipsi, Inc',\n    amount: '50.00',\n  },\n];\n\nconst shippingMethods = [\n  {\n    id: 'fedex',\n    label: 'FedEX',\n    detail: 'Test @ 10',\n    amount: '10.00',\n  },\n];\n\nconst options = {\n  requiredBillingAddressFields: 'all',\n  requiredShippingAddressFields: 'all',\n  shippingMethods,\n};\n\ntry {\n  const token = await stripe.paymentRequestWithApplePayAsync(items, options);\n\n  // Client specific code\n  // api.sendTokenToBackend(token)\n\n  // You should complete the operation by calling\n  stripe.completeApplePayRequestAsync();\n} catch (error) {\n  // Or cancel if an error occurred\n  // stripe.cancelApplePayRequestAsync()\n}\n")),Object(b.b)("h2",{id:"androidpay"},"AndroidPay"),Object(b.b)("p",null,"Android Pay (also known as Google Pay) is currently only supported in the bare workflow. To add it to your app, add the following lines to your ",Object(b.b)("strong",{parentName:"p"},"AndroidManifest.xml")," file, inside of the ",Object(b.b)("inlineCode",{parentName:"p"},"<application>....</applicaton>")," tags:"),Object(b.b)("pre",null,Object(b.b)("code",{parentName:"pre",className:"language-xml"},'<meta-data\n  android:name="com.google.android.gms.wallet.api.enabled"\n  android:value="true" />\n')),Object(b.b)("h3",{id:"devicesupportsandroidpayasync---promise"},Object(b.b)("inlineCode",{parentName:"h3"},"deviceSupportsAndroidPayAsync() -> Promise")),Object(b.b)("p",null,"Indicates whether or not the device supports AndroidPay. Returns a ",Object(b.b)("inlineCode",{parentName:"p"},"Boolean")," value."),Object(b.b)("pre",null,Object(b.b)("code",{parentName:"pre",className:"language-js"},"import { PaymentsStripe as Stripe } from 'expo-payments-stripe';\n\nawait Stripe.deviceSupportsAndroidPayAsync();\n")),Object(b.b)("h3",{id:"canmakeandroidpaypaymentsasync---promise"},Object(b.b)("inlineCode",{parentName:"h3"},"canMakeAndroidPayPaymentsAsync() -> Promise")),Object(b.b)("p",null,"Indicates whether or not the device supports AndroidPay and user has existing payment method. Returns a ",Object(b.b)("inlineCode",{parentName:"p"},"Boolean")," value."),Object(b.b)("pre",null,Object(b.b)("code",{parentName:"pre",className:"language-js"},"import { PaymentsStripe as Stripe } from 'expo-payments-stripe';\n\nawait Stripe.canMakeAndroidPayPaymentsAsync();\n")),Object(b.b)("h3",{id:"paymentrequestwithandroidpayasyncoptions---promise"},Object(b.b)("inlineCode",{parentName:"h3"},"paymentRequestWithAndroidPayAsync(options) -> Promise")),Object(b.b)("p",null,Object(b.b)("strong",{parentName:"p"},"options")," \u2014 An object with the following keys:"),Object(b.b)("table",null,Object(b.b)("thead",{parentName:"table"},Object(b.b)("tr",{parentName:"thead"},Object(b.b)("th",{parentName:"tr",align:"left"},"Key"),Object(b.b)("th",{parentName:"tr",align:"left"},"Type"),Object(b.b)("th",{parentName:"tr",align:"left"},"Description"))),Object(b.b)("tbody",{parentName:"table"},Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",{parentName:"tr",align:"left"},"total_price"),Object(b.b)("td",{parentName:"tr",align:"left"},"String"),Object(b.b)("td",{parentName:"tr",align:"left"},"Total price for items")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",{parentName:"tr",align:"left"},"currency_code"),Object(b.b)("td",{parentName:"tr",align:"left"},"String"),Object(b.b)("td",{parentName:"tr",align:"left"},"Three-letter ISO currency code representing the currency paid out to the bank account")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",{parentName:"tr",align:"left"},"shipping_address_required","\xa0","(Optional)"),Object(b.b)("td",{parentName:"tr",align:"left"},"Bool"),Object(b.b)("td",{parentName:"tr",align:"left"},"Is shipping address menu required? Default is ",Object(b.b)("strong",{parentName:"td"},"false"))),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",{parentName:"tr",align:"left"},"billing_address_required","\xa0","(Optional)"),Object(b.b)("td",{parentName:"tr",align:"left"},"Bool"),Object(b.b)("td",{parentName:"tr",align:"left"},"Is billing address menu required? Default is ",Object(b.b)("strong",{parentName:"td"},"false"))),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",{parentName:"tr",align:"left"},"line_items"),Object(b.b)("td",{parentName:"tr",align:"left"},"Array"),Object(b.b)("td",{parentName:"tr",align:"left"},"Array of purchased items. Each item contains ",Object(b.b)("strong",{parentName:"td"},"line_item"))))),Object(b.b)("p",null,Object(b.b)("strong",{parentName:"p"},"line_item")," \u2014 An object with the following keys:"),Object(b.b)("table",null,Object(b.b)("thead",{parentName:"table"},Object(b.b)("tr",{parentName:"thead"},Object(b.b)("th",{parentName:"tr",align:"left"},"Key"),Object(b.b)("th",{parentName:"tr",align:"left"},"Type"),Object(b.b)("th",{parentName:"tr",align:"left"},"Description"))),Object(b.b)("tbody",{parentName:"table"},Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",{parentName:"tr",align:"left"},"currency_code"),Object(b.b)("td",{parentName:"tr",align:"left"},"String"),Object(b.b)("td",{parentName:"tr",align:"left"},"Currency code string")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",{parentName:"tr",align:"left"},"description"),Object(b.b)("td",{parentName:"tr",align:"left"},"String"),Object(b.b)("td",{parentName:"tr",align:"left"},"Short description that will shown to user")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",{parentName:"tr",align:"left"},"total_price"),Object(b.b)("td",{parentName:"tr",align:"left"},"String"),Object(b.b)("td",{parentName:"tr",align:"left"},"Total order price")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",{parentName:"tr",align:"left"},"unit_price"),Object(b.b)("td",{parentName:"tr",align:"left"},"String"),Object(b.b)("td",{parentName:"tr",align:"left"},"Price per unit")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",{parentName:"tr",align:"left"},"quantity"),Object(b.b)("td",{parentName:"tr",align:"left"},"String"),Object(b.b)("td",{parentName:"tr",align:"left"},"Number of items")))),Object(b.b)("h4",{id:"example-4"},"Example"),Object(b.b)("pre",null,Object(b.b)("code",{parentName:"pre",className:"language-js"},"const options = {\n  total_price: '80.00',\n  currency_code: 'USD',\n  shipping_address_required: false,\n  billing_address_required: true,\n  shipping_countries: ['US', 'CA'],\n  line_items: [\n    {\n      currency_code: 'USD',\n      description: 'Whisky',\n      total_price: '50.00',\n      unit_price: '50.00',\n      quantity: '1',\n    },\n    {\n      currency_code: 'USD',\n      description: 'Vine',\n      total_price: '30.00',\n      unit_price: '30.00',\n      quantity: '1',\n    },\n  ],\n};\n\nconst token = await stripe.paymentRequestWithAndroidPayAsync(options);\n\n// Client specific code\n// api.sendTokenToBackend(token)\n")),Object(b.b)("p",null,"Example of token:"),Object(b.b)("pre",null,Object(b.b)("code",{parentName:"pre"},'{ card:\n  { currency: null,\n    fingerprint: null,\n    funding: "credit",\n    brand: "MasterCard",\n    number: null,\n    addressState: null,\n    country: "US",\n    cvc: null,\n    expMonth: 12,\n    addressLine1: null,\n    expYear: 2022,\n    addressCountry: null,\n    name: null,\n    last4: "4448",\n    addressLine2: null,\n    addressCity: null,\n    addressZip: null\n  },\n  created: 1512322244000,\n  used: false,\n  extra: {\n    email: "randomemail@mail.com",\n    billingContact: {\n      postalCode: "220019",\n      name: "John Doe",\n      locality: "NY",\n      countryCode: "US",\n      administrativeArea: "US",\n      address1: "Time square 1/11"\n    },\n    shippingContact: {}\n  },\n  livemode: false,\n  tokenId: "tok_1BV1IeDZwqOES60ZphBXBoDr"\n}\n')),Object(b.b)("h2",{id:"structures-of-the-objects"},"Structures of the objects"),Object(b.b)("h3",{id:"the-token-object"},"The Token object"),Object(b.b)("p",null,"A ",Object(b.b)("inlineCode",{parentName:"p"},"token object")," returned from submitting payment details to the Stripe API via:"),Object(b.b)("ul",null,Object(b.b)("li",{parentName:"ul"},Object(b.b)("inlineCode",{parentName:"li"},"paymentRequestWithApplePayAsync")),Object(b.b)("li",{parentName:"ul"},Object(b.b)("inlineCode",{parentName:"li"},"paymentRequestWithCardFormAsync")),Object(b.b)("li",{parentName:"ul"},Object(b.b)("inlineCode",{parentName:"li"},"createTokenWithCardAsync"))),Object(b.b)("h5",{id:"token--an-object-with-the-following-keys"},Object(b.b)("inlineCode",{parentName:"h5"},"token")," \u2014 an object with the following keys"),Object(b.b)("table",null,Object(b.b)("thead",{parentName:"table"},Object(b.b)("tr",{parentName:"thead"},Object(b.b)("th",{parentName:"tr",align:"left"},"Key"),Object(b.b)("th",{parentName:"tr",align:"left"},"Type"),Object(b.b)("th",{parentName:"tr",align:"left"},"Description"))),Object(b.b)("tbody",{parentName:"table"},Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",{parentName:"tr",align:"left"},"tokenId"),Object(b.b)("td",{parentName:"tr",align:"left"},"String"),Object(b.b)("td",{parentName:"tr",align:"left"},"The value of the token. You can store this value on your server and use it to make charges and customers")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",{parentName:"tr",align:"left"},"created"),Object(b.b)("td",{parentName:"tr",align:"left"},"Number"),Object(b.b)("td",{parentName:"tr",align:"left"},"When the token was created")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",{parentName:"tr",align:"left"},"livemode"),Object(b.b)("td",{parentName:"tr",align:"left"},"Number"),Object(b.b)("td",{parentName:"tr",align:"left"},"Whether or not this token was created in livemode. Will be 1 if you used your Live Publishable Key, and 0 if you used your Test Publishable Key")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",{parentName:"tr",align:"left"},"card"),Object(b.b)("td",{parentName:"tr",align:"left"},"Object"),Object(b.b)("td",{parentName:"tr",align:"left"},"The credit card details object that were used to create the token")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",{parentName:"tr",align:"left"},"bankAccount"),Object(b.b)("td",{parentName:"tr",align:"left"},"Object"),Object(b.b)("td",{parentName:"tr",align:"left"},"The external (bank) account details object that were used to create the token")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",{parentName:"tr",align:"left"},"extra"),Object(b.b)("td",{parentName:"tr",align:"left"},"Object"),Object(b.b)("td",{parentName:"tr",align:"left"},"An additional information that method can provide")))),Object(b.b)("h5",{id:"card--an-object-with-the-following-keys"},Object(b.b)("inlineCode",{parentName:"h5"},"card")," \u2014 an object with the following keys"),Object(b.b)("table",null,Object(b.b)("thead",{parentName:"table"},Object(b.b)("tr",{parentName:"thead"},Object(b.b)("th",{parentName:"tr",align:"left"},"Key"),Object(b.b)("th",{parentName:"tr",align:"left"},"Type"),Object(b.b)("th",{parentName:"tr",align:"left"},"Description"))),Object(b.b)("tbody",{parentName:"table"},Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",{parentName:"tr",align:"left"},"cardId"),Object(b.b)("td",{parentName:"tr",align:"left"},"String"),Object(b.b)("td",{parentName:"tr",align:"left"},"The Stripe ID for the card")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",{parentName:"tr",align:"left"},"brand"),Object(b.b)("td",{parentName:"tr",align:"left"},"String"),Object(b.b)("td",{parentName:"tr",align:"left"},"The card\u2019s brand. Can be one of: ",Object(b.b)("strong",{parentName:"td"},"JCB "),"\u2016 ",Object(b.b)("strong",{parentName:"td"},"American Express "),"\u2016 ",Object(b.b)("strong",{parentName:"td"},"Visa "),"\u2016 ",Object(b.b)("strong",{parentName:"td"},"Discover "),"\u2016 ",Object(b.b)("strong",{parentName:"td"},"Diners Club "),"\u2016 ",Object(b.b)("strong",{parentName:"td"},"MasterCard "),"\u2016 ",Object(b.b)("strong",{parentName:"td"},"Unknown"))),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",{parentName:"tr",align:"left"},"funding (iOS)"),Object(b.b)("td",{parentName:"tr",align:"left"},"String"),Object(b.b)("td",{parentName:"tr",align:"left"},"The card\u2019s funding. Can be one of: ",Object(b.b)("strong",{parentName:"td"},"debit "),"\u2016 ",Object(b.b)("strong",{parentName:"td"},"credit "),"\u2016 ",Object(b.b)("strong",{parentName:"td"},"prepaid "),"\u2016 ",Object(b.b)("strong",{parentName:"td"},"unknown"))),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",{parentName:"tr",align:"left"},"last4"),Object(b.b)("td",{parentName:"tr",align:"left"},"String"),Object(b.b)("td",{parentName:"tr",align:"left"},"The last 4 digits of the card")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",{parentName:"tr",align:"left"},"dynamicLast4","\xa0","(iOS)"),Object(b.b)("td",{parentName:"tr",align:"left"},"String"),Object(b.b)("td",{parentName:"tr",align:"left"},"For cards made with Apple Pay, this refers to the last 4 digits of the Device Account Number for the tokenized card")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",{parentName:"tr",align:"left"},"isApplePayCard","\xa0","(iOS)"),Object(b.b)("td",{parentName:"tr",align:"left"},"Bool"),Object(b.b)("td",{parentName:"tr",align:"left"},"Whether or not the card originated from Apple Pay")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",{parentName:"tr",align:"left"},"expMonth"),Object(b.b)("td",{parentName:"tr",align:"left"},"Number"),Object(b.b)("td",{parentName:"tr",align:"left"},"The card\u2019s expiration month. 1-indexed (i.e. 1 == January)")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",{parentName:"tr",align:"left"},"expYear"),Object(b.b)("td",{parentName:"tr",align:"left"},"Number"),Object(b.b)("td",{parentName:"tr",align:"left"},"The card\u2019s expiration year")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",{parentName:"tr",align:"left"},"country"),Object(b.b)("td",{parentName:"tr",align:"left"},"String"),Object(b.b)("td",{parentName:"tr",align:"left"},"Two-letter ISO code representing the issuing country of the card")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",{parentName:"tr",align:"left"},"currency"),Object(b.b)("td",{parentName:"tr",align:"left"},"String"),Object(b.b)("td",{parentName:"tr",align:"left"},"This is only applicable when tokenizing debit cards to issue payouts to managed accounts. The card can then be used as a transfer destination for funds in this currency")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",{parentName:"tr",align:"left"},"name"),Object(b.b)("td",{parentName:"tr",align:"left"},"String"),Object(b.b)("td",{parentName:"tr",align:"left"},"The cardholder\u2019s name")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",{parentName:"tr",align:"left"},"addressLine1"),Object(b.b)("td",{parentName:"tr",align:"left"},"String"),Object(b.b)("td",{parentName:"tr",align:"left"},"The cardholder\u2019s first address line")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",{parentName:"tr",align:"left"},"addressLine2"),Object(b.b)("td",{parentName:"tr",align:"left"},"String"),Object(b.b)("td",{parentName:"tr",align:"left"},"The cardholder\u2019s second address line")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",{parentName:"tr",align:"left"},"addressCity"),Object(b.b)("td",{parentName:"tr",align:"left"},"String"),Object(b.b)("td",{parentName:"tr",align:"left"},"The cardholder\u2019s city")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",{parentName:"tr",align:"left"},"addressState"),Object(b.b)("td",{parentName:"tr",align:"left"},"String"),Object(b.b)("td",{parentName:"tr",align:"left"},"The cardholder\u2019s state")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",{parentName:"tr",align:"left"},"addressCountry"),Object(b.b)("td",{parentName:"tr",align:"left"},"String"),Object(b.b)("td",{parentName:"tr",align:"left"},"The cardholder\u2019s country")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",{parentName:"tr",align:"left"},"addressZip"),Object(b.b)("td",{parentName:"tr",align:"left"},"String"),Object(b.b)("td",{parentName:"tr",align:"left"},"The cardholder\u2019s zip code")))),Object(b.b)("h5",{id:"bankaccount"},Object(b.b)("inlineCode",{parentName:"h5"},"bankAccount")),Object(b.b)("table",null,Object(b.b)("thead",{parentName:"table"},Object(b.b)("tr",{parentName:"thead"},Object(b.b)("th",{parentName:"tr",align:"left"},"Key"),Object(b.b)("th",{parentName:"tr",align:"left"},"Type"),Object(b.b)("th",{parentName:"tr",align:"left"},"Description"))),Object(b.b)("tbody",{parentName:"table"},Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",{parentName:"tr",align:"left"},"routingNumber"),Object(b.b)("td",{parentName:"tr",align:"left"},"String"),Object(b.b)("td",{parentName:"tr",align:"left"},"The routing number of this account")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",{parentName:"tr",align:"left"},"accountNumber"),Object(b.b)("td",{parentName:"tr",align:"left"},"String"),Object(b.b)("td",{parentName:"tr",align:"left"},"The account number for this BankAccount.")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",{parentName:"tr",align:"left"},"countryCode"),Object(b.b)("td",{parentName:"tr",align:"left"},"String"),Object(b.b)("td",{parentName:"tr",align:"left"},"The two-letter country code that this account was created in")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",{parentName:"tr",align:"left"},"currency"),Object(b.b)("td",{parentName:"tr",align:"left"},"String"),Object(b.b)("td",{parentName:"tr",align:"left"},"The currency of this account")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",{parentName:"tr",align:"left"},"accountHolderName"),Object(b.b)("td",{parentName:"tr",align:"left"},"String"),Object(b.b)("td",{parentName:"tr",align:"left"},"The account holder's name")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",{parentName:"tr",align:"left"},"accountHolderType"),Object(b.b)("td",{parentName:"tr",align:"left"},"String"),Object(b.b)("td",{parentName:"tr",align:"left"},"the bank account type. Can be one of: ",Object(b.b)("strong",{parentName:"td"},"company "),"\u2016 ",Object(b.b)("strong",{parentName:"td"},"individual"))),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",{parentName:"tr",align:"left"},"fingerprint"),Object(b.b)("td",{parentName:"tr",align:"left"},"String"),Object(b.b)("td",{parentName:"tr",align:"left"},"The account fingerprint")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",{parentName:"tr",align:"left"},"bankName"),Object(b.b)("td",{parentName:"tr",align:"left"},"String"),Object(b.b)("td",{parentName:"tr",align:"left"},"The name of bank")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",{parentName:"tr",align:"left"},"last4"),Object(b.b)("td",{parentName:"tr",align:"left"},"String"),Object(b.b)("td",{parentName:"tr",align:"left"},"The last four digits of the account number")))),Object(b.b)("h4",{id:"example-5"},"Example"),Object(b.b)("pre",null,Object(b.b)("code",{parentName:"pre",className:"language-js"},"{\n  tokenId: 'tok_19GCAQI5NuVQgnjeKNE32K0p',\n  created: 1479236426,\n  livemode: 0,\n  card: {\n    cardId: 'card_19GCAQI5NuVQgnjeRZizG4U3',\n    brand: 'Visa',\n    funding: 'credit',\n    last4: '4242',\n    expMonth: 4,\n    expYear: 2024,\n    country: 'US',\n    name: 'Eugene Grissom',\n    addressLine1: 'Green Street',\n    addressLine2: '3380',\n    addressCity: 'Nashville',\n    addressState: 'Tennessee',\n    addressCountry: 'US',\n    addressZip: '37211',\n  },\n  bankAccount: {\n    bankName: 'STRIPE TEST BANK',\n    accountHolderType: 'company',\n    last4: '6789',\n    accountHolderName: 'Test holder name',\n    currency: 'usd',\n    fingerprint: 'afghsajhaartkjasd',\n    countryCode: 'US',\n    accountNumber: '424542424',\n    routingNumber: '110000000',\n  },\n}\n")),Object(b.b)("h3",{id:"the-source-object"},"The Source object"),Object(b.b)("p",null,"A source object returned from creating a source (via ",Object(b.b)("inlineCode",{parentName:"p"},"createSourceWithParamsAsync"),") with the Stripe API."),Object(b.b)("h5",{id:"source--an-object-with-the-following-keys"},Object(b.b)("inlineCode",{parentName:"h5"},"source")," \u2014 an object with the following keys:"),Object(b.b)("table",null,Object(b.b)("thead",{parentName:"table"},Object(b.b)("tr",{parentName:"thead"},Object(b.b)("th",{parentName:"tr",align:"left"},"Key"),Object(b.b)("th",{parentName:"tr",align:"left"},"Type"),Object(b.b)("th",{parentName:"tr",align:"left"},"Description"))),Object(b.b)("tbody",{parentName:"table"},Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",{parentName:"tr",align:"left"},"amount"),Object(b.b)("td",{parentName:"tr",align:"left"},"Number"),Object(b.b)("td",{parentName:"tr",align:"left"},"The amount associated with the source")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",{parentName:"tr",align:"left"},"clientSecret"),Object(b.b)("td",{parentName:"tr",align:"left"},"String"),Object(b.b)("td",{parentName:"tr",align:"left"},"The client secret of the source. Used for client-side polling using a publishable key")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",{parentName:"tr",align:"left"},"created"),Object(b.b)("td",{parentName:"tr",align:"left"},"Number"),Object(b.b)("td",{parentName:"tr",align:"left"},"When the source was created")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",{parentName:"tr",align:"left"},"currency"),Object(b.b)("td",{parentName:"tr",align:"left"},"String"),Object(b.b)("td",{parentName:"tr",align:"left"},"The currency associated with the source")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",{parentName:"tr",align:"left"},"flow"),Object(b.b)("td",{parentName:"tr",align:"left"},"String"),Object(b.b)("td",{parentName:"tr",align:"left"},"The authentication flow of the source. Can be one of: ",Object(b.b)("strong",{parentName:"td"},"none \u2016 redirect \u2016 verification \u2016 receiver \u2016 unknown"))),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",{parentName:"tr",align:"left"},"livemode"),Object(b.b)("td",{parentName:"tr",align:"left"},"Bool"),Object(b.b)("td",{parentName:"tr",align:"left"},"Whether or not this source was created in ",Object(b.b)("em",{parentName:"td"},"livemode"),". Will be ",Object(b.b)("em",{parentName:"td"},"true")," if you used your Live Publishable Key, and ",Object(b.b)("em",{parentName:"td"},"false")," if you used your Test Publishable Key")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",{parentName:"tr",align:"left"},"metadata"),Object(b.b)("td",{parentName:"tr",align:"left"},"Object"),Object(b.b)("td",{parentName:"tr",align:"left"},"A set of key/value pairs associated with the source object")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",{parentName:"tr",align:"left"},"owner"),Object(b.b)("td",{parentName:"tr",align:"left"},"Object"),Object(b.b)("td",{parentName:"tr",align:"left"},"Information about the owner of the payment instrument")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",{parentName:"tr",align:"left"},"receiver"),Object(b.b)("td",{parentName:"tr",align:"left"},"Object (Optional)"),Object(b.b)("td",{parentName:"tr",align:"left"},"Information related to the receiver flow. Present if the source is a receiver")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",{parentName:"tr",align:"left"},"redirect"),Object(b.b)("td",{parentName:"tr",align:"left"},"Object (Optional)"),Object(b.b)("td",{parentName:"tr",align:"left"},"Information related to the redirect flow. Present if the source is authenticated by a redirect")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",{parentName:"tr",align:"left"},"status"),Object(b.b)("td",{parentName:"tr",align:"left"},"String"),Object(b.b)("td",{parentName:"tr",align:"left"},"The status of the source. Can be one of: ",Object(b.b)("strong",{parentName:"td"},"pending \u2016 chargable \u2016 consumed \u2016 cancelled \u2016 failed"))),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",{parentName:"tr",align:"left"},"type"),Object(b.b)("td",{parentName:"tr",align:"left"},"String"),Object(b.b)("td",{parentName:"tr",align:"left"},"The type of the source. Can be one of: ",Object(b.b)("strong",{parentName:"td"},"bancontact \u2016 card \u2016 griopay \u2016 ideal \u2016 sepaDebit \u2016 sofort \u2016 threeDSecure \u2016 alipay \u2016 unknown"))),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",{parentName:"tr",align:"left"},"usage"),Object(b.b)("td",{parentName:"tr",align:"left"},"String"),Object(b.b)("td",{parentName:"tr",align:"left"},"Whether this source should be reusable or not. Can be one of: ",Object(b.b)("strong",{parentName:"td"},"reusable \u2016 single \u2016 unknown"))),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",{parentName:"tr",align:"left"},"verification"),Object(b.b)("td",{parentName:"tr",align:"left"},"Object (Optional)"),Object(b.b)("td",{parentName:"tr",align:"left"},"Information related to the verification flow. Present if the source is authenticated by a verification")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",{parentName:"tr",align:"left"},"details"),Object(b.b)("td",{parentName:"tr",align:"left"},"Object"),Object(b.b)("td",{parentName:"tr",align:"left"},"Information about the source specific to its type")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",{parentName:"tr",align:"left"},"cardDetails"),Object(b.b)("td",{parentName:"tr",align:"left"},"Object (Optional)"),Object(b.b)("td",{parentName:"tr",align:"left"},"If this is a card source, this property contains information about the card")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",{parentName:"tr",align:"left"},"sepaDebitDetails"),Object(b.b)("td",{parentName:"tr",align:"left"},"Object (Optional)"),Object(b.b)("td",{parentName:"tr",align:"left"},"If this is a SEPA Debit source, this property contains information about the sepaDebit")))),Object(b.b)("h5",{id:"owner"},Object(b.b)("inlineCode",{parentName:"h5"},"owner")),Object(b.b)("table",null,Object(b.b)("thead",{parentName:"table"},Object(b.b)("tr",{parentName:"thead"},Object(b.b)("th",{parentName:"tr",align:"left"},"Key"),Object(b.b)("th",{parentName:"tr",align:"left"},"Type"),Object(b.b)("th",{parentName:"tr",align:"left"},"Description"))),Object(b.b)("tbody",{parentName:"table"},Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",{parentName:"tr",align:"left"},"address"),Object(b.b)("td",{parentName:"tr",align:"left"},"Object (Optional)"),Object(b.b)("td",{parentName:"tr",align:"left"},"Owner\u2019s address")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",{parentName:"tr",align:"left"},"email"),Object(b.b)("td",{parentName:"tr",align:"left"},"String (Optional)"),Object(b.b)("td",{parentName:"tr",align:"left"},"Owner\u2019s email address")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",{parentName:"tr",align:"left"},"name"),Object(b.b)("td",{parentName:"tr",align:"left"},"String (Optional)"),Object(b.b)("td",{parentName:"tr",align:"left"},"Owner\u2019s full name")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",{parentName:"tr",align:"left"},"phone"),Object(b.b)("td",{parentName:"tr",align:"left"},"String (Optional)"),Object(b.b)("td",{parentName:"tr",align:"left"},"Owner\u2019s phone number")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",{parentName:"tr",align:"left"},"verifiedAddress"),Object(b.b)("td",{parentName:"tr",align:"left"},"Object (Optional)"),Object(b.b)("td",{parentName:"tr",align:"left"},"Verified owner\u2019s address")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",{parentName:"tr",align:"left"},"verifiedEmail"),Object(b.b)("td",{parentName:"tr",align:"left"},"String (Optional)"),Object(b.b)("td",{parentName:"tr",align:"left"},"Verified owner\u2019s email address")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",{parentName:"tr",align:"left"},"verifiedName"),Object(b.b)("td",{parentName:"tr",align:"left"},"String (Optional)"),Object(b.b)("td",{parentName:"tr",align:"left"},"Verified owner\u2019s full name")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",{parentName:"tr",align:"left"},"verifiedPhone"),Object(b.b)("td",{parentName:"tr",align:"left"},"String (Optional)"),Object(b.b)("td",{parentName:"tr",align:"left"},"Verified owner\u2019s phone number")))),Object(b.b)("h5",{id:"receiver"},Object(b.b)("inlineCode",{parentName:"h5"},"receiver")),Object(b.b)("table",null,Object(b.b)("thead",{parentName:"table"},Object(b.b)("tr",{parentName:"thead"},Object(b.b)("th",{parentName:"tr",align:"left"},"Key"),Object(b.b)("th",{parentName:"tr",align:"left"},"Type"),Object(b.b)("th",{parentName:"tr",align:"left"},"Description"))),Object(b.b)("tbody",{parentName:"table"},Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",{parentName:"tr",align:"left"},"address"),Object(b.b)("td",{parentName:"tr",align:"left"},"Object"),Object(b.b)("td",{parentName:"tr",align:"left"},"The address of the receiver source. This is the value that should be communicated to the customer to send their funds to")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",{parentName:"tr",align:"left"},"amountCharged"),Object(b.b)("td",{parentName:"tr",align:"left"},"Number"),Object(b.b)("td",{parentName:"tr",align:"left"},"The total amount charged by you")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",{parentName:"tr",align:"left"},"amountReceived"),Object(b.b)("td",{parentName:"tr",align:"left"},"Number"),Object(b.b)("td",{parentName:"tr",align:"left"},"The total amount received by the receiver source")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",{parentName:"tr",align:"left"},"amountReturned"),Object(b.b)("td",{parentName:"tr",align:"left"},"Number"),Object(b.b)("td",{parentName:"tr",align:"left"},"The total amount that was returned to the customer")))),Object(b.b)("h5",{id:"redirect"},Object(b.b)("inlineCode",{parentName:"h5"},"redirect")),Object(b.b)("table",null,Object(b.b)("thead",{parentName:"table"},Object(b.b)("tr",{parentName:"thead"},Object(b.b)("th",{parentName:"tr",align:"left"},"Key"),Object(b.b)("th",{parentName:"tr",align:"left"},"Type"),Object(b.b)("th",{parentName:"tr",align:"left"},"Description"))),Object(b.b)("tbody",{parentName:"table"},Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",{parentName:"tr",align:"left"},"returnURL"),Object(b.b)("td",{parentName:"tr",align:"left"},"String"),Object(b.b)("td",{parentName:"tr",align:"left"},"The URL you provide to redirect the customer to after they authenticated their payment")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",{parentName:"tr",align:"left"},"status"),Object(b.b)("td",{parentName:"tr",align:"left"},"String"),Object(b.b)("td",{parentName:"tr",align:"left"},"The status of the redirect. Can be one of: ",Object(b.b)("strong",{parentName:"td"},"pending \u2016 succeeded \u2016 failed \u2016 unknown"))),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",{parentName:"tr",align:"left"},"url"),Object(b.b)("td",{parentName:"tr",align:"left"},"String"),Object(b.b)("td",{parentName:"tr",align:"left"},"The URL provided to you to redirect a customer to as part of a redirect authentication flow")))),Object(b.b)("h5",{id:"verification"},Object(b.b)("inlineCode",{parentName:"h5"},"verification")),Object(b.b)("table",null,Object(b.b)("thead",{parentName:"table"},Object(b.b)("tr",{parentName:"thead"},Object(b.b)("th",{parentName:"tr",align:"left"},"Key"),Object(b.b)("th",{parentName:"tr",align:"left"},"Type"),Object(b.b)("th",{parentName:"tr",align:"left"},"Description"))),Object(b.b)("tbody",{parentName:"table"},Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",{parentName:"tr",align:"left"},"attemptsRemaining"),Object(b.b)("td",{parentName:"tr",align:"left"},"Number"),Object(b.b)("td",{parentName:"tr",align:"left"},"The number of attempts remaining to authenticate the source object with a verification code")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",{parentName:"tr",align:"left"},"status"),Object(b.b)("td",{parentName:"tr",align:"left"},"String"),Object(b.b)("td",{parentName:"tr",align:"left"},"The status of the verification. Can be one of: ",Object(b.b)("strong",{parentName:"td"},"pending \u2016 succeeded \u2016 failed \u2016 unknown"))))),Object(b.b)("h5",{id:"carddetails"},Object(b.b)("inlineCode",{parentName:"h5"},"cardDetails")),Object(b.b)("table",null,Object(b.b)("thead",{parentName:"table"},Object(b.b)("tr",{parentName:"thead"},Object(b.b)("th",{parentName:"tr",align:"left"},"Key"),Object(b.b)("th",{parentName:"tr",align:"left"},"Type"),Object(b.b)("th",{parentName:"tr",align:"left"},"Description"))),Object(b.b)("tbody",{parentName:"table"},Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",{parentName:"tr",align:"left"},"last4"),Object(b.b)("td",{parentName:"tr",align:"left"},"String"),Object(b.b)("td",{parentName:"tr",align:"left"},"The last 4 digits of the card")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",{parentName:"tr",align:"left"},"expMonth"),Object(b.b)("td",{parentName:"tr",align:"left"},"Number"),Object(b.b)("td",{parentName:"tr",align:"left"},"The card\u2019s expiration month. 1-indexed ","(","i.e. 1 == January",")")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",{parentName:"tr",align:"left"},"expYear"),Object(b.b)("td",{parentName:"tr",align:"left"},"Number"),Object(b.b)("td",{parentName:"tr",align:"left"},"The card\u2019s expiration year")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",{parentName:"tr",align:"left"},"brand"),Object(b.b)("td",{parentName:"tr",align:"left"},"String"),Object(b.b)("td",{parentName:"tr",align:"left"},"The issuer of the card. Can be one of: ",Object(b.b)("strong",{parentName:"td"},"JCB \u2016 American Express \u2016 Visa \u2016 Discover \u2016 Diners Club \u2016 MasterCard \u2016 Unknown"))),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",{parentName:"tr",align:"left"},"funding ","(","iOS",")"),Object(b.b)("td",{parentName:"tr",align:"left"},"String"),Object(b.b)("td",{parentName:"tr",align:"left"},"The funding source for the card. Can be one of: ",Object(b.b)("strong",{parentName:"td"},"debit \u2016 credit \u2016 prepaid \u2016 unknown"))),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",{parentName:"tr",align:"left"},"country"),Object(b.b)("td",{parentName:"tr",align:"left"},"String"),Object(b.b)("td",{parentName:"tr",align:"left"},"Two-letter ISO code representing the issuing country of the card")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",{parentName:"tr",align:"left"},"threeDSecure"),Object(b.b)("td",{parentName:"tr",align:"left"},"String"),Object(b.b)("td",{parentName:"tr",align:"left"},"Whether 3D Secure is supported or required by the card. Can be one of: ",Object(b.b)("strong",{parentName:"td"},"required \u2016 optional \u2016 notSupported \u2016 unknown"))))),Object(b.b)("h5",{id:"sepadebitdetails"},Object(b.b)("inlineCode",{parentName:"h5"},"sepaDebitDetails")),Object(b.b)("table",null,Object(b.b)("thead",{parentName:"table"},Object(b.b)("tr",{parentName:"thead"},Object(b.b)("th",{parentName:"tr",align:"left"},"Key"),Object(b.b)("th",{parentName:"tr",align:"left"},"Type"),Object(b.b)("th",{parentName:"tr",align:"left"},"Description"))),Object(b.b)("tbody",{parentName:"table"},Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",{parentName:"tr",align:"left"},"last4"),Object(b.b)("td",{parentName:"tr",align:"left"},"String"),Object(b.b)("td",{parentName:"tr",align:"left"},"The last 4 digits of the account number")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",{parentName:"tr",align:"left"},"bankCode"),Object(b.b)("td",{parentName:"tr",align:"left"},"String"),Object(b.b)("td",{parentName:"tr",align:"left"},"The account\u2019s bank code")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",{parentName:"tr",align:"left"},"country"),Object(b.b)("td",{parentName:"tr",align:"left"},"String"),Object(b.b)("td",{parentName:"tr",align:"left"},"Two-letter ISO code representing the country of the bank account")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",{parentName:"tr",align:"left"},"fingerprint"),Object(b.b)("td",{parentName:"tr",align:"left"},"String"),Object(b.b)("td",{parentName:"tr",align:"left"},"The account\u2019s fingerprint")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",{parentName:"tr",align:"left"},"mandateReference"),Object(b.b)("td",{parentName:"tr",align:"left"},"String"),Object(b.b)("td",{parentName:"tr",align:"left"},"The reference of the mandate accepted by your customer")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",{parentName:"tr",align:"left"},"mandateURL"),Object(b.b)("td",{parentName:"tr",align:"left"},"String"),Object(b.b)("td",{parentName:"tr",align:"left"},"The details of the mandate accepted by your customer")))),Object(b.b)("h1",{id:"example-6"},"Example"),Object(b.b)("pre",null,Object(b.b)("code",{parentName:"pre",className:"language-js"},"{\n  livemode: false,\n  amount: 50,\n  owner: {},\n  metadata: {},\n  clientSecret: 'src_client_secret_BLnXIZxZprDmdhw3zv12123L',\n  details: {\n    native_url: null,\n    statement_descriptor: null\n  },\n  type: 'alipay',\n  redirect: {\n    url: 'https://hooks.stripe.com/redirect/authenticate/src_1Az5vzE5aJKqY779Kes5s61m?client_secret=src_client_secret_BLnXIZxZprDmdhw3zv12123L',\n    returnURL: 'example://stripe-redirect?redirect_merchant_name=example',\n    status: 'succeeded'\n  },\n  usage: 'single',\n  created: 1504713563,\n  flow: 'redirect',\n  currency: 'euro',\n  status: 'chargable',\n}\n")),Object(b.b)("h2",{id:"enabling-apple-pay-in-bare"},"Enabling Apple Pay in bare"),Object(b.b)("p",null,"If you want to use Apple Pay for payments, you'll need to set up your merchant ID in XCode first. Note that you do not need to go through this process to use the Payments module - you can still process payments with Stripe without going through the steps in this section."),Object(b.b)("p",null,"If you haven't already, set up an Apple Merchant ID via the ",Object(b.b)("a",{parentName:"p",href:"https://developer.apple.com/"},"Apple Developer Portal"),". Then, open the application in XCode and navigate to the capabilities tab. Enable Apple Pay and insert your merchant ID into the corresponding space."),Object(b.b)("p",null,"Note: Apple Pay can be used only for real world items (ex. appeal, car sharing, food) and not virtual goods. For more information about proper usage of Apple Pay, visit Apple's ",Object(b.b)("a",{parentName:"p",href:"https://developer.apple.com/app-store/review/guidelines/#apple-pay"},"Apple Pay guidelines")," and ",Object(b.b)("a",{parentName:"p",href:"https://developer.apple.com/apple-pay/acceptable-use-guidelines-for-websites/"},"Acceptable Use"),"."))}s.isMDXComponent=!0},wdST:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/versions/v41.0.0/sdk/payments",function(){return a("e/TA")}])}},[["wdST",1,0,2,3,4,5,6]]]);