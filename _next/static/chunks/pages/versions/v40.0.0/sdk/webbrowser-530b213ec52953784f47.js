_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[716],{"5BX9":function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return s}));var r=n("q1tI"),a=n("AeFk"),o=Object(r.createContext)({version:"latest",hasVersion:!1,setVersion:function(e){throw new Error("PageApiVersionContext not found")}});function i(e){var t=b(e.router.pathname),n=null!==t,i=Object(r.useCallback)((function(t){e.router.push(function(e,t){var n=b(e);return n?e.replace(n,t):e}(e.router.pathname,t))}),[]);return Object(a.c)(o.Provider,{value:{setVersion:i,hasVersion:n,version:t||"latest"}},e.children)}function s(){return Object(r.useContext)(o)}function b(e){return function(e){return e.startsWith("/versions/")}(e)?e.split("/",3).pop():null}},"6FTQ":function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,"a",(function(){return r}))},"8rE2":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("6FTQ");function a(e,t){if(e){if("string"===typeof e)return Object(r.a)(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Object(r.a)(e,t):void 0}}},I0q5:function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var r=n("z7pX"),a=n("H+61"),o=n("UlJF"),i=n("+Css"),s=n("7LId"),b=n("VIvw"),l=n("iHvq"),c=n("cpVT"),p=n("q1tI"),d=n("ufKf"),m=n("3zh3"),u=n("AeFk"),h=function(e){var t=e.size,n=void 0===t?24:t,r=e.stroke,a=void 0===r?m.palette.dark.white:r;return Object(u.c)("svg",{"aria-label":"check",width:n,height:n,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Object(u.c)("path",{d:"M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6m4-3h6v6m-11 5L21 3",stroke:a,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}))},w=n("5BX9");function O(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(l.a)(e);if(t){var a=Object(l.a)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(b.a)(this,n)}}var j="v".concat(n("kiQV").version),g=function(e){Object(s.a)(n,e);var t=O(n);function n(){var e;Object(a.a)(this,n);for(var o=arguments.length,s=new Array(o),b=0;b<o;b++)s[b]=arguments[b];return e=t.call.apply(t,[this].concat(s)),Object(c.a)(Object(i.a)(e),"contentRef",p.createRef()),Object(c.a)(Object(i.a)(e),"state",{ready:!1}),Object(c.a)(Object(i.a)(e),"getSelectedDocsVersion",(function(){var t=e.context.version;return"latest"===t?j:t})),Object(c.a)(Object(i.a)(e),"getSnackSdkVersion",(function(){var t=e.getSelectedDocsVersion();return"unversioned"===t&&(t=j),t.replace("v","")})),Object(c.a)(Object(i.a)(e),"getExamplesPath",(function(){return"".concat(document.location.origin,"/static/examples/").concat(e.getSelectedDocsVersion())})),Object(c.a)(Object(i.a)(e),"getDependencies",(function(){return Object(r.a)(e.props.dependencies).join(",")})),Object(c.a)(Object(i.a)(e),"getCode",(function(){return(e.contentRef.current&&e.contentRef.current.textContent||"").replace(/%%placeholder-start%%.*%%placeholder-end%%/g,"")})),e}return Object(o.a)(n,[{key:"componentDidMount",value:function(){this.setState({ready:!0})}},{key:"render",value:function(){return Object(u.c)("div",null,Object(u.c)("div",{ref:this.contentRef,style:this.props.contentHidden?{display:"none"}:void 0},this.props.children),Object(u.c)("form",{action:d.a,method:"POST",target:"_blank"},Object(u.c)("input",{type:"hidden",name:"platform",value:this.props.defaultPlatform||"android"}),Object(u.c)("input",{type:"hidden",name:"name",value:this.props.label||"Example"}),Object(u.c)("input",{type:"hidden",name:"dependencies",value:this.getDependencies()}),Object(u.c)("input",{type:"hidden",name:"sdkVersion",value:this.getSnackSdkVersion()}),this.props.platforms&&Object(u.c)("input",{type:"hidden",name:"supportedPlatforms",value:this.props.platforms.join(",")}),this.state.ready&&Object(u.c)("input",{type:"hidden",name:"files",value:JSON.stringify(Object(d.b)({templateId:this.props.templateId,code:this.getCode(),files:this.props.files,baseURL:this.getExamplesPath()}))}),Object(u.c)("button",{className:"snack-inline-example-button",disabled:!this.state.ready},Object(u.c)(h,{size:16})," ",this.props.buttonTitle||"Try this example on Snack")))}}]),n}(p.Component);Object(c.a)(g,"contextType",w.a),Object(c.a)(g,"defaultProps",{dependencies:[]})},IVIa:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/versions/v40.0.0/sdk/webbrowser",function(){return n("NIJS")}])},NIJS:function(e,t,n){"use strict";n.r(t),n.d(t,"meta",(function(){return c})),n.d(t,"headings",(function(){return p})),n.d(t,"default",(function(){return m}));var r=n("HALo"),a=n("dhJC"),o=(n("q1tI"),n("7ljp")),i=n("HCau"),s=n("hykZ"),b=n("I0q5"),l=["components"],c={title:"WebBrowser",sourceCodeUrl:"https://github.com/expo/expo/tree/sdk-40/packages/expo-web-browser"},p=[{depth:2,type:"text",title:"Installation"},{depth:2,type:"text",title:"Usage"},{depth:3,type:"text",title:"Handling deep links from the WebBrowser"},{depth:2,type:"text",title:"API"},{depth:3,type:"inlineCode",title:"WebBrowser.openBrowserAsync(url)"},{depth:4,type:"text",title:"Arguments"},{depth:4,type:"text",title:"Returns"},{depth:3,type:"inlineCode",title:"WebBrowser.openAuthSessionAsync(url, redirectUrl)"},{depth:4,type:"text",title:"Arguments"},{depth:4,type:"text",title:"Error Codes"},{depth:3,type:"inlineCode",title:"WebBrowser.maybeCompleteAuthSession(options)"},{depth:4,type:"text",title:"Arguments"},{depth:3,type:"inlineCode",title:"WebBrowser.warmUpAsync(browserPackage)"},{depth:4,type:"text",title:"Arguments"},{depth:4,type:"text",title:"Returns"},{depth:3,type:"inlineCode",title:"WebBrowser.mayInitWithUrlAsync(url, package)"},{depth:4,type:"text",title:"Arguments"},{depth:4,type:"text",title:"Returns"},{depth:3,type:"inlineCode",title:"WebBrowser.coolDownAsync(browserPackage)"},{depth:4,type:"text",title:"Arguments"},{depth:4,type:"text",title:"Returns"},{depth:3,type:"inlineCode",title:"WebBrowser.dismissBrowser()"},{depth:4,type:"text",title:"Returns"},{depth:3,type:"inlineCode",title:"WebBrowser.getCustomTabsSupportingBrowsersAsync"},{depth:4,type:"text",title:"Returns"},{depth:2,type:"text",title:"Error Codes"},{depth:3,type:"inlineCode",title:"ERR_WEB_BROWSER_REDIRECT"},{depth:3,type:"inlineCode",title:"ERR_WEB_BROWSER_BLOCKED"},{depth:3,type:"inlineCode",title:"ERR_WEB_BROWSER_CRYPTO"}],d={meta:c,headings:p};function m(e){var t=e.components,n=Object(a.a)(e,l);return Object(o.b)("wrapper",Object(r.a)({},d,n,{components:t,mdxType:"MDXLayout"}),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},Object(o.b)("inlineCode",{parentName:"strong"},"expo-web-browser"))," provides access to the system's web browser and supports handling redirects. On iOS, it uses ",Object(o.b)("inlineCode",{parentName:"p"},"SFSafariViewController")," or ",Object(o.b)("inlineCode",{parentName:"p"},"SFAuthenticationSession"),", depending on the method you call, and on Android it uses ",Object(o.b)("inlineCode",{parentName:"p"},"ChromeCustomTabs"),". As of iOS 11, ",Object(o.b)("inlineCode",{parentName:"p"},"SFSafariViewController")," no longer shares cookies with Safari, so if you are using ",Object(o.b)("inlineCode",{parentName:"p"},"WebBrowser")," for authentication you will want to use ",Object(o.b)("inlineCode",{parentName:"p"},"WebBrowser.openAuthSessionAsync"),", and if you just want to open a webpage (such as your app privacy policy), then use ",Object(o.b)("inlineCode",{parentName:"p"},"WebBrowser.openBrowserAsync"),"."),Object(o.b)(s.a,{android:!0,emulator:!0,ios:!0,simulator:!0,web:!0,mdxType:"PlatformsSection"}),Object(o.b)("h2",{id:"installation"},"Installation"),Object(o.b)(i.b,{packageName:"expo-web-browser",mdxType:"InstallSection"}),Object(o.b)("h2",{id:"usage"},"Usage"),Object(o.b)(b.a,{label:"Basic WebBrowser usage",dependencies:["expo-web-browser","expo-constants"],mdxType:"SnackInline"},Object(o.b)("pre",null,Object(o.b)("code",{parentName:"pre",className:"language-jsx"},"import React, { useState } from 'react';\nimport { Button, Text, View, StyleSheet } from 'react-native';\nimport * as WebBrowser from 'expo-web-browser';\n/* @hide */\nimport Constants from 'expo-constants';\n/* @end */\n\nexport default function App() {\n  const [result, setResult] = useState(null);\n\n  const _handlePressButtonAsync = async () => {\n    let result = await WebBrowser.openBrowserAsync('https://expo.dev');\n    setResult(result);\n  };\n  return (\n    <View style={styles.container}>\n      <Button title=\"Open WebBrowser\" onPress={_handlePressButtonAsync} />\n      <Text>{result && JSON.stringify(result)}</Text>\n    </View>\n  );\n}\n\n/* @hide const styles = StyleSheet.create({ ... }); */\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    alignItems: 'center',\n    justifyContent: 'center',\n    paddingTop: Constants.statusBarHeight,\n    backgroundColor: '#ecf0f1',\n  },\n});\n/* @end */\n"))),Object(o.b)("h3",{id:"handling-deep-links-from-the-webbrowser"},"Handling deep links from the WebBrowser"),Object(o.b)("p",null,"If you are using the ",Object(o.b)("inlineCode",{parentName:"p"},"WebBrowser")," window for authentication or another use case where you would like to pass information back into your app through a deep link, be sure to add a handler with ",Object(o.b)("inlineCode",{parentName:"p"},"Linking.addEventListener")," before opening the browser. When the listener fires, you should call ",Object(o.b)("a",{parentName:"p",href:"/versions/v40.0.0/sdk/webbrowser/#webbrowserdismissbrowser"},"dismissBrowser")," -- it will not automatically dismiss when a deep link is handled. Aside from that, redirects from ",Object(o.b)("inlineCode",{parentName:"p"},"WebBrowser")," work the same as other deep links. ",Object(o.b)("a",{parentName:"p",href:"/guides/linking/#handling-links-into-your-app"},"Read more about it in the Linking guide"),"."),Object(o.b)("h2",{id:"api"},"API"),Object(o.b)("pre",null,Object(o.b)("code",{parentName:"pre",className:"language-js"},"import * as WebBrowser from 'expo-web-browser';\n")),Object(o.b)("h3",{id:"webbrowseropenbrowserasyncurl"},Object(o.b)("inlineCode",{parentName:"h3"},"WebBrowser.openBrowserAsync(url)")),Object(o.b)("p",null,"Opens the url with Safari in a modal on iOS using ",Object(o.b)("a",{parentName:"p",href:"https://developer.apple.com/documentation/safariservices/sfsafariviewcontroller"},Object(o.b)("inlineCode",{parentName:"a"},"SFSafariViewController")),", and Chrome in a new ",Object(o.b)("a",{parentName:"p",href:"https://developer.chrome.com/multidevice/android/customtabs"},"custom tab")," on Android. On iOS, the modal Safari will not share cookies with the system Safari. If you need this, use ",Object(o.b)("a",{parentName:"p",href:"/versions/v40.0.0/sdk/webbrowser/#webbrowseropenauthsessionasync"},"openAuthSessionAsync"),"."),Object(o.b)("h4",{id:"arguments"},"Arguments"),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},Object(o.b)("p",{parentName:"li"},Object(o.b)("strong",{parentName:"p"},"url (",Object(o.b)("em",{parentName:"strong"},"string"),")")," -- The url to open in the web browser.")),Object(o.b)("li",{parentName:"ul"},Object(o.b)("p",{parentName:"li"},Object(o.b)("strong",{parentName:"p"},"browserParams (",Object(o.b)("em",{parentName:"strong"},"object"),")")," (",Object(o.b)("em",{parentName:"p"},"optional"),") --\nA dictionary with following key-value pairs:"),Object(o.b)("ul",{parentName:"li"},Object(o.b)("li",{parentName:"ul"},Object(o.b)("strong",{parentName:"li"},"controlsColor (",Object(o.b)("em",{parentName:"strong"},"optional"),") (",Object(o.b)("em",{parentName:"strong"},"string"),")")," -- (",Object(o.b)("em",{parentName:"li"},"iOS only"),") tint color for controls in SKSafariViewController in ",Object(o.b)("inlineCode",{parentName:"li"},"#AARRGGBB")," or ",Object(o.b)("inlineCode",{parentName:"li"},"#RRGGBB")," format."),Object(o.b)("li",{parentName:"ul"},Object(o.b)("strong",{parentName:"li"},"dismissButtonStyle (",Object(o.b)("em",{parentName:"strong"},"optional"),") (",Object(o.b)("em",{parentName:"strong"},"string"),")")," -- (",Object(o.b)("em",{parentName:"li"},"iOS only"),") The style of the dismiss button. Should be one of: ",Object(o.b)("inlineCode",{parentName:"li"},"done"),", ",Object(o.b)("inlineCode",{parentName:"li"},"close"),", or ",Object(o.b)("inlineCode",{parentName:"li"},"cancel"),"."),Object(o.b)("li",{parentName:"ul"},Object(o.b)("strong",{parentName:"li"},"enableBarCollapsing (",Object(o.b)("em",{parentName:"strong"},"optional"),") (",Object(o.b)("em",{parentName:"strong"},"boolean"),")")," -- a boolean determining whether the toolbar should be hiding when a user scrolls the website."),Object(o.b)("li",{parentName:"ul"},Object(o.b)("strong",{parentName:"li"},"enableDefaultShare (",Object(o.b)("em",{parentName:"strong"},"optional"),") (",Object(o.b)("em",{parentName:"strong"},"boolean"),")")," -- (",Object(o.b)("em",{parentName:"li"},"Android only"),") a boolean determining whether a default share item should be added to the menu."),Object(o.b)("li",{parentName:"ul"},Object(o.b)("strong",{parentName:"li"},"browserPackage (",Object(o.b)("em",{parentName:"strong"},"optional"),") (",Object(o.b)("em",{parentName:"strong"},"string"),")")," -- (",Object(o.b)("em",{parentName:"li"},"Android only"),"). Package name of a browser to be used to handle Custom Tabs. List of available packages is to be queried by ",Object(o.b)("a",{parentName:"li",href:"/versions/v40.0.0/sdk/webbrowser/#webbrowsergetcustomtabssupportingbrowsers"},"getCustomTabsSupportingBrowsers")," method."),Object(o.b)("li",{parentName:"ul"},Object(o.b)("strong",{parentName:"li"},"readerMode (",Object(o.b)("em",{parentName:"strong"},"optional"),") (",Object(o.b)("em",{parentName:"strong"},"boolean"),")")," -- (",Object(o.b)("em",{parentName:"li"},"iOS only"),") a boolean determining whether Safari should enter Reader mode, if it is available."),Object(o.b)("li",{parentName:"ul"},Object(o.b)("strong",{parentName:"li"},"secondaryToolbarColor (",Object(o.b)("em",{parentName:"strong"},"optional"),") (",Object(o.b)("em",{parentName:"strong"},"string"),")")," -- (",Object(o.b)("em",{parentName:"li"},"Android only"),") color of the secondary toolbar in either ",Object(o.b)("inlineCode",{parentName:"li"},"#AARRGGBB")," or ",Object(o.b)("inlineCode",{parentName:"li"},"#RRGGBB")," format."),Object(o.b)("li",{parentName:"ul"},Object(o.b)("strong",{parentName:"li"},"showInRecents (",Object(o.b)("em",{parentName:"strong"},"optional"),") (",Object(o.b)("em",{parentName:"strong"},"boolean"),")")," -- (",Object(o.b)("em",{parentName:"li"},"Android only"),") a boolean determining whether browsed website should be shown as separate entry in Android recents/multitasking view. Default: ",Object(o.b)("inlineCode",{parentName:"li"},"false")),Object(o.b)("li",{parentName:"ul"},Object(o.b)("strong",{parentName:"li"},"showTitle (",Object(o.b)("em",{parentName:"strong"},"optional"),") (",Object(o.b)("em",{parentName:"strong"},"boolean"),")")," -- (",Object(o.b)("em",{parentName:"li"},"Android only"),") a boolean determining whether the browser should show the title of website on the toolbar."),Object(o.b)("li",{parentName:"ul"},Object(o.b)("strong",{parentName:"li"},"toolbarColor (",Object(o.b)("em",{parentName:"strong"},"optional"),") (",Object(o.b)("em",{parentName:"strong"},"string"),")")," -- color of the toolbar in either ",Object(o.b)("inlineCode",{parentName:"li"},"#AARRGGBB")," or ",Object(o.b)("inlineCode",{parentName:"li"},"#RRGGBB")," format.")),Object(o.b)("p",{parentName:"li"},"Note that behavior customization options depend on the actual browser and its version. Some or all of the arguments may be ignored."))),Object(o.b)("h4",{id:"returns"},"Returns"),Object(o.b)("p",null,"The promise behaves differently on iOS and Android."),Object(o.b)("p",null,"On Android promise resolves with ",Object(o.b)("inlineCode",{parentName:"p"},"{type: 'opened'}")," if we were able to open browser."),Object(o.b)("p",null,"On iOS:"),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},"If the user closed the web browser, the Promise resolves with ",Object(o.b)("inlineCode",{parentName:"li"},"{ type: 'cancel' }"),"."),Object(o.b)("li",{parentName:"ul"},"If the browser is closed using ",Object(o.b)("a",{parentName:"li",href:"/versions/v40.0.0/sdk/webbrowser/#webbrowserdismissbrowser"},Object(o.b)("inlineCode",{parentName:"a"},"dismissBrowser"))," , the Promise resolves with ",Object(o.b)("inlineCode",{parentName:"li"},"{ type: 'dismiss' }"),".")),Object(o.b)("h3",{id:"webbrowseropenauthsessionasyncurl-redirecturl"},Object(o.b)("inlineCode",{parentName:"h3"},"WebBrowser.openAuthSessionAsync(url, redirectUrl)")),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"On iOS:")),Object(o.b)("p",null,"Opens the url with Safari in a modal using ",Object(o.b)("inlineCode",{parentName:"p"},"SFAuthenticationSession")," on iOS 11 and greater, and falling back on a ",Object(o.b)("inlineCode",{parentName:"p"},"SFSafariViewController"),". The user will be asked whether to allow the app to authenticate using the given url."),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"On Android:")),Object(o.b)("p",null,'This will be done using a "custom Chrome tabs" browser, ',Object(o.b)("a",{parentName:"p",href:"/versions/latest/react-native/appstate/"},"AppState"),", and ",Object(o.b)("a",{parentName:"p",href:"/versions/latest/sdk/linking/"},"Linking")," APIs."),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"On web:")),Object(o.b)("blockquote",null,Object(o.b)("p",{parentName:"blockquote"},"\ud83d\udea8 This API can only be used in a secure environment (",Object(o.b)("inlineCode",{parentName:"p"},"https"),"). You can use ",Object(o.b)("inlineCode",{parentName:"p"},"expo start:web --https")," to test this. Otherwise an error with code ",Object(o.b)("a",{parentName:"p",href:"/versions/v40.0.0/sdk/webbrowser/#errwebbrowsercrypto"},Object(o.b)("inlineCode",{parentName:"a"},"ERR_WEB_BROWSER_CRYPTO"))," will be thrown.")),Object(o.b)("p",null,"This will use the browser's ",Object(o.b)("a",{parentName:"p",href:"https://developer.mozilla.org/en-US/docs/Web/API/Window/open"},Object(o.b)("inlineCode",{parentName:"a"},"window.open()"))," API."),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},Object(o.b)("em",{parentName:"li"},"Desktop"),": This will create a new web popup window in the browser that can be closed later using ",Object(o.b)("inlineCode",{parentName:"li"},"WebBrowser.maybeCompleteAuthSession()"),"."),Object(o.b)("li",{parentName:"ul"},Object(o.b)("em",{parentName:"li"},"Mobile"),": This will open a new tab in the browser which can be closed using ",Object(o.b)("inlineCode",{parentName:"li"},"WebBrowser.maybeCompleteAuthSession()"),".")),Object(o.b)("p",null,"How this works on web:"),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},"A crypto state will be created for verifying the redirect.",Object(o.b)("ul",{parentName:"li"},Object(o.b)("li",{parentName:"ul"},"This means you need to run with ",Object(o.b)("inlineCode",{parentName:"li"},"expo start:web --https"),"."))),Object(o.b)("li",{parentName:"ul"},"The state will be added to the window's ",Object(o.b)("inlineCode",{parentName:"li"},"localstorage"),". This ensures that auth cannot complete unless it's done from a page running with the same origin as it was started. Ex: if ",Object(o.b)("inlineCode",{parentName:"li"},"openAuthSessionAsync")," is invoked on ",Object(o.b)("inlineCode",{parentName:"li"},"https://localhost:19006"),", then ",Object(o.b)("inlineCode",{parentName:"li"},"maybeCompleteAuthSession")," must be invoked on a page hosted from the origin ",Object(o.b)("inlineCode",{parentName:"li"},"https://localhost:19006"),". Using a different website, or even a different host like ",Object(o.b)("inlineCode",{parentName:"li"},"https://128.0.0.*:19006")," for example will not work."),Object(o.b)("li",{parentName:"ul"},"A timer will be started to check for every 1000 milliseconds (1 second) to detect if the window has been closed by the user. If this happens then a promise will resolve with ",Object(o.b)("inlineCode",{parentName:"li"},"{ type: 'dismiss' }"),".")),Object(o.b)("p",null,"\ud83d\udea8 On mobile web, Chrome and Safari will block any call to ",Object(o.b)("a",{parentName:"p",href:"https://developer.mozilla.org/en-US/docs/Web/API/Window/open"},Object(o.b)("inlineCode",{parentName:"a"},"window.open()"))," which takes too long to fire after a user interaction. This method must be invoked immediately after a user interaction. If the event is blocked, an error with code ",Object(o.b)("a",{parentName:"p",href:"/versions/v40.0.0/sdk/webbrowser/#errwebbrowserblocked"},Object(o.b)("inlineCode",{parentName:"a"},"ERR_WEB_BROWSER_BLOCKED"))," will be thrown."),Object(o.b)("h4",{id:"arguments-1"},"Arguments"),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},Object(o.b)("strong",{parentName:"li"},"url (",Object(o.b)("em",{parentName:"strong"},"string"),")")," -- The url to open in the web browser. This should be a login page."),Object(o.b)("li",{parentName:"ul"},Object(o.b)("strong",{parentName:"li"},"redirectUrl (",Object(o.b)("em",{parentName:"strong"},"string"),")")," -- ",Object(o.b)("strong",{parentName:"li"},"optional"),": the url to deep link back into your app. By default, this will be ",Object(o.b)("a",{parentName:"li",href:"/versions/v40.0.0/sdk/constants/#expoconstantslinkinguri"},"Constants.linkingUrl")),Object(o.b)("li",{parentName:"ul"},Object(o.b)("strong",{parentName:"li"},"browserParams (",Object(o.b)("em",{parentName:"strong"},"object"),")")," -- ",Object(o.b)("strong",{parentName:"li"},"optional"),": an object with the same keys as ",Object(o.b)("a",{parentName:"li",href:"/versions/v40.0.0/sdk/webbrowser/#webbrowseropenbrowserasyncurl"},Object(o.b)("inlineCode",{parentName:"a"},"openBrowserAsync"),"'s ",Object(o.b)("inlineCode",{parentName:"a"},"browserParams")," object"),". If there is no native AuthSession implementation available (which is the case on Android) these params will be used in the browser polyfill. If there is a native AuthSession implementation, these params will be ignored.")),Object(o.b)("p",null,"Returns a Promise:"),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},"If the user does not permit the application to authenticate with the given url, the Promise resolved with ",Object(o.b)("inlineCode",{parentName:"li"},"{ type: 'cancel' }"),"."),Object(o.b)("li",{parentName:"ul"},"If the user closed the web browser, the Promise resolves with ",Object(o.b)("inlineCode",{parentName:"li"},"{ type: 'cancel' }"),"."),Object(o.b)("li",{parentName:"ul"},"If the browser is closed using ",Object(o.b)("a",{parentName:"li",href:"/versions/v40.0.0/sdk/webbrowser/#webbrowserdismissbrowser"},Object(o.b)("inlineCode",{parentName:"a"},"dismissBrowser")),", the Promise resolves with ",Object(o.b)("inlineCode",{parentName:"li"},"{ type: 'dismiss' }"),".")),Object(o.b)("h4",{id:"error-codes"},"Error Codes"),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},Object(o.b)("a",{parentName:"li",href:"/versions/v40.0.0/sdk/webbrowser/#errwebbrowserredirect"},Object(o.b)("inlineCode",{parentName:"a"},"ERR_WEB_BROWSER_REDIRECT"))),Object(o.b)("li",{parentName:"ul"},Object(o.b)("a",{parentName:"li",href:"/versions/v40.0.0/sdk/webbrowser/#errwebbrowserblocked"},Object(o.b)("inlineCode",{parentName:"a"},"ERR_WEB_BROWSER_BLOCKED"))),Object(o.b)("li",{parentName:"ul"},Object(o.b)("a",{parentName:"li",href:"/versions/v40.0.0/sdk/webbrowser/#errwebbrowsercrypto"},Object(o.b)("inlineCode",{parentName:"a"},"ERR_WEB_BROWSER_CRYPTO")))),Object(o.b)("h3",{id:"webbrowsermaybecompleteauthsessionoptions"},Object(o.b)("inlineCode",{parentName:"h3"},"WebBrowser.maybeCompleteAuthSession(options)")),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"Web Only"),": Possibly completes an authentication session on web in a window popup. The method should be invoked on the page that the window redirects to."),Object(o.b)("h4",{id:"arguments-2"},"Arguments"),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},Object(o.b)("strong",{parentName:"li"},"skipRedirectCheck (",Object(o.b)("em",{parentName:"strong"},"boolean"),")")," -- ",Object(o.b)("strong",{parentName:"li"},"optional"),": Attempt to close the window without checking to see if the auth redirect matches the cached redirect URL.")),Object(o.b)("p",null,"Returns a message about why the redirect failed or succeeded:"),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},Object(o.b)("strong",{parentName:"li"},Object(o.b)("inlineCode",{parentName:"strong"},"{ type: 'failed' }")),":",Object(o.b)("ul",{parentName:"li"},Object(o.b)("li",{parentName:"ul"},Object(o.b)("inlineCode",{parentName:"li"},"Not supported on this platform"),": If the platform doesn't support this method (iOS, Android)."),Object(o.b)("li",{parentName:"ul"},Object(o.b)("inlineCode",{parentName:"li"},"Cannot use expo-web-browser in a non-browser environment"),": If the code was executed in an SSR or node environment."),Object(o.b)("li",{parentName:"ul"},Object(o.b)("inlineCode",{parentName:"li"},"No auth session is currently in progress"),": (the cached state wasn't found in local storage). This can happen if the window redirects to an origin (website) that is different to the initial website origin. If this happens in development, it may be because the auth started on ",Object(o.b)("inlineCode",{parentName:"li"},"localhost")," and finished on your computer port (Ex: ",Object(o.b)("inlineCode",{parentName:"li"},"128.0.0.*"),"). This is controlled by the ",Object(o.b)("inlineCode",{parentName:"li"},"redirectUrl")," and ",Object(o.b)("inlineCode",{parentName:"li"},"returnUrl"),"."),Object(o.b)("li",{parentName:"ul"},Object(o.b)("inlineCode",{parentName:"li"},'Current URL "<URL>" and original redirect URL "<URL>" do not match.'),": This can occur when the redirect URL doesn't match what was initial defined as the ",Object(o.b)("inlineCode",{parentName:"li"},"returnUrl"),". You can skip this test in development by passing ",Object(o.b)("inlineCode",{parentName:"li"},"{ skipRedirectCheck: true }")," to the function."))),Object(o.b)("li",{parentName:"ul"},Object(o.b)("strong",{parentName:"li"},Object(o.b)("inlineCode",{parentName:"strong"},"{ type: 'success' }")),":",Object(o.b)("ul",{parentName:"li"},Object(o.b)("li",{parentName:"ul"},"The parent window will attempt to close the child window immediately.")))),Object(o.b)("p",null,"If the error ",Object(o.b)("inlineCode",{parentName:"p"},"ERR_WEB_BROWSER_REDIRECT")," was thrown, it may mean that the parent window was reloaded before the auth was completed. In this case you'll need to close the child window manually."),Object(o.b)("h3",{id:"webbrowserwarmupasyncbrowserpackage"},Object(o.b)("inlineCode",{parentName:"h3"},"WebBrowser.warmUpAsync(browserPackage)")),Object(o.b)("p",null,Object(o.b)("em",{parentName:"p"},"Android only")),Object(o.b)("p",null,"This method calls ",Object(o.b)("inlineCode",{parentName:"p"},"warmUp")," method on ",Object(o.b)("a",{parentName:"p",href:"https://developer.android.com/reference/android/support/customtabs/CustomTabsClient.html#warmup(long)"},"CustomTabsClient")," for specified package."),Object(o.b)("h4",{id:"arguments-3"},"Arguments"),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},Object(o.b)("strong",{parentName:"li"},"browserPackage (",Object(o.b)("em",{parentName:"strong"},"string"),")")," -- ",Object(o.b)("strong",{parentName:"li"},"optional")," -- package of browser to be warmed up. If not set, preferred browser will be warmed.")),Object(o.b)("h4",{id:"returns-1"},"Returns"),Object(o.b)("p",null,"A promise resolving with ",Object(o.b)("inlineCode",{parentName:"p"},"{ package: string }")),Object(o.b)("h3",{id:"webbrowsermayinitwithurlasyncurl-package"},Object(o.b)("inlineCode",{parentName:"h3"},"WebBrowser.mayInitWithUrlAsync(url, package)")),Object(o.b)("p",null,Object(o.b)("em",{parentName:"p"},"Android only")),Object(o.b)("p",null,"This method initiates (if needed) ",Object(o.b)("a",{parentName:"p",href:"https://developer.android.com/reference/android/support/customtabs/CustomTabsSession.html#maylaunchurl"},"CustomTabsSession")," and calls its ",Object(o.b)("inlineCode",{parentName:"p"},"mayLaunchUrl")," method for browser specified by the package."),Object(o.b)("h4",{id:"arguments-4"},"Arguments"),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},Object(o.b)("strong",{parentName:"li"},"url (",Object(o.b)("em",{parentName:"strong"},"string"),")")," -- url of page that is likely to be loaded firts when opening browser"),Object(o.b)("li",{parentName:"ul"},Object(o.b)("strong",{parentName:"li"},"package (",Object(o.b)("em",{parentName:"strong"},"string"),")")," -- ",Object(o.b)("strong",{parentName:"li"},"optional")," -- package of browser to be informed. If not set, preferred browser will be used.")),Object(o.b)("h4",{id:"returns-2"},"Returns"),Object(o.b)("p",null,"The promise resolves with ",Object(o.b)("inlineCode",{parentName:"p"},"{ package: string }"),"."),Object(o.b)("h3",{id:"webbrowsercooldownasyncbrowserpackage"},Object(o.b)("inlineCode",{parentName:"h3"},"WebBrowser.coolDownAsync(browserPackage)")),Object(o.b)("p",null,Object(o.b)("em",{parentName:"p"},"Android only")),Object(o.b)("p",null,"This methods removes all bindings to services created by ",Object(o.b)("a",{parentName:"p",href:"/versions/v40.0.0/sdk/webbrowser/#webbrowserwarmupasyncnbrowserpackage"},Object(o.b)("inlineCode",{parentName:"a"},"warmUpAsync"))," or ",Object(o.b)("a",{parentName:"p",href:"/versions/v40.0.0/sdk/webbrowser/#webbrowseramayinitwithurlsyncurl-package"},Object(o.b)("inlineCode",{parentName:"a"},"mayInitWithUrlAsync")),". You should call this method once you don't need them to avoid potential memory leaks. However, those binding would be cleared once your application is destroyed, which might be sufficient in most cases."),Object(o.b)("h4",{id:"arguments-5"},"Arguments"),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},Object(o.b)("strong",{parentName:"li"},"browserPackage (",Object(o.b)("em",{parentName:"strong"},"string"),")")," -- ",Object(o.b)("strong",{parentName:"li"},"optional")," -- package of browser to be cooled. If not set, preferred browser will be used.")),Object(o.b)("h4",{id:"returns-3"},"Returns"),Object(o.b)("p",null,"The promise resolves with ",Object(o.b)("inlineCode",{parentName:"p"},"{ package: string }")," when cooling is performed, or an empty object when there was no connection to be dismissed."),Object(o.b)("h3",{id:"webbrowserdismissbrowser"},Object(o.b)("inlineCode",{parentName:"h3"},"WebBrowser.dismissBrowser()")),Object(o.b)("p",null,Object(o.b)("em",{parentName:"p"},"iOS only")),Object(o.b)("p",null,"Dismisses the presented web browser."),Object(o.b)("h4",{id:"returns-4"},"Returns"),Object(o.b)("p",null,"The promise resolves with ",Object(o.b)("inlineCode",{parentName:"p"},"{ type: 'dismiss' }"),"."),Object(o.b)("h3",{id:"webbrowsergetcustomtabssupportingbrowsersasync"},Object(o.b)("inlineCode",{parentName:"h3"},"WebBrowser.getCustomTabsSupportingBrowsersAsync")),Object(o.b)("p",null,Object(o.b)("em",{parentName:"p"},"Android only")),Object(o.b)("p",null,"Returns a list of applications package names supporting Custom Tabs, Custom Tabs service, user chosen and preferred one. This may not be fully reliable, since it uses ",Object(o.b)("inlineCode",{parentName:"p"},"PackageManager.getResolvingActivities")," under the hood. (For example, some browsers might not be present in ",Object(o.b)("inlineCode",{parentName:"p"},"browserPackages")," list once another browser is set to defult.)"),Object(o.b)("h4",{id:"returns-5"},"Returns"),Object(o.b)("p",null,"The promise resolves with ",Object(o.b)("inlineCode",{parentName:"p"},"{ browserPackages: string[], defaultBrowserPackage: string, servicePackages: string[], preferredBrowserPackage: string }")),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},Object(o.b)("strong",{parentName:"li"},"browserPackages (",Object(o.b)("em",{parentName:"strong"},"string[]"),")")," : All packages recognized by ",Object(o.b)("inlineCode",{parentName:"li"},"PackageManager")," as capable of handling Custom Tabs. Empty array means there is no supporting browsers on device."),Object(o.b)("li",{parentName:"ul"},Object(o.b)("strong",{parentName:"li"},"defaultBrowserPackage (",Object(o.b)("em",{parentName:"strong"},"string")," | null)")," : Default package chosen by user. Null if there is no such packages. Null usually means, that user will be prompted to choose from available packages."),Object(o.b)("li",{parentName:"ul"},Object(o.b)("strong",{parentName:"li"},"servicePackages (",Object(o.b)("em",{parentName:"strong"},"string[]"),")")," : All packages recognized by ",Object(o.b)("inlineCode",{parentName:"li"},"PackageManager")," as capable of handling Custom Tabs Service. This service is used by ",Object(o.b)("a",{parentName:"li",href:"/versions/v40.0.0/sdk/webbrowser/#webbrowserwarmupasyncnbrowserpackage"},Object(o.b)("inlineCode",{parentName:"a"},"warmUpAsync")),", ",Object(o.b)("a",{parentName:"li",href:"/versions/v40.0.0/sdk/webbrowser/#webbrowsermayinitwithurlasyncurl-package"},Object(o.b)("inlineCode",{parentName:"a"},"mayInitWithUrlAsync"))," and ",Object(o.b)("a",{parentName:"li",href:"/versions/v40.0.0/sdk/webbrowser/#webbrowsercooldownasyncbrowserpackage"},Object(o.b)("inlineCode",{parentName:"a"},"coolDownAsync")),"."),Object(o.b)("li",{parentName:"ul"},Object(o.b)("strong",{parentName:"li"},"preferredBrowserPackage (",Object(o.b)("em",{parentName:"strong"},"string")," | null)")," : Package preferred by ",Object(o.b)("inlineCode",{parentName:"li"},"CustomTabsClient")," to be used to handle Custom Tabs. It favors browser chosen by user as default, as long as it is present on both ",Object(o.b)("inlineCode",{parentName:"li"},"browserPackages")," and ",Object(o.b)("inlineCode",{parentName:"li"},"servicePackages")," lists. Only such browsers are considered as fully supporting Custom Tabs. It might be ",Object(o.b)("inlineCode",{parentName:"li"},"null")," when there is no such browser installed or when default browser is not in ",Object(o.b)("inlineCode",{parentName:"li"},"servicePackages")," list.")),Object(o.b)("p",null,"In general, services are used to perform background tasks. If a browser is available in ",Object(o.b)("inlineCode",{parentName:"p"},"servicePackage")," list, it should be capable of performing ",Object(o.b)("a",{parentName:"p",href:"/versions/v40.0.0/sdk/webbrowser/#webbrowserwarmupasyncnbrowserpackage"},Object(o.b)("inlineCode",{parentName:"a"},"warmUpAsync")),", ",Object(o.b)("a",{parentName:"p",href:"/versions/v40.0.0/sdk/webbrowser/#webbrowsermayinitwithurlasyncurl-package"},Object(o.b)("inlineCode",{parentName:"a"},"mayInitWithUrlAsync"))," and ",Object(o.b)("a",{parentName:"p",href:"/versions/v40.0.0/sdk/webbrowser/#webbrowsercooldownasyncbrowserpackage"},Object(o.b)("inlineCode",{parentName:"a"},"coolDownAsync")),". For opening an actual web page, browser must be in ",Object(o.b)("inlineCode",{parentName:"p"},"browserPackages")," list. A browser has to be present in both lists to be considered as fully supporting Custom Tabs."),Object(o.b)("h2",{id:"error-codes-1"},"Error Codes"),Object(o.b)("h3",{id:"err_web_browser_redirect"},Object(o.b)("inlineCode",{parentName:"h3"},"ERR_WEB_BROWSER_REDIRECT")),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"Web only:")," The window cannot complete the redirect request because the invoking window doesn't have a reference to it's parent. This can happen if the parent window was reloaded."),Object(o.b)("h3",{id:"err_web_browser_blocked"},Object(o.b)("inlineCode",{parentName:"h3"},"ERR_WEB_BROWSER_BLOCKED")),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"Web only:")," The popup window was blocked by the browser or failed to open. This can happen in mobile browsers when the ",Object(o.b)("inlineCode",{parentName:"p"},"window.open()")," method was invoked too long after a user input was fired."),Object(o.b)("p",null,"Mobile browsers do this to prevent malicious websites from opening many unwanted popups on mobile."),Object(o.b)("p",null,"You're method can still run in an async function but there cannot be any long running tasks before it. You can use hooks to disable user-inputs until any other processes have finished loading."),Object(o.b)("h3",{id:"err_web_browser_crypto"},Object(o.b)("inlineCode",{parentName:"h3"},"ERR_WEB_BROWSER_CRYPTO")),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"Web only:")," The current environment doesn't support crypto. Ensure you are running from a secure origin (https)."),Object(o.b)("p",null,"When using Expo CLI you can run ",Object(o.b)("inlineCode",{parentName:"p"},"expo start:web --https")," or ",Object(o.b)("inlineCode",{parentName:"p"},"expo start --web --https")," to open your web page in a secure development environment."),Object(o.b)("h1",{id:""}))}m.isMDXComponent=!0},cpVT:function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",(function(){return r}))},kiQV:function(e){e.exports=JSON.parse('{"name":"expo-docs","version":"44.0.0","private":true,"scripts":{"dev":"rimraf .next/preval && next dev -p 3002","build":"cross-env NODE_OPTIONS=--max-old-space-size=8192 next build","export":"yarn run build && next export && yarn run export-issue-404","export-issue-404":"echo \\"\ud83d\udee0  Patching https://github.com/vercel/next.js/issues/16528\\"; cp out/404/index.html out/404.html","export-server":"http-server out -p 8000","import-react-native-docs":"node ./scripts/import-react-native-docs.js","test-links":"node --async-stack-traces --unhandled-rejections=strict ./scripts/test-links.js","prettier":"prettier --write \'**/*.{js,ts,tsx,md}\'","lint":"tsc --noEmit && eslint .","lint-links":"remark -u validate-links ./pages","watch":"tsc --noEmit -w","test":"jest","schema-sync":"node --async-stack-traces --unhandled-rejections=strict ./scripts/schema-sync.js","remove-version":"node --unhandled-rejections=strict ./scripts/remove-version.js"},"resolutions":{"webpack":"^5.28.0"},"dependencies":{"@emotion/react":"^11.4.0","@expo/spawn-async":"^1.5.0","@expo/styleguide":"^4.0.1","@mdx-js/loader":"^1.6.22","@mdx-js/mdx":"^1.6.22","@mdx-js/react":"^1.6.22","@mdx-js/runtime":"^1.6.22","@reach/tabs":"^0.15.0","@sentry/browser":"^5.6.1","date-fns":"^2.28.0","docsearch.js":"^2.5.2","emoji-regex":"^9.2.2","front-matter":"^2.3.0","fs-extra":"^6.0.1","github-slugger":"^1.3.0","hotshot":"^1.0.5","lodash":"^4.17.20","next":"^11.1.4","nprogress":"0.2.0","path-browserify":"^1.0.1","prism-react-renderer":"1.0.2","prop-types":"15.7.2","react":"^17.0.2","react-diff-view":"^2.4.7","react-dom":"^17.0.2","react-feather":"^2.0.9","react-markdown":"^6.0.3","react-player":"^1.11.1","react-visibility-sensor":"^5.1.1","remark-gfm":"^1.0.0","tippy.js":"^6.3.1"},"devDependencies":{"@apidevtools/json-schema-ref-parser":"^9.0.9","@babel/core":"^7.13.14","@emotion/babel-preset-css-prop":"^11.2.0","@emotion/jest":"^11.7.1","@testing-library/jest-dom":"5.11.0","@testing-library/react":"10.4.3","@testing-library/react-hooks":"^7.0.2","@types/cacache":"^15.0.1","@types/fs-extra":"^9.0.11","@types/github-slugger":"^1.3.0","@types/google.analytics":"^0.0.41","@types/gtag.js":"^0.0.6","@types/lodash":"^4.14.161","@types/long":"^4.0.1","@types/mdx-js__react":"^1.5.3","@types/node":"^14.11.2","@types/nprogress":"^0.2.0","@types/react":"^17.0.11","axios":"^0.21.2","babel-plugin-module-resolver":"3.1.1","babel-plugin-preval":"^3.0.1","cross-env":"^5.2.0","danger":"^9.2.10","esbuild-loader":"^2.13.1","eslint":"^8.6.0","eslint-config-next":"^10.2.3","eslint-config-universe":"^10.0.0","eslint-plugin-lodash":"^7.3.0","http-server":"^0.12.3","jest":"^27.4.7","js-yaml":"^4.1.0","prettier":"^2.3.1","puppeteer":"^10.2.0","react-test-renderer":"^17.0.2","rehype-slug":"^4.0.1","remark-cli":"^9.0.0","remark-frontmatter":"^2.0.0","remark-validate-links":"^10.0.4","rimraf":"^3.0.2","semver":"^7.3.5","sitemap":"^6.3.0","typescript":"^4.5.4","unist-builder":"^2.0.0","unist-util-visit":"^2.0.3"}}')},ufKf:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return a}));var r="https://snack.expo.dev";function a(e){var t=e.templateId,n=e.code,r=e.files,a=e.baseURL,o={};return r&&Object.keys(r).forEach((function(e){var t=r[e],n=/\.(jsx?|tsx?|json|md)$/i.test(e);o[e]=n?{type:"CODE",url:t.match(/^https?:\/\//)?t:"".concat(a,"/").concat(t)}:{type:"ASSET",contents:t}})),t?o["App.js"]={type:"CODE",url:"".concat(a,"/").concat(t,".js")}:n&&(o["App.js"]={type:"CODE",contents:n}),o}},z7pX:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("6FTQ");var a=n("8rE2");function o(e){return function(e){if(Array.isArray(e))return Object(r.a)(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Object(a.a)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}}},[["IVIa",1,0,2,3,4,5,6]]]);