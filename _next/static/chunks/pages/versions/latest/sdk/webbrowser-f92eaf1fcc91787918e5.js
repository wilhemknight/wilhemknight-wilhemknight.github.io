_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[394],{I0q5:function(e,t,n){"use strict";n.d(t,"a",(function(){return j}));var o=n("z7pX"),r=n("H+61"),a=n("UlJF"),s=n("+Css"),i=n("7LId"),c=n("VIvw"),p=n("iHvq"),b=n("cpVT"),l=n("q1tI"),d=n("ufKf"),u=n("3zh3"),h=n("AeFk"),m=function(e){var t=e.size,n=void 0===t?24:t,o=e.stroke,r=void 0===o?u.palette.dark.white:o;return Object(h.c)("svg",{"aria-label":"check",width:n,height:n,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Object(h.c)("path",{d:"M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6m4-3h6v6m-11 5L21 3",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}))},f=n("5BX9");function w(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=Object(p.a)(e);if(t){var r=Object(p.a)(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return Object(c.a)(this,n)}}var O="v".concat(n("kiQV").version),j=function(e){Object(i.a)(n,e);var t=w(n);function n(){var e;Object(r.a)(this,n);for(var a=arguments.length,i=new Array(a),c=0;c<a;c++)i[c]=arguments[c];return e=t.call.apply(t,[this].concat(i)),Object(b.a)(Object(s.a)(e),"contentRef",l.createRef()),Object(b.a)(Object(s.a)(e),"state",{ready:!1}),Object(b.a)(Object(s.a)(e),"getSelectedDocsVersion",(function(){var t=e.context.version;return"latest"===t?O:t})),Object(b.a)(Object(s.a)(e),"getSnackSdkVersion",(function(){var t=e.getSelectedDocsVersion();return"unversioned"===t&&(t=O),t.replace("v","")})),Object(b.a)(Object(s.a)(e),"getExamplesPath",(function(){return"".concat(document.location.origin,"/static/examples/").concat(e.getSelectedDocsVersion())})),Object(b.a)(Object(s.a)(e),"getDependencies",(function(){return Object(o.a)(e.props.dependencies).join(",")})),Object(b.a)(Object(s.a)(e),"getCode",(function(){return(e.contentRef.current&&e.contentRef.current.textContent||"").replace(/%%placeholder-start%%.*%%placeholder-end%%/g,"")})),e}return Object(a.a)(n,[{key:"componentDidMount",value:function(){this.setState({ready:!0})}},{key:"render",value:function(){return Object(h.c)("div",null,Object(h.c)("div",{ref:this.contentRef,style:this.props.contentHidden?{display:"none"}:void 0},this.props.children),Object(h.c)("form",{action:d.a,method:"POST",target:"_blank"},Object(h.c)("input",{type:"hidden",name:"platform",value:this.props.defaultPlatform||"android"}),Object(h.c)("input",{type:"hidden",name:"name",value:this.props.label||"Example"}),Object(h.c)("input",{type:"hidden",name:"dependencies",value:this.getDependencies()}),Object(h.c)("input",{type:"hidden",name:"sdkVersion",value:this.getSnackSdkVersion()}),this.props.platforms&&Object(h.c)("input",{type:"hidden",name:"supportedPlatforms",value:this.props.platforms.join(",")}),this.state.ready&&Object(h.c)("input",{type:"hidden",name:"files",value:JSON.stringify(Object(d.b)({templateId:this.props.templateId,code:this.getCode(),files:this.props.files,baseURL:this.getExamplesPath()}))}),Object(h.c)("button",{className:"snack-inline-example-button",disabled:!this.state.ready},Object(h.c)(m,{size:16})," ",this.props.buttonTitle||"Try this example on Snack")))}}]),n}(l.Component);Object(b.a)(j,"contextType",f.a),Object(b.a)(j,"defaultProps",{dependencies:[]})},SDWs:function(e,t,n){"use strict";n.r(t),n.d(t,"meta",(function(){return l})),n.d(t,"headings",(function(){return d})),n.d(t,"default",(function(){return h}));var o=n("HALo"),r=n("dhJC"),a=(n("q1tI"),n("7ljp")),s=n("3Ukx"),i=n("HCau"),c=n("hykZ"),p=n("I0q5"),b=["components"],l={title:"WebBrowser",sourceCodeUrl:"https://github.com/expo/expo/tree/sdk-44/packages/expo-web-browser"},d=[{depth:2,type:"text",title:"Installation"},{depth:2,type:"text",title:"Usage"},{depth:3,type:"text",title:"Handling deep links from the WebBrowser"},{depth:2,type:"text",title:"API"},{depth:2,type:"text",title:"Error Codes"},{depth:3,type:"inlineCode",title:"ERR_WEB_BROWSER_REDIRECT"},{depth:3,type:"inlineCode",title:"ERR_WEB_BROWSER_BLOCKED"},{depth:3,type:"inlineCode",title:"ERR_WEB_BROWSER_CRYPTO"}],u={meta:l,headings:d};function h(e){var t=e.components,n=Object(r.a)(e,b);return Object(a.b)("wrapper",Object(o.a)({},u,n,{components:t,mdxType:"MDXLayout"}),Object(a.b)("p",null,Object(a.b)("strong",{parentName:"p"},Object(a.b)("inlineCode",{parentName:"strong"},"expo-web-browser"))," provides access to the system's web browser and supports handling redirects. On iOS, it uses ",Object(a.b)("inlineCode",{parentName:"p"},"SFSafariViewController")," or ",Object(a.b)("inlineCode",{parentName:"p"},"SFAuthenticationSession"),", depending on the method you call, and on Android it uses ",Object(a.b)("inlineCode",{parentName:"p"},"ChromeCustomTabs"),". As of iOS 11, ",Object(a.b)("inlineCode",{parentName:"p"},"SFSafariViewController")," no longer shares cookies with Safari, so if you are using ",Object(a.b)("inlineCode",{parentName:"p"},"WebBrowser")," for authentication you will want to use ",Object(a.b)("inlineCode",{parentName:"p"},"WebBrowser.openAuthSessionAsync"),", and if you just want to open a webpage (such as your app privacy policy), then use ",Object(a.b)("inlineCode",{parentName:"p"},"WebBrowser.openBrowserAsync"),"."),Object(a.b)(c.a,{android:!0,emulator:!0,ios:!0,simulator:!0,web:!0,mdxType:"PlatformsSection"}),Object(a.b)("h2",{id:"installation"},"Installation"),Object(a.b)(i.b,{packageName:"expo-web-browser",mdxType:"InstallSection"}),Object(a.b)("h2",{id:"usage"},"Usage"),Object(a.b)(p.a,{label:"Basic WebBrowser usage",dependencies:["expo-web-browser","expo-constants"],mdxType:"SnackInline"},Object(a.b)("pre",null,Object(a.b)("code",{parentName:"pre",className:"language-jsx"},"import React, { useState } from 'react';\nimport { Button, Text, View, StyleSheet } from 'react-native';\nimport * as WebBrowser from 'expo-web-browser';\n/* @hide */\nimport Constants from 'expo-constants';\n/* @end */\n\nexport default function App() {\n  const [result, setResult] = useState(null);\n\n  const _handlePressButtonAsync = async () => {\n    let result = await WebBrowser.openBrowserAsync('https://expo.dev');\n    setResult(result);\n  };\n  return (\n    <View style={styles.container}>\n      <Button title=\"Open WebBrowser\" onPress={_handlePressButtonAsync} />\n      <Text>{result && JSON.stringify(result)}</Text>\n    </View>\n  );\n}\n\n/* @hide const styles = StyleSheet.create({ ... }); */\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    alignItems: 'center',\n    justifyContent: 'center',\n    paddingTop: Constants.statusBarHeight,\n    backgroundColor: '#ecf0f1',\n  },\n});\n/* @end */\n"))),Object(a.b)("h3",{id:"handling-deep-links-from-the-webbrowser"},"Handling deep links from the WebBrowser"),Object(a.b)("p",null,"If you are using the ",Object(a.b)("inlineCode",{parentName:"p"},"WebBrowser")," window for authentication or another use case where you would like to pass information back into your app through a deep link, be sure to add a handler with ",Object(a.b)("inlineCode",{parentName:"p"},"Linking.addEventListener")," before opening the browser. When the listener fires, you should call ",Object(a.b)("a",{parentName:"p",href:"/versions/latest/sdk/webbrowser/#webbrowserdismissbrowser"},"dismissBrowser")," -- it will not automatically dismiss when a deep link is handled. Aside from that, redirects from ",Object(a.b)("inlineCode",{parentName:"p"},"WebBrowser")," work the same as other deep links. ",Object(a.b)("a",{parentName:"p",href:"/guides/linking/#handling-links-into-your-app"},"Read more about it in the Linking guide"),"."),Object(a.b)("h2",{id:"api"},"API"),Object(a.b)("pre",null,Object(a.b)("code",{parentName:"pre",className:"language-js"},"import * as WebBrowser from 'expo-web-browser';\n")),Object(a.b)(s.a,{packageName:"expo-web-browser",apiName:"WebBrowser",mdxType:"APISection"}),Object(a.b)("h2",{id:"error-codes"},"Error Codes"),Object(a.b)("h3",{id:"err_web_browser_redirect"},Object(a.b)("inlineCode",{parentName:"h3"},"ERR_WEB_BROWSER_REDIRECT")),Object(a.b)("p",null,Object(a.b)("strong",{parentName:"p"},"Web only:")," The window cannot complete the redirect request because the invoking window doesn't have a reference to it's parent. This can happen if the parent window was reloaded."),Object(a.b)("h3",{id:"err_web_browser_blocked"},Object(a.b)("inlineCode",{parentName:"h3"},"ERR_WEB_BROWSER_BLOCKED")),Object(a.b)("p",null,Object(a.b)("strong",{parentName:"p"},"Web only:")," The popup window was blocked by the browser or failed to open. This can happen in mobile browsers when the ",Object(a.b)("inlineCode",{parentName:"p"},"window.open()")," method was invoked too long after a user input was fired."),Object(a.b)("p",null,"Mobile browsers do this to prevent malicious websites from opening many unwanted popups on mobile."),Object(a.b)("p",null,"You're method can still run in an async function but there cannot be any long running tasks before it. You can use hooks to disable user-inputs until any other processes have finished loading."),Object(a.b)("h3",{id:"err_web_browser_crypto"},Object(a.b)("inlineCode",{parentName:"h3"},"ERR_WEB_BROWSER_CRYPTO")),Object(a.b)("p",null,Object(a.b)("strong",{parentName:"p"},"Web only:")," The current environment doesn't support crypto. Ensure you are running from a secure origin (https)."),Object(a.b)("p",null,"When using Expo CLI you can run ",Object(a.b)("inlineCode",{parentName:"p"},"expo start:web --https")," or ",Object(a.b)("inlineCode",{parentName:"p"},"expo start --web --https")," to open your web page in a secure development environment."))}h.isMDXComponent=!0},Vf4b:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/versions/latest/sdk/webbrowser",function(){return n("SDWs")}])},ufKf:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return r}));var o="https://snack.expo.dev";function r(e){var t=e.templateId,n=e.code,o=e.files,r=e.baseURL,a={};return o&&Object.keys(o).forEach((function(e){var t=o[e],n=/\.(jsx?|tsx?|json|md)$/i.test(e);a[e]=n?{type:"CODE",url:t.match(/^https?:\/\//)?t:"".concat(r,"/").concat(t)}:{type:"ASSET",contents:t}})),t?a["App.js"]={type:"CODE",url:"".concat(r,"/").concat(t,".js")}:n&&(a["App.js"]={type:"CODE",contents:n}),a}}},[["Vf4b",1,0,2,3,4,5,6,7,8,9,10,11,12,13,14]]]);