_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[164],{"7ljp":function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return d}));var o=n("q1tI"),r=n.n(o);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t){if(null==e)return{};var n,o,r=function(e,t){if(null==e)return{};var n,o,r={},a=Object.keys(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var l=r.a.createContext({}),b=function(e){var t=r.a.useContext(l),n=t;return e&&(n="function"===typeof e?e(t):p(p({},t),e)),n},s=function(e){var t=b(e.components);return r.a.createElement(l.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return r.a.createElement(r.a.Fragment,{},t)}},m=r.a.forwardRef((function(e,t){var n=e.components,o=e.mdxType,a=e.originalType,i=e.parentName,l=c(e,["components","mdxType","originalType","parentName"]),s=b(n),m=o,d=s["".concat(i,".").concat(m)]||s[m]||u[m]||a;return n?r.a.createElement(d,p(p({ref:t},l),{},{components:n})):r.a.createElement(d,p({ref:t},l))}));function d(e,t){var n=arguments,o=t&&t.mdxType;if("string"===typeof e||o){var a=n.length,i=new Array(a);i[0]=m;var p={};for(var c in t)hasOwnProperty.call(t,c)&&(p[c]=t[c]);p.originalType=e,p.mdxType="string"===typeof e?e:o,i[1]=p;for(var l=2;l<a;l++)i[l]=n[l];return r.a.createElement.apply(null,i)}return r.a.createElement.apply(null,n)}m.displayName="MDXCreateElement"},FhZx:function(e,t,n){"use strict";var o=n("AeFk"),r=n("3zh3"),a=(n("q1tI"),Object(o.b)("background-color:",r.palette.light.black,";border-radius:4px;padding:24px;display:flex;flex-direction:column;overflow-x:auto;margin-bottom:1rem;","")),i=Object(o.b)("white-space:nowrap;font-family:",r.typography.fontFaces.mono,";font-size:13px;color:",r.palette.dark.gray[900],";line-height:160%;::before{content:'$ ';color:",r.palette.dark.primary[700],";}",""),p=Object(o.b)("user-select:none;white-space:nowrap;font-family:",r.typography.fontFaces.mono,";font-size:13px;color:",r.palette.dark.gray[600],";line-height:150%;",""),c=function(e){var t=e.children;return Object(o.c)("code",{unselectable:"on",css:p},t)};t.a=function(e){var t=e.cmd;return Object(o.c)("div",{css:a},t.map((function(e,t){var n="line-".concat(t);return e.startsWith("#")?Object(o.c)(c,{key:n},e):""===e.trim()?Object(o.c)("br",{key:n}):Object(o.c)("code",{key:n,css:i},e)})))}},gDKx:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/guides/typescript",function(){return n("puu9")}])},puu9:function(e,t,n){"use strict";n.r(t),n.d(t,"meta",(function(){return c})),n.d(t,"headings",(function(){return l})),n.d(t,"default",(function(){return s}));var o=n("HALo"),r=n("dhJC"),a=(n("q1tI"),n("7ljp")),i=n("FhZx"),p=["components"],c={title:"TypeScript"},l=[{depth:2,type:"text",title:"Base configuration"},{depth:2,type:"text",title:"Project configuration"},{depth:2,type:"text",title:"Starting from scratch: using a TypeScript template"},{depth:2,type:"text",title:"TypeScript for config files"},{depth:3,type:"text",title:"webpack.config.js"},{depth:3,type:"text",title:"metro.config.js"},{depth:3,type:"text",title:"app.config.js"},{depth:2,type:"text",title:"Learning how to use TypeScript"},{depth:3,type:"text",title:"TypeScript and React components"},{depth:3,type:"text",title:"Advanced types"}],b={meta:c,headings:l};function s(e){var t=e.components,n=Object(r.a)(e,p);return Object(a.b)("wrapper",Object(o.a)({},b,n,{components:t,mdxType:"MDXLayout"}),Object(a.b)("blockquote",null,Object(a.b)("p",{parentName:"blockquote"},"\ud83d\udca1 Example project: ",Object(a.b)("a",{parentName:"p",href:"https://github.com/expo/examples/tree/master/with-typescript"},"with-typescript"))),Object(a.b)("p",null,"Expo has first-class support for ",Object(a.b)("a",{parentName:"p",href:"https://www.typescriptlang.org/"},"TypeScript"),". The JavaScript interface of the Expo SDK is completely written in TypeScript."),Object(a.b)("p",null,"To get started, create a ",Object(a.b)("strong",{parentName:"p"},"tsconfig.json")," in your project root:"),Object(a.b)(i.a,{cmd:["touch tsconfig.json"],mdxType:"TerminalBlock"}),Object(a.b)("p",null,"Running ",Object(a.b)("inlineCode",{parentName:"p"},"expo start")," will prompt you to install the required dependencies (",Object(a.b)("inlineCode",{parentName:"p"},"typescript"),", ",Object(a.b)("inlineCode",{parentName:"p"},"@types/react"),", ",Object(a.b)("inlineCode",{parentName:"p"},"@types/react-native"),"), and automatically configure your ",Object(a.b)("strong",{parentName:"p"},"tsconfig.json"),"."),Object(a.b)("p",null,"Rename files to convert them to TypeScript. For example, you would rename ",Object(a.b)("strong",{parentName:"p"},"App.js")," to ",Object(a.b)("strong",{parentName:"p"},"App.tsx"),". Use the ",Object(a.b)("strong",{parentName:"p"},".tsx")," extension if the file includes React components (JSX). If the file did not include any JSX, you can use the ",Object(a.b)("strong",{parentName:"p"},".ts")," file extension."),Object(a.b)(i.a,{cmd:["mv App.js App.tsx"],mdxType:"TerminalBlock"}),Object(a.b)("p",null,"You can now run ",Object(a.b)("inlineCode",{parentName:"p"},"yarn tsc")," or ",Object(a.b)("inlineCode",{parentName:"p"},"npx tsc")," to typecheck the project."),Object(a.b)("h2",{id:"base-configuration"},"Base configuration"),Object(a.b)("blockquote",null,Object(a.b)("p",{parentName:"blockquote"},"\ud83d\udca1 You can disable the TypeScript setup in Expo CLI with the environment variable ",Object(a.b)("inlineCode",{parentName:"p"},"EXPO_NO_TYPESCRIPT_SETUP=1"))),Object(a.b)("p",null,"An Expo app's ",Object(a.b)("strong",{parentName:"p"},"tsconfig.json")," should extend the ",Object(a.b)("inlineCode",{parentName:"p"},"expo/tsconfig.base")," by default. This sets the following default ",Object(a.b)("a",{parentName:"p",href:"https://www.typescriptlang.org/docs/handbook/compiler-options.html"},"compiler options")," (which can be overwritten in your project's ",Object(a.b)("strong",{parentName:"p"},"tsconfig.json"),"):"),Object(a.b)("ul",null,Object(a.b)("li",{parentName:"ul"},Object(a.b)("inlineCode",{parentName:"li"},'"allowJs"'),": ",Object(a.b)("inlineCode",{parentName:"li"},"true"),Object(a.b)("ul",{parentName:"li"},Object(a.b)("li",{parentName:"ul"},"Allow JavaScript files to be compiled. If you project requires more strictness, you can disable this."))),Object(a.b)("li",{parentName:"ul"},Object(a.b)("inlineCode",{parentName:"li"},'"esModuleInterop"'),": ",Object(a.b)("inlineCode",{parentName:"li"},"true"),Object(a.b)("ul",{parentName:"li"},Object(a.b)("li",{parentName:"ul"},"Improve Babel ecosystem compatibility. This also sets ",Object(a.b)("inlineCode",{parentName:"li"},"allowSyntheticDefaultImports")," to ",Object(a.b)("inlineCode",{parentName:"li"},"true"),", allowing default imports from modules with no default export."))),Object(a.b)("li",{parentName:"ul"},Object(a.b)("a",{parentName:"li",href:"https://www.typescriptlang.org/docs/handbook/jsx.html"},Object(a.b)("inlineCode",{parentName:"a"},'"jsx"')),": ",Object(a.b)("inlineCode",{parentName:"li"},'"react-native"'),Object(a.b)("ul",{parentName:"li"},Object(a.b)("li",{parentName:"ul"},"Preserve JSX, and converts the ",Object(a.b)("inlineCode",{parentName:"li"},"jsx")," extension to ",Object(a.b)("inlineCode",{parentName:"li"},"js"),". This is optimized for bundlers that transform the JSX internally (like Metro)."))),Object(a.b)("li",{parentName:"ul"},Object(a.b)("inlineCode",{parentName:"li"},'"lib"'),": ",Object(a.b)("inlineCode",{parentName:"li"},'["DOM", "ESNext"]'),Object(a.b)("ul",{parentName:"li"},Object(a.b)("li",{parentName:"ul"},"Allow using the latest ",Object(a.b)("a",{parentName:"li",href:"https://github.com/tc39/proposals"},"ECMAScript proposed features and libraries"),"."))),Object(a.b)("li",{parentName:"ul"},Object(a.b)("a",{parentName:"li",href:"https://www.typescriptlang.org/docs/handbook/module-resolution.html"},Object(a.b)("inlineCode",{parentName:"a"},'"moduleResolution"')),": ",Object(a.b)("inlineCode",{parentName:"li"},'"node"'),Object(a.b)("ul",{parentName:"li"},Object(a.b)("li",{parentName:"ul"},"Emulate how Metro and Webpack resolve modules."))),Object(a.b)("li",{parentName:"ul"},Object(a.b)("inlineCode",{parentName:"li"},'"noEmit"'),": ",Object(a.b)("inlineCode",{parentName:"li"},"true"),Object(a.b)("ul",{parentName:"li"},Object(a.b)("li",{parentName:"ul"},"Only use the TypeScript compiler (TSC) to check the code. The Metro bundler is responsible for compiling TypeScript to JavaScript."))),Object(a.b)("li",{parentName:"ul"},Object(a.b)("inlineCode",{parentName:"li"},'"resolveJsonModule"'),": ",Object(a.b)("inlineCode",{parentName:"li"},"true"),Object(a.b)("ul",{parentName:"li"},Object(a.b)("li",{parentName:"ul"},"Enables importing ",Object(a.b)("strong",{parentName:"li"},".json")," files. Metro's default behavior is to allow importing json files as JS objects."))),Object(a.b)("li",{parentName:"ul"},Object(a.b)("inlineCode",{parentName:"li"},'"skipLibCheck"'),": ",Object(a.b)("inlineCode",{parentName:"li"},"true"),Object(a.b)("ul",{parentName:"li"},Object(a.b)("li",{parentName:"ul"},"Skip type checking of all declaration files (",Object(a.b)("inlineCode",{parentName:"li"},"*.d.ts"),")."))),Object(a.b)("li",{parentName:"ul"},Object(a.b)("inlineCode",{parentName:"li"},'"target"'),": ",Object(a.b)("inlineCode",{parentName:"li"},'"ESNext"'),Object(a.b)("ul",{parentName:"li"},Object(a.b)("li",{parentName:"ul"},"Compile to the latest version of ECMAScript.")))),Object(a.b)("h2",{id:"project-configuration"},"Project configuration"),Object(a.b)("p",null,"Expo CLI will automatically modify your ",Object(a.b)("strong",{parentName:"p"},"tsconfig.json")," to the preferred default which is optimized for universal React development:"),Object(a.b)("pre",null,Object(a.b)("code",{parentName:"pre",className:"language-json"},'{\n  "extends": "expo/tsconfig.base",\n  "compilerOptions": {}\n}\n')),Object(a.b)("p",null,"The default configuration is forgiving and makes it easier to adopt TypeScript. If you'd like to opt-in to more strict type checking, you can add ",Object(a.b)("inlineCode",{parentName:"p"},'"strict": true')," to the ",Object(a.b)("inlineCode",{parentName:"p"},"compilerOptions"),". We recommend enabling this to minimize the chance of introducing runtime errors."),Object(a.b)("p",null,"Certain language features may require additional configuration, for example if you'd like to use decorators you will need to add the ",Object(a.b)("inlineCode",{parentName:"p"},"experimentalDecorators")," option. For more information on the available properties see the ",Object(a.b)("a",{parentName:"p",href:"https://www.typescriptlang.org/docs/handbook/compiler-options.html"},"TypeScript compiler options documentation")," documentation."),Object(a.b)("h2",{id:"starting-from-scratch-using-a-typescript-template"},"Starting from scratch: using a TypeScript template"),Object(a.b)(i.a,{cmd:["expo init -t expo-template-blank-typescript"],mdxType:"TerminalBlock"}),Object(a.b)("p",null,"The easiest way to get started is to initialize your new project using a TypeScript template. When you run ",Object(a.b)("inlineCode",{parentName:"p"},"expo init")," choose one of the templates with TypeScript in the name and then run ",Object(a.b)("inlineCode",{parentName:"p"},"yarn tsc")," or ",Object(a.b)("inlineCode",{parentName:"p"},"npx tsc")," to typecheck the project."),Object(a.b)("p",null,"When you create new source files in your project you should use the ",Object(a.b)("strong",{parentName:"p"},".ts")," extension or the ",Object(a.b)("strong",{parentName:"p"},".tsx")," if the file includes React components."),Object(a.b)("h2",{id:"typescript-for-config-files"},"TypeScript for config files"),Object(a.b)("p",null,"You may find that you want to use TypeScript for the config files in your project, like the ",Object(a.b)("strong",{parentName:"p"},"webpack.config.js"),", ",Object(a.b)("strong",{parentName:"p"},"metro.config.js"),", or ",Object(a.b)("strong",{parentName:"p"},"app.config.js"),". These will require a little extra setup. You can utilize the ",Object(a.b)("a",{parentName:"p",href:"https://github.com/TypeStrong/ts-node#programmatic"},Object(a.b)("inlineCode",{parentName:"a"},"ts-node")," require hook")," to ",Object(a.b)("em",{parentName:"p"},"import")," TypeScript files into your JS config file, meaning any import can be TypeScript, but the root file will still need to be JavaScript."),Object(a.b)(i.a,{cmd:["yarn add -D ts-node typescript"],mdxType:"TerminalBlock"}),Object(a.b)("h3",{id:"webpackconfigjs"},"webpack.config.js"),Object(a.b)("blockquote",null,Object(a.b)("p",{parentName:"blockquote"},"You may need to install the ",Object(a.b)("inlineCode",{parentName:"p"},"@expo/webpack-config")," package.")),Object(a.b)("p",null,Object(a.b)("strong",{parentName:"p"},"webpack.config.js")),Object(a.b)("pre",null,Object(a.b)("code",{parentName:"pre",className:"language-js"},"require('ts-node/register');\nmodule.exports = require('./webpack.config.ts');\n")),Object(a.b)("p",null,Object(a.b)("strong",{parentName:"p"},"webpack.config.ts")),Object(a.b)("pre",null,Object(a.b)("code",{parentName:"pre",className:"language-ts"},"import createExpoWebpackConfigAsync from '@expo/webpack-config/webpack';\nimport { Arguments, Environment } from '@expo/webpack-config/webpack/types';\n\nmodule.exports = async function (env: Environment, argv: Arguments) {\n  const config = await createExpoWebpackConfigAsync(env, argv);\n  // Customize the config before returning it.\n  return config;\n};\n")),Object(a.b)("h3",{id:"metroconfigjs"},"metro.config.js"),Object(a.b)("blockquote",null,Object(a.b)("p",{parentName:"blockquote"},"Metro doesn't ship types or have a definitely typed package.")),Object(a.b)("p",null,Object(a.b)("strong",{parentName:"p"},"metro.config.js")),Object(a.b)("pre",null,Object(a.b)("code",{parentName:"pre",className:"language-js"},"require('ts-node/register');\nmodule.exports = require('./metro.config.ts');\n")),Object(a.b)("p",null,Object(a.b)("strong",{parentName:"p"},"metro.config.ts")),Object(a.b)("pre",null,Object(a.b)("code",{parentName:"pre",className:"language-ts"},"import { getDefaultConfig } from '@expo/metro-config';\n\nconst defaultConfig = getDefaultConfig(__dirname);\n\nmodule.exports = defaultConfig;\n")),Object(a.b)("h3",{id:"appconfigjs"},"app.config.js"),Object(a.b)("p",null,"Technically ",Object(a.b)("strong",{parentName:"p"},"app.config.ts")," is supported by default, but it doesn't support external TypeScript modules, or ",Object(a.b)("strong",{parentName:"p"},"tsconfig.json")," customization. You can use the following approach to get a more comprehensive TypeScript setup."),Object(a.b)("p",null,Object(a.b)("strong",{parentName:"p"},"app.config.js")),Object(a.b)("pre",null,Object(a.b)("code",{parentName:"pre",className:"language-js"},"require('ts-node/register');\nmodule.exports = require('./app.config.ts');\n")),Object(a.b)("p",null,Object(a.b)("strong",{parentName:"p"},"app.config.ts")),Object(a.b)("pre",null,Object(a.b)("code",{parentName:"pre",className:"language-ts"},"import { ExpoConfig } from '@expo/config-types';\n\nconst config: ExpoConfig = {\n  name: 'my-app',\n};\n\nexport default config;\n")),Object(a.b)("h2",{id:"learning-how-to-use-typescript"},"Learning how to use TypeScript"),Object(a.b)("p",null,"A good place to start learning TypeScript is the official ",Object(a.b)("a",{parentName:"p",href:"https://www.typescriptlang.org/docs/handbook/basic-types.html"},"TypeScript Handbook"),"."),Object(a.b)("h3",{id:"typescript-and-react-components"},"TypeScript and React components"),Object(a.b)("p",null,"We recommend reading over and referring to the ",Object(a.b)("a",{parentName:"p",href:"https://github.com/typescript-cheatsheets/react"},"React TypeScript CheatSheet")," to learn how to type your React components in a variety of common situations."),Object(a.b)("h3",{id:"advanced-types"},"Advanced types"),Object(a.b)("p",null,"If you would like to go deeper and learn how to create more expressive and powerful types, we recommend the ",Object(a.b)("a",{parentName:"p",href:"https://egghead.io/courses/advanced-static-types-in-typescript"},"Advanced Static Types in TypeScript course")," (this requires an egghead.io subscription)."))}s.isMDXComponent=!0}},[["gDKx",1,0,2,3]]]);