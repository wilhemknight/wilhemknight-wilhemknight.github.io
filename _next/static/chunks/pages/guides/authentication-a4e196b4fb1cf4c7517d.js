_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[136],{"5BX9":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return s}));var o=n("q1tI"),a=n("AeFk"),r=Object(o.createContext)({version:"latest",hasVersion:!1,setVersion:function(e){throw new Error("PageApiVersionContext not found")}});function i(e){var t=p(e.router.pathname),n=null!==t,i=Object(o.useCallback)((function(t){e.router.push(function(e,t){var n=p(e);return n?e.replace(n,t):e}(e.router.pathname,t))}),[]);return Object(a.c)(r.Provider,{value:{setVersion:i,hasVersion:n,version:t||"latest"}},e.children)}function s(){return Object(o.useContext)(r)}function p(e){return function(e){return e.startsWith("/versions/")}(e)?e.split("/",3).pop():null}},"7M5e":function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/guides/authentication",function(){return n("864d")}])},"864d":function(e,t,n){"use strict";n.r(t),n.d(t,"meta",(function(){return l})),n.d(t,"headings",(function(){return c})),n.d(t,"default",(function(){return u}));var o=n("HALo"),a=n("dhJC"),r=(n("q1tI"),n("7ljp")),i=(n("hykZ"),n("HCau"),n("K6fk")),s=n("zokH"),p=(n("FhZx"),n("I0q5"),["components"]),l={title:"Authentication"},c=[{depth:2,type:"text",title:"Guides"},{depth:3,type:"text",title:"IdentityServer 4"},{depth:3,type:"text",title:"Azure"},{depth:3,type:"text",title:"Coinbase"},{depth:3,type:"text",title:"Dropbox"},{depth:3,type:"text",title:"Facebook"},{depth:4,type:"text",title:"Expo Go"},{depth:4,type:"text",title:"Custom Apps"},{depth:4,type:"text",title:"Native iOS"},{depth:4,type:"text",title:"Native Android"},{depth:4,type:"text",title:"Troubleshooting native"},{depth:4,type:"text",title:"Websites"},{depth:3,type:"text",title:"FitBit"},{depth:3,type:"text",title:"GitHub"},{depth:3,type:"text",title:"Google"},{depth:4,type:"text",title:"Development in the Expo Go app"},{depth:4,type:"text",title:"iOS Native"},{depth:4,type:"text",title:"Android Native"},{depth:4,type:"text",title:"Web Apps"},{depth:3,type:"text",title:"Imgur"},{depth:3,type:"text",title:"Okta"},{depth:3,type:"text",title:"Reddit"},{depth:3,type:"text",title:"Slack"},{depth:3,type:"text",title:"Spotify"},{depth:3,type:"text",title:"Strava"},{depth:3,type:"text",title:"Twitch"},{depth:3,type:"text",title:"Twitter"},{depth:4,type:"text",title:"Expo Go"},{depth:3,type:"text",title:"Uber"},{depth:2,type:"text",title:"Redirect URI patterns"},{depth:4,type:"text",title:"Expo Proxy"},{depth:4,type:"text",title:"Published project in the Expo Go app"},{depth:4,type:"text",title:"Development project in the Expo Go app"},{depth:4,type:"text",title:"Standalone and Bare"},{depth:2,type:"text",title:"Improving User Experience"},{depth:3,type:"text",title:"Warming the browser"},{depth:3,type:"text",title:"Implicit login"},{depth:3,type:"text",title:"Storing data"}],b={meta:l,headings:c};function u(e){var t=e.components,n=Object(a.a)(e,p);return Object(r.b)("wrapper",Object(o.a)({},b,n,{components:t,mdxType:"MDXLayout"}),Object(r.b)("p",null,"Expo can be used to login to many popular providers on iOS, Android, and web! Most of these guides utilize the pure JS ",Object(r.b)("a",{parentName:"p",href:"/../../../../../../versions/latest/sdk/auth-session"},Object(r.b)("inlineCode",{parentName:"a"},"AuthSession")," API"),", refer to those docs for more information on the API."),Object(r.b)("p",null,"Here are some ",Object(r.b)("strong",{parentName:"p"},"important rules")," that apply to all authentication providers:"),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},"Use ",Object(r.b)("inlineCode",{parentName:"li"},"WebBrowser.maybeCompleteAuthSession()")," to dismiss the web popup. If you forget to add this then the popup window will not close."),Object(r.b)("li",{parentName:"ul"},"Create redirects with ",Object(r.b)("inlineCode",{parentName:"li"},"AuthSession.makeRedirectUri()")," this does a lot of the heavy lifting involved with universal platform support. Behind the scenes it uses ",Object(r.b)("inlineCode",{parentName:"li"},"expo-linking"),"."),Object(r.b)("li",{parentName:"ul"},"Build requests using ",Object(r.b)("inlineCode",{parentName:"li"},"AuthSession.useAuthRequest()"),", the hook allows for async setup which means mobile browsers won't block the authentication."),Object(r.b)("li",{parentName:"ul"},"Be sure to disable the prompt until ",Object(r.b)("inlineCode",{parentName:"li"},"request")," is defined."),Object(r.b)("li",{parentName:"ul"},"You can only invoke ",Object(r.b)("inlineCode",{parentName:"li"},"promptAsync")," in a user-interaction on web.")),Object(r.b)("h2",{id:"guides"},"Guides"),Object(r.b)("p",null,Object(r.b)("strong",{parentName:"p"},"AuthSession")," can be used for any OAuth or OpenID Connect provider, we've assembled guides for using the most requested services!\nIf you'd like to see more, you can ",Object(r.b)("a",{parentName:"p",href:"https://github.com/expo/expo/edit/main/docs/pages/guides/authentication.md"},"open a PR")," or ",Object(r.b)("a",{parentName:"p",href:"https://expo.canny.io/feature-requests"},"vote on canny"),"."),Object(r.b)(i.b,{mdxType:"SocialGrid"},Object(r.b)(i.c,{title:"IdentityServer 4",protocol:["OAuth 2","OpenID"],href:"#identityserver-4",image:"/static/images/sdk/auth-session/identity4.png",mdxType:"SocialGridItem"}),Object(r.b)(i.c,{title:"Azure",protocol:["OAuth 2","OpenID"],href:"#azure",image:"/static/images/sdk/auth-session/azure.png",mdxType:"SocialGridItem"}),Object(r.b)(i.c,{title:"Apple",protocol:["iOS Only"],href:"/versions/latest/sdk/apple-authentication",image:"/static/images/sdk/auth-session/apple.png",mdxType:"SocialGridItem"}),Object(r.b)(i.c,{title:"Coinbase",protocol:["OAuth 2"],href:"#coinbase",image:"/static/images/sdk/auth-session/coinbase.png",mdxType:"SocialGridItem"}),Object(r.b)(i.c,{title:"Dropbox",protocol:["OAuth 2"],href:"#dropbox",image:"/static/images/sdk/auth-session/dropbox.png",mdxType:"SocialGridItem"}),Object(r.b)(i.c,{title:"Facebook",protocol:["OAuth 2"],href:"#facebook",image:"/static/images/sdk/auth-session/facebook.png",mdxType:"SocialGridItem"}),Object(r.b)(i.c,{title:"Fitbit",protocol:["OAuth 2"],href:"#fitbit",image:"/static/images/sdk/auth-session/fitbit.png",mdxType:"SocialGridItem"}),Object(r.b)(i.c,{title:"Firebase Phone",protocol:["Recaptcha"],href:"/versions/latest/sdk/firebase-recaptcha",image:"/static/images/sdk/auth-session/firebase-phone.png",mdxType:"SocialGridItem"}),Object(r.b)(i.c,{title:"GitHub",protocol:["OAuth 2"],href:"#github",image:"/static/images/sdk/auth-session/github.png",mdxType:"SocialGridItem"}),Object(r.b)(i.c,{title:"Google",protocol:["OAuth 2","OpenID"],href:"#google",image:"/static/images/sdk/auth-session/google.png",mdxType:"SocialGridItem"}),Object(r.b)(i.c,{title:"Imgur",protocol:["OAuth 2"],href:"#imgur",image:"/static/images/sdk/auth-session/imgur.png",mdxType:"SocialGridItem"}),Object(r.b)(i.c,{title:"Okta",protocol:["OAuth 2","OpenID"],href:"#okta",image:"/static/images/sdk/auth-session/okta.png",mdxType:"SocialGridItem"}),Object(r.b)(i.c,{title:"Reddit",protocol:["OAuth 2"],href:"#reddit",image:"/static/images/sdk/auth-session/reddit.png",mdxType:"SocialGridItem"}),Object(r.b)(i.c,{title:"Slack",protocol:["OAuth 2"],href:"#slack",image:"/static/images/sdk/auth-session/slack.png",mdxType:"SocialGridItem"}),Object(r.b)(i.c,{title:"Spotify",protocol:["OAuth 2"],href:"#spotify",image:"/static/images/sdk/auth-session/spotify.png",mdxType:"SocialGridItem"}),Object(r.b)(i.c,{title:"Strava",protocol:["OAuth 2"],href:"#strava",image:"/static/images/sdk/auth-session/strava.png",mdxType:"SocialGridItem"}),Object(r.b)(i.c,{title:"Twitch",protocol:["OAuth 2"],href:"#twitch",image:"/static/images/sdk/auth-session/twitch.png",mdxType:"SocialGridItem"}),Object(r.b)(i.c,{title:"Twitter",protocol:["OAuth 2"],href:"#twitter",image:"/static/images/sdk/auth-session/twitter.png",mdxType:"SocialGridItem"}),Object(r.b)(i.c,{title:"Uber",protocol:["OAuth 2"],href:"#uber",image:"/static/images/sdk/auth-session/uber.png",mdxType:"SocialGridItem"})),Object(r.b)("br",null),Object(r.b)("h3",{id:"identityserver-4"},"IdentityServer 4"),Object(r.b)("table",null,Object(r.b)("thead",{parentName:"table"},Object(r.b)("tr",{parentName:"thead"},Object(r.b)("th",{parentName:"tr",align:null},"Website"),Object(r.b)("th",{parentName:"tr",align:null},"Provider"),Object(r.b)("th",{parentName:"tr",align:null},"PKCE"),Object(r.b)("th",{parentName:"tr",align:null},"Auto Discovery"))),Object(r.b)("tbody",{parentName:"table"},Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",{parentName:"tr",align:null},Object(r.b)("a",{parentName:"td",href:"https://demo.identityserver.io/"},"More Info")),Object(r.b)("td",{parentName:"tr",align:null},"OpenID"),Object(r.b)("td",{parentName:"tr",align:null},"Required"),Object(r.b)("td",{parentName:"tr",align:null},"Available")))),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},"If ",Object(r.b)("inlineCode",{parentName:"li"},"offline_access")," isn't included then no refresh token will be returned.")),Object(r.b)("pre",null,Object(r.b)("code",{parentName:"pre",className:"language-tsx"},"import * as React from 'react';\nimport { Button, Text, View } from 'react-native';\nimport * as AuthSession from 'expo-auth-session';\nimport * as WebBrowser from 'expo-web-browser';\n\n/* @info <strong>Web only:</strong> This method should be invoked on the page that the auth popup gets redirected to on web, it'll ensure that authentication is completed properly. On native this does nothing. */\nWebBrowser.maybeCompleteAuthSession();\n/* @end */\n\n/* @info Using the Expo proxy will redirect the user through auth.expo.io enabling you to use web links when configuring your project with an OAuth provider. This is not available on web. */\nconst useProxy = true;\n/* @end */\n\nconst redirectUri = AuthSession.makeRedirectUri({\n  useProxy,\n});\n\nexport default function App() {\n  /* @info If the provider supports auto discovery then you can pass an issuer to the `useAutoDiscovery` hook to fetch the discovery document. */\n  const discovery = AuthSession.useAutoDiscovery('https://demo.identityserver.io');\n  /* @end */\n\n  // Create and load an auth request\n  const [request, result, promptAsync] = AuthSession.useAuthRequest(\n    {\n      clientId: 'native.code',\n      /* @info After a user finishes authenticating, the server will redirect them to this URI. Learn more about <a href=\"../../guides/linking/\">linking here</a>. */\n      redirectUri,\n      /* @end */\n      scopes: ['openid', 'profile', 'email', 'offline_access'],\n    },\n    discovery\n  );\n\n  return (\n    <View style={{ flex: 1, justifyContent: 'center', alignItems: 'center' }}>\n      <Button title=\"Login!\" disabled={!request} onPress={() => promptAsync({ useProxy })} />\n      {result && <Text>{JSON.stringify(result, null, 2)}</Text>}\n    </View>\n  );\n}\n")),Object(r.b)("h3",{id:"azure"},"Azure"),Object(r.b)(i.a,{name:"Azure",href:"https://docs.microsoft.com/en-us/azure/active-directory/develop/v2-overview",mdxType:"CreateAppButton"}),Object(r.b)("table",null,Object(r.b)("thead",{parentName:"table"},Object(r.b)("tr",{parentName:"thead"},Object(r.b)("th",{parentName:"tr",align:null},"Website"),Object(r.b)("th",{parentName:"tr",align:null},"Provider"),Object(r.b)("th",{parentName:"tr",align:null},"PKCE"),Object(r.b)("th",{parentName:"tr",align:null},"Auto Discovery"))),Object(r.b)("tbody",{parentName:"table"},Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",{parentName:"tr",align:null},Object(r.b)("a",{parentName:"td",href:"https://docs.microsoft.com/en-us/azure/active-directory/develop/v2-overview"},"Get Your Config")),Object(r.b)("td",{parentName:"tr",align:null},"OpenID"),Object(r.b)("td",{parentName:"tr",align:null},"Supported"),Object(r.b)("td",{parentName:"tr",align:null},"Available")))),Object(r.b)("pre",null,Object(r.b)("code",{parentName:"pre",className:"language-tsx"},"import * as React from 'react';\nimport * as WebBrowser from 'expo-web-browser';\nimport { makeRedirectUri, useAuthRequest, useAutoDiscovery } from 'expo-auth-session';\nimport { Button } from 'react-native';\n\n/* @info <strong>Web only:</strong> This method should be invoked on the page that the auth popup gets redirected to on web, it'll ensure that authentication is completed properly. On native this does nothing. */\nWebBrowser.maybeCompleteAuthSession();\n/* @end */\n\nexport default function App() {\n  // Endpoint\n  const discovery = useAutoDiscovery('https://login.microsoftonline.com/<TENANT_ID>/v2.0');\n  // Request\n  const [request, response, promptAsync] = useAuthRequest(\n    {\n      clientId: 'CLIENT_ID',\n      scopes: ['openid', 'profile', 'email', 'offline_access'],\n      redirectUri: makeRedirectUri({\n        /* @info The URI <code>[scheme]://</code> to be used in bare and standalone. If undefined, the <code>scheme</code> property of your app.json or app.config.js will be used instead. */\n        scheme: 'your.app'\n        /* @end */\n      }),\n    },\n    discovery\n  );\n\n  return (\n    <Button\n      /* @info Disable the button until the request is loaded asynchronously. */\n      disabled={!request}\n      /* @end */\n      title=\"Login\"\n      onPress={() => {\n        /* @info Prompt the user to authenticate in a user interaction or web browsers will block it. */\n        promptAsync();\n        /* @end */\n      }}\n    />\n  );\n}\n")),Object(r.b)("h3",{id:"coinbase"},"Coinbase"),Object(r.b)(i.a,{name:"Coinbase",href:"https://www.coinbase.com/oauth/applications/new",mdxType:"CreateAppButton"}),Object(r.b)("table",null,Object(r.b)("thead",{parentName:"table"},Object(r.b)("tr",{parentName:"thead"},Object(r.b)("th",{parentName:"tr",align:null},"Website"),Object(r.b)("th",{parentName:"tr",align:null},"Provider"),Object(r.b)("th",{parentName:"tr",align:null},"PKCE"),Object(r.b)("th",{parentName:"tr",align:null},"Auto Discovery"))),Object(r.b)("tbody",{parentName:"table"},Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",{parentName:"tr",align:null},Object(r.b)("a",{parentName:"td",href:"https://www.coinbase.com/oauth/applications/new"},"Get Your Config")),Object(r.b)("td",{parentName:"tr",align:null},"OAuth 2.0"),Object(r.b)("td",{parentName:"tr",align:null},"Supported"),Object(r.b)("td",{parentName:"tr",align:null},"Not Available")))),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},"The ",Object(r.b)("inlineCode",{parentName:"li"},"redirectUri")," requires 2 slashes (",Object(r.b)("inlineCode",{parentName:"li"},"://"),")."),Object(r.b)("li",{parentName:"ul"},"Scopes must be joined with ':' so just create one long string."),Object(r.b)("li",{parentName:"ul"},"Setup redirect URIs: Your Project > Permitted Redirect URIs: (be sure to save after making changes).",Object(r.b)("ul",{parentName:"li"},Object(r.b)("li",{parentName:"ul"},Object(r.b)("em",{parentName:"li"},"Expo Go"),": ",Object(r.b)("inlineCode",{parentName:"li"},"exp://localhost:19000/--/")),Object(r.b)("li",{parentName:"ul"},Object(r.b)("em",{parentName:"li"},"Web dev"),": ",Object(r.b)("inlineCode",{parentName:"li"},"https://localhost:19006"),Object(r.b)("ul",{parentName:"li"},Object(r.b)("li",{parentName:"ul"},"Run ",Object(r.b)("inlineCode",{parentName:"li"},"expo start:web --https")," to run with ",Object(r.b)("strong",{parentName:"li"},"https"),", auth won't work otherwise."),Object(r.b)("li",{parentName:"ul"},"Adding a slash to the end of the URL doesn't matter."))),Object(r.b)("li",{parentName:"ul"},Object(r.b)("em",{parentName:"li"},"Standalone and Bare"),": ",Object(r.b)("inlineCode",{parentName:"li"},"your-scheme://"),Object(r.b)("ul",{parentName:"li"},Object(r.b)("li",{parentName:"ul"},"Scheme should be specified in app.json ",Object(r.b)("inlineCode",{parentName:"li"},"expo.scheme: 'your-scheme'"),", then added to the app code with ",Object(r.b)("inlineCode",{parentName:"li"},"makeRedirectUri({ native: 'your-scheme://' })"),")"))),Object(r.b)("li",{parentName:"ul"},Object(r.b)("em",{parentName:"li"},"Proxy"),": ",Object(r.b)("strong",{parentName:"li"},"Not Supported"),Object(r.b)("ul",{parentName:"li"},Object(r.b)("li",{parentName:"ul"},"You cannot use the Expo proxy (",Object(r.b)("inlineCode",{parentName:"li"},"useProxy"),") because they don't allow ",Object(r.b)("inlineCode",{parentName:"li"},"@")," in their redirect URIs."))),Object(r.b)("li",{parentName:"ul"},Object(r.b)("em",{parentName:"li"},"Web production"),": ",Object(r.b)("inlineCode",{parentName:"li"},"https://yourwebsite.com"),Object(r.b)("ul",{parentName:"li"},Object(r.b)("li",{parentName:"ul"},"Set this to whatever your deployed website URL is.")))))),Object(r.b)(s.b,{tabs:["Auth Code","Implicit Flow"],mdxType:"Tabs"},Object(r.b)(s.a,{mdxType:"Tab"},Object(r.b)("pre",null,Object(r.b)("code",{parentName:"pre",className:"language-tsx"},'import {\n  exchangeCodeAsync,\n  makeRedirectUri,\n  TokenResponse,\n  useAuthRequest,\n} from "expo-auth-session";\nimport * as WebBrowser from "expo-web-browser";\nimport * as React from "react";\nimport { Button } from "react-native";\n\n/* @info <strong>Web only:</strong> This method should be invoked on the page that the auth popup gets redirected to on web, it\'ll ensure that authentication is completed properly. On native this does nothing. */\nWebBrowser.maybeCompleteAuthSession();\n/* @end */\n\n// Endpoint\nconst discovery = {\n  authorizationEndpoint: "https://www.coinbase.com/oauth/authorize",\n  tokenEndpoint: "https://api.coinbase.com/oauth/token",\n  revocationEndpoint: "https://api.coinbase.com/oauth/revoke",\n};\n\nconst redirectUri = makeRedirectUri({\n  /* @info The URI <code>[scheme]://</code> to be used in bare and standalone. If undefined, the <code>scheme</code> property of your app.json or app.config.js will be used instead. */\n  scheme: \'your.app\'  \n/* @end */});\n\nconst CLIENT_ID = "CLIENT_ID";\n\nexport default function App() {\n  const [request, response, promptAsync] = useAuthRequest(\n    {\n      clientId: CLIENT_ID,\n      scopes: ["wallet:accounts:read"],\n      redirectUri,\n    },\n    discovery\n  );\n  const {\n    // The token will be auto exchanged after auth completes.\n    token,\n    /* @info If the auto exchange fails, you can display the error. */\n    exchangeError,\n    /* @end */\n  } = useAutoExchange(\n    /* @info The auth code will be exchanged for an access token as soon as it\'s available. */\n    response?.type === "success" ? response.params.code : null\n    /* @end */\n  );\n\n  React.useEffect(() => {\n    if (token) {\n      /* @info The access token is now ready to be used to make authenticated requests. */\n      console.log("My Token:", token.accessToken);\n      /* @end */\n    }\n  }, [token]);\n\n  return (\n    <Button\n      /* @info Disable the button until the request is loaded asynchronously. */\n      disabled={!request}\n      /* @end */\n      title="Login"\n      onPress={() => {\n        /* @info Prompt the user to authenticate in a user interaction or web browsers will block it. */\n        promptAsync();\n        /* @end */\n      }}\n    />\n  );\n}\n\ntype State = {\n  token: TokenResponse | null;\n  exchangeError: Error | null;\n};\n\n// A hook to automatically exchange the auth token for an access token.\n// this should be performed in a server and not here in the application.\n// For educational purposes only:\nfunction useAutoExchange(code?: string): State {\n  const [state, setState] = React.useReducer(\n    (state: State, action: Partial<State>) => ({ ...state, ...action }),\n    { token: null, exchangeError: null }\n  );\n  const isMounted = useMounted();\n\n  React.useEffect(() => {\n    if (!code) {\n      setState({ token: null, exchangeError: null });\n      return;\n    }\n\n    /* @info Swap this method out for a fetch request to a server that exchanges your auth code securely. */\n    exchangeCodeAsync(\n      /* @end */\n      {\n        clientId: CLIENT_ID,\n        /* @info <b>Never</b> store your client secret in the application code! */\n        clientSecret: "CLIENT_SECRET",\n        /* @end */\n        code,\n        redirectUri,\n      },\n      discovery\n    )\n      .then((token) => {\n        if (isMounted.current) {\n          setState({ token, exchangeError: null });\n        }\n      })\n      .catch((exchangeError) => {\n        if (isMounted.current) {\n          setState({ exchangeError, token: null });\n        }\n      });\n  }, [code]);\n\n  return state;\n}\n\nfunction useMounted() {\n  const isMounted = React.useRef(true);\n  React.useEffect(() => {\n    return () => {\n      isMounted.current = false;\n    };\n  }, []);\n  return isMounted;\n}\n'))),Object(r.b)(s.a,{mdxType:"Tab"},Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},"Coinbase does not support implicit grant.")))),Object(r.b)("h3",{id:"dropbox"},"Dropbox"),Object(r.b)(i.a,{name:"Dropbox",href:"https://www.dropbox.com/developers/apps/create",mdxType:"CreateAppButton"}),Object(r.b)("table",null,Object(r.b)("thead",{parentName:"table"},Object(r.b)("tr",{parentName:"thead"},Object(r.b)("th",{parentName:"tr",align:null},"Website"),Object(r.b)("th",{parentName:"tr",align:null},"Provider"),Object(r.b)("th",{parentName:"tr",align:null},"PKCE"),Object(r.b)("th",{parentName:"tr",align:null},"Auto Discovery"))),Object(r.b)("tbody",{parentName:"table"},Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",{parentName:"tr",align:null},Object(r.b)("a",{parentName:"td",href:"https://www.dropbox.com/developers/apps/create"},"Get Your Config")),Object(r.b)("td",{parentName:"tr",align:null},"OAuth 2.0"),Object(r.b)("td",{parentName:"tr",align:null},"Not Supported"),Object(r.b)("td",{parentName:"tr",align:null},"Not Available")))),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},"Scopes must be an empty array."),Object(r.b)("li",{parentName:"ul"},"PKCE must be disabled (",Object(r.b)("inlineCode",{parentName:"li"},"usePKCE: false"),") otherwise you'll get an error about ",Object(r.b)("inlineCode",{parentName:"li"},"code_challenge")," being included in the query string."),Object(r.b)("li",{parentName:"ul"},"Implicit auth is supported."),Object(r.b)("li",{parentName:"ul"},"When ",Object(r.b)("inlineCode",{parentName:"li"},"responseType: ResponseType.Code")," is used (default behavior) the ",Object(r.b)("inlineCode",{parentName:"li"},"redirectUri")," must be ",Object(r.b)("inlineCode",{parentName:"li"},"https"),". This means that code exchange auth cannot be done on native without ",Object(r.b)("inlineCode",{parentName:"li"},"useProxy")," enabled.")),Object(r.b)(s.b,{tabs:["Auth Code","Implicit Flow"],mdxType:"Tabs"},Object(r.b)(s.a,{mdxType:"Tab"},Object(r.b)("p",null,"Auth code responses (",Object(r.b)("inlineCode",{parentName:"p"},"ResponseType.Code"),") will only work in native with ",Object(r.b)("inlineCode",{parentName:"p"},"useProxy: true"),"."),Object(r.b)("pre",null,Object(r.b)("code",{parentName:"pre",className:"language-tsx"},"import * as React from 'react';\nimport * as WebBrowser from 'expo-web-browser';\nimport { makeRedirectUri, useAuthRequest } from 'expo-auth-session';\nimport { Button, Platform } from 'react-native';\n\n/* @info <strong>Web only:</strong> This method should be invoked on the page that the auth popup gets redirected to on web, it'll ensure that authentication is completed properly. On native this does nothing. */\nWebBrowser.maybeCompleteAuthSession();\n/* @end */\n\n// Endpoint\nconst discovery = {\n  authorizationEndpoint: 'https://www.dropbox.com/oauth2/authorize',\n  tokenEndpoint: 'https://www.dropbox.com/oauth2/token',\n};\n\n/* @info Implicit auth is universal, <code>.Code</code> will only work in native with <code>useProxy: true</code>. */\nconst useProxy = Platform.select({ web: false, default: true });\n/* @end */\n\nexport default function App() {\n  const [request, response, promptAsync] = useAuthRequest(\n    {\n      clientId: 'CLIENT_ID',\n      // There are no scopes so just pass an empty array\n      scopes: [],\n      // Dropbox doesn't support PKCE\n      usePKCE: false,\n      // For usage in managed apps using the proxy\n      redirectUri: makeRedirectUri({\n        /* @info The URI <code>[scheme]://</code> to be used in bare and standalone. If undefined, the <code>scheme</code> property of your app.json or app.config.js will be used instead. */\n        scheme: 'your.app'\n        /* @end */\n        useProxy,\n      }),\n    },\n    discovery\n  );\n\n  React.useEffect(() => {\n    if (response?.type === 'success') {\n      /* @info Exchange the code for an access token in a server. Alternatively you can use the <b>Implicit</b> auth method. */\n      const { code } = response.params;\n      /* @end */\n    }\n  }, [response]);\n\n  return (\n    <Button\n      /* @info Disable the button until the request is loaded asynchronously. */\n      disabled={!request}\n      /* @end */\n      title=\"Login\"\n      onPress={() => {\n        /* @info Prompt the user to authenticate in a user interaction or web browsers will block it. */\n        promptAsync({ useProxy });\n        /* @end */\n      }}\n    />\n  );\n}\n"))),Object(r.b)(s.a,{mdxType:"Tab"},Object(r.b)("pre",null,Object(r.b)("code",{parentName:"pre",className:"language-tsx"},"import * as React from 'react';\nimport * as WebBrowser from 'expo-web-browser';\nimport { makeRedirectUri, ResponseType, useAuthRequest } from 'expo-auth-session';\nimport { Button } from 'react-native';\n\n/* @info <strong>Web only:</strong> This method should be invoked on the page that the auth popup gets redirected to on web, it'll ensure that authentication is completed properly. On native this does nothing. */\nWebBrowser.maybeCompleteAuthSession();\n/* @end */\n\n// Endpoint\nconst discovery = {\n  authorizationEndpoint: 'https://www.dropbox.com/oauth2/authorize',\n  tokenEndpoint: 'https://www.dropbox.com/oauth2/token',\n};\n\nexport default function App() {\n  const [request, response, promptAsync] = useAuthRequest(\n    {\n      /* @info Request that the server returns an <code>access_token</code>, not all providers support this. */\n      responseType: ResponseType.Token,\n      /* @end */\n      clientId: 'CLIENT_ID',\n      // There are no scopes so just pass an empty array\n      scopes: [],\n      // Dropbox doesn't support PKCE\n      usePKCE: false,\n      redirectUri: makeRedirectUri({\n        /* @info The URI <code>[scheme]://</code> to be used in bare and standalone. If undefined, the <code>scheme</code> property of your app.json or app.config.js will be used instead. */\n        scheme: 'your.app'\n        /* @end */\n      }),\n    },\n    discovery\n  );\n\n  React.useEffect(() => {\n    if (response?.type === 'success') {\n      /* @info Use this access token to interact with user data on the provider's server. */\n      const { access_token } = response.params;\n      /* @end */\n    }\n  }, [response]);\n\n  return (\n    <Button\n      /* @info Disable the button until the request is loaded asynchronously. */\n      disabled={!request}\n      /* @end */\n      title=\"Login\"\n      onPress={() => {\n        /* @info Prompt the user to authenticate in a user interaction or web browsers will block it. */\n        promptAsync();\n        /* @end */\n      }}\n    />\n  );\n}\n")))),Object(r.b)("h3",{id:"facebook"},"Facebook"),Object(r.b)(i.a,{name:"Facebook",href:"https://developers.facebook.com/apps/",mdxType:"CreateAppButton"}),Object(r.b)("table",null,Object(r.b)("thead",{parentName:"table"},Object(r.b)("tr",{parentName:"thead"},Object(r.b)("th",{parentName:"tr",align:null},"Website"),Object(r.b)("th",{parentName:"tr",align:null},"Provider"),Object(r.b)("th",{parentName:"tr",align:null},"PKCE"),Object(r.b)("th",{parentName:"tr",align:null},"Auto Discovery"))),Object(r.b)("tbody",{parentName:"table"},Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",{parentName:"tr",align:null},Object(r.b)("a",{parentName:"td",href:"https://developers.facebook.com/"},"More Info")),Object(r.b)("td",{parentName:"tr",align:null},"OAuth"),Object(r.b)("td",{parentName:"tr",align:null},"Supported"),Object(r.b)("td",{parentName:"tr",align:null},"Not Available")))),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},"Learn more about ",Object(r.b)("a",{parentName:"li",href:"https://developers.facebook.com/docs/facebook-login/manually-build-a-login-flow/"},"manually building a login flow"),".")),Object(r.b)("h4",{id:"expo-go"},"Expo Go"),Object(r.b)("p",null,"You must use the proxy service in the Expo Go app because ",Object(r.b)("inlineCode",{parentName:"p"},"exp://")," cannot be added to your Facebook app as a redirect."),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},"Go to: (Sidebar) Products > Facebook Login > Settings > Client OAuth Settings. The URL should be: ",Object(r.b)("inlineCode",{parentName:"li"},"https://developers.facebook.com/apps/<YOUR ID>/fb-login/settings/"))),Object(r.b)("img",{alt:"Facebook Console for URIs",src:"/static/images/sdk/auth-session/guide/facebook-proxy-guide.png"}),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},'Under "Valid OAuth Redirect URIs" add ',Object(r.b)("inlineCode",{parentName:"li"},"https://auth.expo.io/@username/slug")," and any other web URLs you may want to add."),Object(r.b)("li",{parentName:"ul"},'Press "Save Changes" in the footer.'),Object(r.b)("li",{parentName:"ul"},'Copy the "App ID" in the header into your ',Object(r.b)("inlineCode",{parentName:"li"},"expoClientId: '<YOUR FBID>'"),". Ex: ",Object(r.b)("inlineCode",{parentName:"li"},"{ expoClientId: '474614477183384' }")," (no ",Object(r.b)("inlineCode",{parentName:"li"},"fb")," prefix)."),Object(r.b)("li",{parentName:"ul"},"Now you're ready to use the demo component in the Expo Go app on iOS and Android.")),Object(r.b)("blockquote",null,Object(r.b)("p",{parentName:"blockquote"},'\u26a0\ufe0f If you forget to add the correct URL to the "Valid OAuth Redirect URIs", you will get an error like: ',Object(r.b)("inlineCode",{parentName:"p"},"Can't Load URL: The domain of this URL isn't included in the app's domains. To be able to load this URL, add all domains and subdomains of your app to the App Domains field in your app settings."))),Object(r.b)("h4",{id:"custom-apps"},"Custom Apps"),Object(r.b)("p",null,"Consider using the ",Object(r.b)("a",{parentName:"p",href:"/../../../../../../versions/latest/sdk/facebook"},Object(r.b)("inlineCode",{parentName:"a"},"expo-facebook"))," module for native auth as it supports some nonstandard OAuth features implemented by Facebook."),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},"The custom scheme provided by Facebook is ",Object(r.b)("inlineCode",{parentName:"li"},"fb")," followed by the ",Object(r.b)("strong",{parentName:"li"},"project ID")," (ex: ",Object(r.b)("inlineCode",{parentName:"li"},"fb145668956753819"),"):"),Object(r.b)("li",{parentName:"ul"},"Add ",Object(r.b)("inlineCode",{parentName:"li"},"facebookScheme: 'fb<YOUR FBID>'")," to your ",Object(r.b)("strong",{parentName:"li"},"app.config.js")," or ",Object(r.b)("strong",{parentName:"li"},"app.json"),". Example: ",Object(r.b)("inlineCode",{parentName:"li"},'{ facebookScheme: "fb145668956753819" }')," (notice the ",Object(r.b)("inlineCode",{parentName:"li"},"fb")," prefix)."),Object(r.b)("li",{parentName:"ul"},"You'll need to make a new native build to add this redirect URI into your app's ",Object(r.b)("strong",{parentName:"li"},"AndroidManifest.xml")," and ",Object(r.b)("strong",{parentName:"li"},"Info.plist"),":",Object(r.b)("ul",{parentName:"li"},Object(r.b)("li",{parentName:"ul"},"iOS: ",Object(r.b)("inlineCode",{parentName:"li"},"eas build")," or ",Object(r.b)("inlineCode",{parentName:"li"},"expo build:ios"),"."),Object(r.b)("li",{parentName:"ul"},"Android: ",Object(r.b)("inlineCode",{parentName:"li"},"eas build")," or ",Object(r.b)("inlineCode",{parentName:"li"},"expo build:android"),"."))),Object(r.b)("li",{parentName:"ul"},Object(r.b)("strong",{parentName:"li"},"Bare:"),Object(r.b)("ul",{parentName:"li"},Object(r.b)("li",{parentName:"ul"},"Regenerate your native projects with ",Object(r.b)("inlineCode",{parentName:"li"},"expo eject"),", or add the redirects manually with ",Object(r.b)("inlineCode",{parentName:"li"},"npx uri-scheme add fb<YOUR FBID>")),Object(r.b)("li",{parentName:"ul"},"Rebuild the projects with ",Object(r.b)("inlineCode",{parentName:"li"},"yarn ios")," & ",Object(r.b)("inlineCode",{parentName:"li"},"yarn android"))))),Object(r.b)("h4",{id:"native-ios"},"Native iOS"),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},"Go to: (Sidebar) Settings > Basic. The URL should be: ",Object(r.b)("inlineCode",{parentName:"li"},"https://developers.facebook.com/apps/<YOUR ID>/settings/basic/")),Object(r.b)("li",{parentName:"ul"},"Scroll all the way down and click ",Object(r.b)("strong",{parentName:"li"},Object(r.b)("inlineCode",{parentName:"strong"},"+ Add Platform")),", then select ",Object(r.b)("strong",{parentName:"li"},Object(r.b)("inlineCode",{parentName:"strong"},"iOS")),".")),Object(r.b)("img",{alt:"Facebook Console for URIs",src:"/static/images/sdk/auth-session/guide/facebook-ios-guide.png"}),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},"Under iOS > Bundle ID: Add your app's bundle identifier, this should match the value in your ",Object(r.b)("strong",{parentName:"li"},"app.json")," - ",Object(r.b)("inlineCode",{parentName:"li"},"expo.ios.bundleIdentifier"),". If you don't have one set, run ",Object(r.b)("inlineCode",{parentName:"li"},"expo eject")," to create one (then rebuild the native app)."),Object(r.b)("li",{parentName:"ul"},'Press "Save Changes" in the footer.'),Object(r.b)("li",{parentName:"ul"},'Copy the "App ID" in the header into your ',Object(r.b)("inlineCode",{parentName:"li"},"iosClientId: '<YOUR FBID>'")," or ",Object(r.b)("inlineCode",{parentName:"li"},"clientId"),". Ex: ",Object(r.b)("inlineCode",{parentName:"li"},"{ iosClientId: '474614477183384' }")," (no ",Object(r.b)("inlineCode",{parentName:"li"},"fb")," prefix)."),Object(r.b)("li",{parentName:"ul"},"Now you're ready to use the demo component in your native iOS app.")),Object(r.b)("h4",{id:"native-android"},"Native Android"),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},"Go to: (Sidebar) Settings > Basic. The URL should be: ",Object(r.b)("inlineCode",{parentName:"li"},"https://developers.facebook.com/apps/<YOUR ID>/settings/basic/")),Object(r.b)("li",{parentName:"ul"},"Scroll all the way down and click ",Object(r.b)("strong",{parentName:"li"},Object(r.b)("inlineCode",{parentName:"strong"},"+ Add Platform")),", then select ",Object(r.b)("strong",{parentName:"li"},Object(r.b)("inlineCode",{parentName:"strong"},"Android")),".")),Object(r.b)("img",{alt:"Facebook Console for URIs",src:"/static/images/sdk/auth-session/guide/facebook-android-guide.png"}),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},"Under Android > Google Play Package Name: Add your app's android package, this should match the value in your ",Object(r.b)("strong",{parentName:"li"},"app.json")," - ",Object(r.b)("inlineCode",{parentName:"li"},"expo.android.package"),". If you don't have one set, run ",Object(r.b)("inlineCode",{parentName:"li"},"expo eject")," to create one (then rebuild the native app)."),Object(r.b)("li",{parentName:"ul"},"Under Android > Class Name: This should match the package name + ",Object(r.b)("inlineCode",{parentName:"li"},".MainActivity"),", i.e. ",Object(r.b)("inlineCode",{parentName:"li"},"com.bacon.yolo15.MainActivity"),"."),Object(r.b)("li",{parentName:"ul"},"Under Android > Key Hashes: You'll need to create two different values, one for Debug and one for Release. Learn how to create the ",Object(r.b)("a",{parentName:"li",href:"https://stackoverflow.com/questions/4388992/key-hash-for-android-facebook-app"},"Key Hash here"),".",Object(r.b)("ul",{parentName:"li"},Object(r.b)("li",{parentName:"ul"},"In your app root, run: ",Object(r.b)("inlineCode",{parentName:"li"},"keytool -exportcert -alias androiddebugkey -keystore android/app/debug.keystore | openssl sha1 -binary | openssl base64")," you don't need a password, but it is recommended."),Object(r.b)("li",{parentName:"ul"},"Copy the value formatted like ",Object(r.b)("inlineCode",{parentName:"li"},"XX2BBI1XXXXXXXX3XXXX44XX5XX=")," into the console."))),Object(r.b)("li",{parentName:"ul"},'Press "Save Changes" in the footer.',Object(r.b)("ul",{parentName:"li"},Object(r.b)("li",{parentName:"ul"},'If you get a popup for the package name select "Use this package name".'))),Object(r.b)("li",{parentName:"ul"},'Copy the "App ID" in the header into your ',Object(r.b)("inlineCode",{parentName:"li"},"androidClientId: '<YOUR FBID>'")," or ",Object(r.b)("inlineCode",{parentName:"li"},"clientId"),". Ex: ",Object(r.b)("inlineCode",{parentName:"li"},"{ androidClientId: '474614477183384' }")," (no ",Object(r.b)("inlineCode",{parentName:"li"},"fb")," prefix)."),Object(r.b)("li",{parentName:"ul"},"Now you're ready to use the demo component in your native Android app.")),Object(r.b)("p",null,"If the App crashes upon authentication, then run ",Object(r.b)("inlineCode",{parentName:"p"},"adb logcat")," and look for any runtime Errors."),Object(r.b)("p",null,"If the Android app crashes with ",Object(r.b)("inlineCode",{parentName:"p"},'Didn\'t find class "com.facebook.CustomTabActivity" on ...')," then you may need to remove the native Facebook code for ",Object(r.b)("inlineCode",{parentName:"p"},"expo-facebook")," from the ",Object(r.b)("strong",{parentName:"p"},"AndroidManifest.xml"),":"),Object(r.b)("pre",null,Object(r.b)("code",{parentName:"pre",className:"language-diff"},'-    <activity android:name="com.facebook.CustomTabActivity" android:exported="true">\n-      <intent-filter>\n-        <action android:name="android.intent.action.VIEW"/>\n-        <category android:name="android.intent.category.DEFAULT"/>\n-        <category android:name="android.intent.category.BROWSABLE"/>\n-        <data android:scheme="fb<YOUR ID>"/>\n-      </intent-filter>\n-    </activity>\n')),Object(r.b)("p",null,"Then add ",Object(r.b)("inlineCode",{parentName:"p"},'<data android:scheme="fb<YOUR ID>"/>')," to the ",Object(r.b)("inlineCode",{parentName:"p"},".MainActivity")," ",Object(r.b)("inlineCode",{parentName:"p"},"intent-filter")," or use ",Object(r.b)("inlineCode",{parentName:"p"},"npx uri-scheme add fb<YOUR ID> --android"),"."),Object(r.b)("h4",{id:"troubleshooting-native"},"Troubleshooting native"),Object(r.b)("blockquote",null,Object(r.b)("p",{parentName:"blockquote"},"\u26a0\ufe0f The ",Object(r.b)("inlineCode",{parentName:"p"},"native")," redirect URI ",Object(r.b)("strong",{parentName:"p"},"must")," be formatted like ",Object(r.b)("inlineCode",{parentName:"p"},"fb<YOUR FBID>://authorize"),", ex: ",Object(r.b)("inlineCode",{parentName:"p"},"fb474614477183384://authorize"),". Using the ",Object(r.b)("inlineCode",{parentName:"p"},"Facebook")," provider will do this automatically.")),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},"If the protocol/suffix is not your FBID then you will get an error like: ",Object(r.b)("inlineCode",{parentName:"li"},"No redirect URI in the params: No redirect present in URI"),"."),Object(r.b)("li",{parentName:"ul"},"If the path is not ",Object(r.b)("inlineCode",{parentName:"li"},"://authorize")," then you will get an error like: ",Object(r.b)("inlineCode",{parentName:"li"},"Can't Load URL: The domain of this URL isn't included in the app's domains. To be able to load this URL, add all domains and subdomains of your app to the App Domains field in your app settings."))),Object(r.b)("h4",{id:"websites"},"Websites"),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},"Go to: (Sidebar) Products > Facebook Login > Settings > Client OAuth Settings. The URL should be: ",Object(r.b)("inlineCode",{parentName:"li"},"https://developers.facebook.com/apps/<YOUR ID>/fb-login/settings/"))),Object(r.b)("img",{alt:"Facebook Console for URIs",src:"/static/images/sdk/auth-session/guide/facebook-web-dev-guide.png"}),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},'Under "Valid OAuth Redirect URIs" add ',Object(r.b)("inlineCode",{parentName:"li"},"https://localhost:19006")," and any other web URLs you may want to add."),Object(r.b)("li",{parentName:"ul"},'Press "Save Changes" in the footer.'),Object(r.b)("li",{parentName:"ul"},'Copy the "App ID" in the header into your ',Object(r.b)("inlineCode",{parentName:"li"},"webClientId: '<YOUR FBID>'"),". Ex: ",Object(r.b)("inlineCode",{parentName:"li"},"{ webClientId: '474614477183384' }")," (no ",Object(r.b)("inlineCode",{parentName:"li"},"fb")," prefix)."),Object(r.b)("li",{parentName:"ul"},"Now start the dev server with ",Object(r.b)("inlineCode",{parentName:"li"},"expo start --https"),", ensure this is the only server running, otherwise the port will not be ",Object(r.b)("inlineCode",{parentName:"li"},"19006"),".")),Object(r.b)(s.b,{tabs:["Auth Code","Implicit Flow","Firebase"],mdxType:"Tabs"},Object(r.b)(s.a,{mdxType:"Tab"},Object(r.b)("pre",null,Object(r.b)("code",{parentName:"pre",className:"language-tsx"},"import * as React from 'react';\nimport * as WebBrowser from 'expo-web-browser';\nimport * as Facebook from 'expo-auth-session/providers/facebook';\nimport { ResponseType } from 'expo-auth-session';\nimport { Button } from 'react-native';\n\n/* @info <strong>Web only:</strong> This method should be invoked on the page that the auth popup gets redirected to on web, it'll ensure that authentication is completed properly. On native this does nothing. */\nWebBrowser.maybeCompleteAuthSession();\n/* @end */\n\nexport default function App() {\n  const [request, response, promptAsync] = Facebook.useAuthRequest({\n    clientId: '<YOUR FBID>',\n    /* @info Request that the server returns a <code>code</code> for server exchanges. */\n    responseType: ResponseType.Code,\n  /* @end */});\n\n  React.useEffect(() => {\n    if (response?.type === 'success') {\n      /* @info Exchange the code for an access token in a server. Alternatively you can use the <b>Implicit</b> auth method. */\n      const { code } = response.params;\n    /* @end */}\n  }, [response]);\n\n  return (\n    <Button\n      /* @info Disable the button until the request is loaded asynchronously. */\n      disabled={!request}\n      /* @end */\n      title=\"Login\"\n      onPress={() => {\n        /* @info Prompt the user to authenticate in a user interaction or web browsers will block it. */\n        promptAsync();\n      /* @end */}}\n    />\n  );\n}\n"))),Object(r.b)(s.a,{mdxType:"Tab"},Object(r.b)("pre",null,Object(r.b)("code",{parentName:"pre",className:"language-tsx"},"import * as React from 'react';\nimport * as WebBrowser from 'expo-web-browser';\nimport * as Facebook from 'expo-auth-session/providers/facebook';\nimport { Button } from 'react-native';\n\n/* @info <strong>Web only:</strong> This method should be invoked on the page that the auth popup gets redirected to on web, it'll ensure that authentication is completed properly. On native this does nothing. */\nWebBrowser.maybeCompleteAuthSession();\n/* @end */\n\nexport default function App() {\n  const [request, response, promptAsync] = Facebook.useAuthRequest({\n    clientId: '<YOUR FBID>',\n  });\n\n  React.useEffect(() => {\n    if (response?.type === 'success') {\n      /* @info A <code>TokenResponse</code> object with authentication data like accessToken. */\n      const { authentication } = response;\n      /* @end */\n    }\n  }, [response]);\n\n  return (\n    <Button\n      /* @info Disable the button until the request is loaded asynchronously. */\n      disabled={!request}\n      /* @end */\n      title=\"Login\"\n      onPress={() => {\n        /* @info Prompt the user to authenticate in a user interaction or web browsers will block it. */\n        promptAsync();\n      /* @end */}}\n    />\n  );\n}\n"))),Object(r.b)(s.a,{mdxType:"Tab"},Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},"Be sure to setup Facebook auth as described above, this is basically identical."),Object(r.b)("li",{parentName:"ul"},"\ud83d\udd25 Create a new Firebase project"),Object(r.b)("li",{parentName:"ul"},"Enable Facebook auth, save the project.")),Object(r.b)("pre",null,Object(r.b)("code",{parentName:"pre",className:"language-tsx"},"import * as React from 'react';\nimport * as WebBrowser from 'expo-web-browser';\nimport * as Facebook from 'expo-auth-session/providers/facebook';\nimport { ResponseType } from 'expo-auth-session';\nimport { initializeApp } from 'firebase/app';\nimport { getAuth, FacebookAuthProvider, signInWithCredential } from 'firebase/auth';\nimport { Button } from 'react-native';\n\n// Initialize Firebase\ninitializeApp({\n  /* Config */\n});\n\n/* @info <strong>Web only:</strong> This method should be invoked on the page that the auth popup gets redirected to on web, it'll ensure that authentication is completed properly. On native this does nothing. */\nWebBrowser.maybeCompleteAuthSession();\n/* @end */\n\nexport default function App() {\n  const [request, response, promptAsync] = Facebook.useAuthRequest({\n    /* @info Request that the server returns an <code>access_token</code>, not all providers support this. */\n    responseType: ResponseType.Token,\n    /* @end */\n    clientId: '<YOUR FBID>',\n  });\n\n  React.useEffect(() => {\n    if (response?.type === 'success') {\n      /* @info Use this access token to interact with user data on the provider's server. */\n      const { access_token } = response.params;\n      /* @end */\n\n      /* @info Create a Facebook credential with the <code>access_token</code> */\n      const auth = getAuth();\n      const provider = new FacebookAuthProvider();\n      const credential = provider.credential(access_token);\n      /* @end */\n      // Sign in with the credential from the Facebook user.\n      signInWithCredential(auth, credential);\n    }\n  }, [response]);\n\n  return (\n    <Button\n      /* @info Disable the button until the request is loaded asynchronously. */\n      disabled={!request}\n      /* @end */\n      title=\"Login\"\n      onPress={() => {\n        /* @info Prompt the user to authenticate in a user interaction or web browsers will block it. */\n        promptAsync();\n      /* @end */}}\n    />\n  );\n}\n")))),Object(r.b)("h3",{id:"fitbit"},"FitBit"),Object(r.b)(i.a,{name:"FitBit",href:"https://dev.fitbit.com/apps/new",mdxType:"CreateAppButton"}),Object(r.b)("table",null,Object(r.b)("thead",{parentName:"table"},Object(r.b)("tr",{parentName:"thead"},Object(r.b)("th",{parentName:"tr",align:null},"Website"),Object(r.b)("th",{parentName:"tr",align:null},"Provider"),Object(r.b)("th",{parentName:"tr",align:null},"PKCE"),Object(r.b)("th",{parentName:"tr",align:null},"Auto Discovery"))),Object(r.b)("tbody",{parentName:"table"},Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",{parentName:"tr",align:null},Object(r.b)("a",{parentName:"td",href:"https://dev.fitbit.com/apps/new"},"Get Your Config")),Object(r.b)("td",{parentName:"tr",align:null},"OAuth 2.0"),Object(r.b)("td",{parentName:"tr",align:null},"Supported"),Object(r.b)("td",{parentName:"tr",align:null},"Not Available")))),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},"Provider only allows one redirect URI per app. You'll need an individual app for every method you want to use:",Object(r.b)("ul",{parentName:"li"},Object(r.b)("li",{parentName:"ul"},"Expo Go: ",Object(r.b)("inlineCode",{parentName:"li"},"exp://localhost:19000/--/*")),Object(r.b)("li",{parentName:"ul"},"Expo Go + Proxy: ",Object(r.b)("inlineCode",{parentName:"li"},"https://auth.expo.io/@you/your-app")),Object(r.b)("li",{parentName:"ul"},"Standalone or Bare: ",Object(r.b)("inlineCode",{parentName:"li"},"com.your.app://*")),Object(r.b)("li",{parentName:"ul"},"Web: ",Object(r.b)("inlineCode",{parentName:"li"},"https://yourwebsite.com/*")))),Object(r.b)("li",{parentName:"ul"},"The ",Object(r.b)("inlineCode",{parentName:"li"},"redirectUri")," requires 2 slashes (",Object(r.b)("inlineCode",{parentName:"li"},"://"),").")),Object(r.b)(s.b,{tabs:["Auth Code","Implicit Flow"],mdxType:"Tabs"},Object(r.b)(s.a,{mdxType:"Tab"},Object(r.b)("pre",null,Object(r.b)("code",{parentName:"pre",className:"language-tsx"},"import * as React from 'react';\nimport * as WebBrowser from 'expo-web-browser';\nimport { makeRedirectUri, useAuthRequest } from 'expo-auth-session';\nimport { Button, Platform } from 'react-native';\n\n/* @info <strong>Web only:</strong> This method should be invoked on the page that the auth popup gets redirected to on web, it'll ensure that authentication is completed properly. On native this does nothing. */\nWebBrowser.maybeCompleteAuthSession();\n/* @end */\n\n// Endpoint\nconst discovery = {\n  authorizationEndpoint: 'https://www.fitbit.com/oauth2/authorize',\n  tokenEndpoint: 'https://api.fitbit.com/oauth2/token',\n  revocationEndpoint: 'https://api.fitbit.com/oauth2/revoke',\n};\n\nexport default function App() {\n  const [request, response, promptAsync] = useAuthRequest(\n    {\n      clientId: 'CLIENT_ID',\n      scopes: ['activity', 'sleep'],\n      redirectUri: makeRedirectUri({\n        /* @info The URI <code>[scheme]://</code> to be used in bare and standalone. If undefined, the <code>scheme</code> property of your app.json or app.config.js will be used instead. */\n        scheme: 'your.app'\n        /* @end */\n      }),\n    },\n    discovery\n  );\n\n  React.useEffect(() => {\n    if (response?.type === 'success') {\n      /* @info Exchange the code for an access token in a server. Alternatively you can use the <b>Implicit</b> auth method. */\n      const { code } = response.params;\n      /* @end */\n    }\n  }, [response]);\n\n  return (\n    <Button\n      /* @info Disable the button until the request is loaded asynchronously. */\n      disabled={!request}\n      /* @end */\n      title=\"Login\"\n      onPress={() => {\n        /* @info Prompt the user to authenticate in a user interaction or web browsers will block it. */\n        promptAsync();\n        /* @end */\n      }}\n    />\n  );\n}\n"))),Object(r.b)(s.a,{mdxType:"Tab"},Object(r.b)("pre",null,Object(r.b)("code",{parentName:"pre",className:"language-tsx"},"import * as React from 'react';\nimport * as WebBrowser from 'expo-web-browser';\nimport { makeRedirectUri, ResponseType, useAuthRequest } from 'expo-auth-session';\nimport { Button, Platform } from 'react-native';\n\n/* @info <strong>Web only:</strong> This method should be invoked on the page that the auth popup gets redirected to on web, it'll ensure that authentication is completed properly. On native this does nothing. */\nWebBrowser.maybeCompleteAuthSession();\n/* @end */\n\nconst useProxy = Platform.select({ web: false, default: true });\n\n// Endpoint\nconst discovery = {\n  authorizationEndpoint: 'https://www.fitbit.com/oauth2/authorize',\n  tokenEndpoint: 'https://api.fitbit.com/oauth2/token',\n  revocationEndpoint: 'https://api.fitbit.com/oauth2/revoke',\n};\n\nexport default function App() {\n  const [request, response, promptAsync] = useAuthRequest(\n    {\n      /* @info Request that the server returns an <code>access_token</code>, not all providers support this. */\n      responseType: ResponseType.Token,\n      /* @end */\n      clientId: 'CLIENT_ID',\n      scopes: ['activity', 'sleep'],\n      // For usage in managed apps using the proxy\n      redirectUri: makeRedirectUri({\n        useProxy,\n        /* @info The URI <code>[scheme]://</code> to be used in bare and standalone. If undefined, the <code>scheme</code> property of your app.json or app.config.js will be used instead. */\n        scheme: 'your.app'\n        /* @end */\n      }),\n    },\n    discovery\n  );\n\n  React.useEffect(() => {\n    if (response?.type === 'success') {\n      /* @info Use this access token to interact with user data on the provider's server. */\n      const { access_token } = response.params;\n      /* @end */\n    }\n  }, [response]);\n\n  return (\n    <Button\n      /* @info Disable the button until the request is loaded asynchronously. */\n      disabled={!request}\n      /* @end */\n      title=\"Login\"\n      onPress={() => {\n        /* @info Prompt the user to authenticate in a user interaction or web browsers will block it. */\n        promptAsync({ useProxy });\n        /* @end */\n      }}\n    />\n  );\n}\n")))),Object(r.b)("h3",{id:"github"},"GitHub"),Object(r.b)(i.a,{name:"GitHub",href:"https://github.com/settings/developers",mdxType:"CreateAppButton"}),Object(r.b)("table",null,Object(r.b)("thead",{parentName:"table"},Object(r.b)("tr",{parentName:"thead"},Object(r.b)("th",{parentName:"tr",align:null},"Website"),Object(r.b)("th",{parentName:"tr",align:null},"Provider"),Object(r.b)("th",{parentName:"tr",align:null},"PKCE"),Object(r.b)("th",{parentName:"tr",align:null},"Auto Discovery"))),Object(r.b)("tbody",{parentName:"table"},Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",{parentName:"tr",align:null},Object(r.b)("a",{parentName:"td",href:"https://github.com/settings/developers"},"Get Your Config")),Object(r.b)("td",{parentName:"tr",align:null},"OAuth 2.0"),Object(r.b)("td",{parentName:"tr",align:null},"Supported"),Object(r.b)("td",{parentName:"tr",align:null},"Not Available")))),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},"Provider only allows one redirect URI per app. You'll need an individual app for every method you want to use:",Object(r.b)("ul",{parentName:"li"},Object(r.b)("li",{parentName:"ul"},"Expo Go: ",Object(r.b)("inlineCode",{parentName:"li"},"exp://localhost:19000/--/*")),Object(r.b)("li",{parentName:"ul"},"Expo Go + Proxy: ",Object(r.b)("inlineCode",{parentName:"li"},"https://auth.expo.io/@you/your-app")),Object(r.b)("li",{parentName:"ul"},"Standalone or Bare: ",Object(r.b)("inlineCode",{parentName:"li"},"com.your.app://*")),Object(r.b)("li",{parentName:"ul"},"Web: ",Object(r.b)("inlineCode",{parentName:"li"},"https://yourwebsite.com/*")))),Object(r.b)("li",{parentName:"ul"},"The ",Object(r.b)("inlineCode",{parentName:"li"},"redirectUri")," requires 2 slashes (",Object(r.b)("inlineCode",{parentName:"li"},"://"),")."),Object(r.b)("li",{parentName:"ul"},Object(r.b)("inlineCode",{parentName:"li"},"revocationEndpoint")," is dynamic and requires your ",Object(r.b)("inlineCode",{parentName:"li"},"config.clientId"),".")),Object(r.b)(s.b,{tabs:["Auth Code","Implicit Flow"],mdxType:"Tabs"},Object(r.b)(s.a,{mdxType:"Tab"},Object(r.b)("pre",null,Object(r.b)("code",{parentName:"pre",className:"language-tsx"},"import * as React from 'react';\nimport * as WebBrowser from 'expo-web-browser';\nimport { makeRedirectUri, useAuthRequest } from 'expo-auth-session';\nimport { Button } from 'react-native';\n\n/* @info <strong>Web only:</strong> This method should be invoked on the page that the auth popup gets redirected to on web, it'll ensure that authentication is completed properly. On native this does nothing. */\nWebBrowser.maybeCompleteAuthSession();\n/* @end */\n\n// Endpoint\nconst discovery = {\n  authorizationEndpoint: 'https://github.com/login/oauth/authorize',\n  tokenEndpoint: 'https://github.com/login/oauth/access_token',\n  revocationEndpoint: 'https://github.com/settings/connections/applications/<CLIENT_ID>',\n};\n\nexport default function App() {\n  const [request, response, promptAsync] = useAuthRequest(\n    {\n      clientId: 'CLIENT_ID',\n      scopes: ['identity'],\n      redirectUri: makeRedirectUri({\n        /* @info The URI <code>[scheme]://</code> to be used in bare and standalone. If undefined, the <code>scheme</code> property of your app.json or app.config.js will be used instead. */\n        scheme: 'your.app'\n        /* @end */\n      }),\n    },\n    discovery\n  );\n\n  React.useEffect(() => {\n    if (response?.type === 'success') {\n      /* @info Exchange the code for an access token in a server. Alternatively you can use the <b>Implicit</b> auth method. */\n      const { code } = response.params;\n      /* @end */\n    }\n  }, [response]);\n\n  return (\n    <Button\n      /* @info Disable the button until the request is loaded asynchronously. */\n      disabled={!request}\n      /* @end */\n      title=\"Login\"\n      onPress={() => {\n        /* @info Prompt the user to authenticate in a user interaction or web browsers will block it. */\n        promptAsync();\n        /* @end */\n      }}\n    />\n  );\n}\n"))),Object(r.b)(s.a,{mdxType:"Tab"},Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},"Implicit grant is ",Object(r.b)("a",{parentName:"li",href:"https://developer.github.com/apps/building-oauth-apps/authorizing-oauth-apps/"},"not supported for GitHub"),".")))),Object(r.b)("h3",{id:"google"},"Google"),Object(r.b)(i.a,{name:"Google",href:"https://console.developers.google.com/apis/credentials",mdxType:"CreateAppButton"}),Object(r.b)("table",null,Object(r.b)("thead",{parentName:"table"},Object(r.b)("tr",{parentName:"thead"},Object(r.b)("th",{parentName:"tr",align:null},"Website"),Object(r.b)("th",{parentName:"tr",align:null},"Provider"),Object(r.b)("th",{parentName:"tr",align:null},"PKCE"),Object(r.b)("th",{parentName:"tr",align:null},"Auto Discovery"))),Object(r.b)("tbody",{parentName:"table"},Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",{parentName:"tr",align:null},Object(r.b)("a",{parentName:"td",href:"https://console.developers.google.com/apis/credentials"},"Get Your Config")),Object(r.b)("td",{parentName:"tr",align:null},"OpenID"),Object(r.b)("td",{parentName:"tr",align:null},"Supported"),Object(r.b)("td",{parentName:"tr",align:null},"Available")))),Object(r.b)("blockquote",null,Object(r.b)("p",{parentName:"blockquote"},"Be sure to install the peerDependency ",Object(r.b)("inlineCode",{parentName:"p"},"yarn add expo-application"))),Object(r.b)("p",null,"There are 4 different types of client IDs you can provide:"),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},Object(r.b)("inlineCode",{parentName:"li"},"expoClientId"),": Proxy client ID for use in the ",Object(r.b)("strong",{parentName:"li"},"Expo Go")," on iOS and Android."),Object(r.b)("li",{parentName:"ul"},Object(r.b)("inlineCode",{parentName:"li"},"iosClientId"),": iOS native client ID for use in standalone and bare workflow."),Object(r.b)("li",{parentName:"ul"},Object(r.b)("inlineCode",{parentName:"li"},"androidClientId"),": Android native client ID for use in standalone, bare workflow."),Object(r.b)("li",{parentName:"ul"},Object(r.b)("inlineCode",{parentName:"li"},"webClientId"),": Expo web client ID for use in the browser.")),Object(r.b)("p",null,"To create a client ID, go to the ",Object(r.b)("a",{parentName:"p",href:"https://console.developers.google.com/apis/credentials"},"Credentials Page"),":"),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},"Create an app for your project if you haven't already."),Object(r.b)("li",{parentName:"ul"},'Once that\'s done, click "Create Credentials" and then "OAuth client ID." You will be prompted to set the product name on the consent screen, go ahead and do that.')),Object(r.b)("h4",{id:"development-in-the-expo-go-app"},"Development in the Expo Go app"),Object(r.b)("p",null,"While developing in Expo Go, you cannot use proper native authentication. Instead you must use web login during development. Be sure to follow the ",Object(r.b)("strong",{parentName:"p"},"standalone")," guide below for setting up production apps."),Object(r.b)("p",null,"First, be sure to login to your Expo account ",Object(r.b)("inlineCode",{parentName:"p"},"expo login"),". This will be part of the redirect URL."),Object(r.b)("p",null,Object(r.b)("a",{parentName:"p",href:"https://console.developers.google.com/apis/credentials"},"Create a new Google Client ID")," that will be used with ",Object(r.b)("inlineCode",{parentName:"p"},"expoClientId"),"."),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},Object(r.b)("strong",{parentName:"li"},"Application Type"),": Web Application"),Object(r.b)("li",{parentName:"ul"},'Give it a name (e.g. "Expo Go Proxy").'),Object(r.b)("li",{parentName:"ul"},Object(r.b)("strong",{parentName:"li"},"URIs")," (Authorized JavaScript origins): ",Object(r.b)("a",{parentName:"li",href:"https://auth.expo.io"},"https://auth.expo.io")),Object(r.b)("li",{parentName:"ul"},Object(r.b)("strong",{parentName:"li"},"Authorized redirect URIs"),": ",Object(r.b)("a",{parentName:"li",href:"https://auth.expo.io/@your-username/your-project-slug"},"https://auth.expo.io/@your-username/your-project-slug"))),Object(r.b)("h4",{id:"ios-native"},"iOS Native"),Object(r.b)("p",null,"This can only be used in standalone and bare workflow apps. This method cannot be used in the Expo Go app."),Object(r.b)("p",null,Object(r.b)("a",{parentName:"p",href:"https://console.developers.google.com/apis/credentials"},"Create a new Google Client ID")," that will be used with ",Object(r.b)("inlineCode",{parentName:"p"},"iosClientId"),"."),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},Object(r.b)("strong",{parentName:"li"},"Application Type"),": iOS Application"),Object(r.b)("li",{parentName:"ul"},'Give it a name (e.g. "iOS App").'),Object(r.b)("li",{parentName:"ul"},Object(r.b)("strong",{parentName:"li"},"Bundle ID"),": Must match the value of ",Object(r.b)("inlineCode",{parentName:"li"},"ios.bundleIdentifier")," in your ",Object(r.b)("strong",{parentName:"li"},"app.json"),"."),Object(r.b)("li",{parentName:"ul"},"Your app needs to conform to the URI scheme matching your bundle identifier.",Object(r.b)("ul",{parentName:"li"},Object(r.b)("li",{parentName:"ul"},Object(r.b)("em",{parentName:"li"},"Standalone"),": Automatically added, do nothing."),Object(r.b)("li",{parentName:"ul"},Object(r.b)("em",{parentName:"li"},"Bare workflow"),": Run ",Object(r.b)("inlineCode",{parentName:"li"},"npx uri-scheme add <your bundle id> --ios")))),Object(r.b)("li",{parentName:"ul"},"To test this you can:",Object(r.b)("ol",{parentName:"li"},Object(r.b)("li",{parentName:"ol"},"Eject to bare: ",Object(r.b)("inlineCode",{parentName:"li"},"expo eject")," and run ",Object(r.b)("inlineCode",{parentName:"li"},"yarn ios")),Object(r.b)("li",{parentName:"ol"},"Build a simulator app: ",Object(r.b)("inlineCode",{parentName:"li"},"expo build:ios -t simulator")," on ",Object(r.b)("inlineCode",{parentName:"li"},"eas build")),Object(r.b)("li",{parentName:"ol"},"Build a production IPA: ",Object(r.b)("inlineCode",{parentName:"li"},"expo build:ios")," or ",Object(r.b)("inlineCode",{parentName:"li"},"eas build")))),Object(r.b)("li",{parentName:"ul"},"Whenever you change the values in ",Object(r.b)("strong",{parentName:"li"},"app.json")," you'll need to rebuild the native app.")),Object(r.b)("p",null,Object(r.b)("strong",{parentName:"p"},"Troubleshooting")),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},"If you get ",Object(r.b)("inlineCode",{parentName:"li"},"Error 401: invalid_client")," ",Object(r.b)("inlineCode",{parentName:"li"},"The OAuth client was not found"),": Ensure the clientId is defined correctly in your React code. Either as ",Object(r.b)("inlineCode",{parentName:"li"},"11111111-abcdefghijklmnopqrstuvwxyz.apps.googleusercontent.com")," or without the ",Object(r.b)("inlineCode",{parentName:"li"},".apps.googleusercontent.com")," extension.")),Object(r.b)("h4",{id:"android-native"},"Android Native"),Object(r.b)("p",null,"This can only be used in Standalone, and bare workflow apps. This method cannot be used in the Expo Go app."),Object(r.b)("p",null,Object(r.b)("a",{parentName:"p",href:"https://console.developers.google.com/apis/credentials"},"Create a new Google Client ID")," that will be used with ",Object(r.b)("inlineCode",{parentName:"p"},"androidClientId"),"."),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},Object(r.b)("strong",{parentName:"li"},"Application Type"),": Android Application"),Object(r.b)("li",{parentName:"ul"},'Give it a name (e.g. "Android App").'),Object(r.b)("li",{parentName:"ul"},Object(r.b)("strong",{parentName:"li"},"Package name"),": Must match the value of ",Object(r.b)("inlineCode",{parentName:"li"},"android.package")," in your ",Object(r.b)("strong",{parentName:"li"},"app.json"),"."),Object(r.b)("li",{parentName:"ul"},"Your app needs to conform to the URI scheme matching your ",Object(r.b)("inlineCode",{parentName:"li"},"android.package")," (ex. ",Object(r.b)("inlineCode",{parentName:"li"},"com.myname.mycoolapp:/"),").",Object(r.b)("ul",{parentName:"li"},Object(r.b)("li",{parentName:"ul"},Object(r.b)("em",{parentName:"li"},"Standalone"),": Automatically added, do nothing."),Object(r.b)("li",{parentName:"ul"},Object(r.b)("em",{parentName:"li"},"Bare workflow"),": Run ",Object(r.b)("inlineCode",{parentName:"li"},"npx uri-scheme add <your android.package> --android")))),Object(r.b)("li",{parentName:"ul"},Object(r.b)("strong",{parentName:"li"},"Signing-certificate fingerprint"),":",Object(r.b)("ul",{parentName:"li"},Object(r.b)("li",{parentName:"ul"},"Run ",Object(r.b)("inlineCode",{parentName:"li"},"expo credentials:manager -p android"),' then select "Update upload Keystore" -> "Generate new keystore" -> "Go back to experience overview"'),Object(r.b)("li",{parentName:"ul"},'Copy your "Google Certificate Fingerprint", it will output a string that looks like ',Object(r.b)("inlineCode",{parentName:"li"},"A1:B2:C3")," but longer."))),Object(r.b)("li",{parentName:"ul"},"To test this you can:",Object(r.b)("ol",{parentName:"li"},Object(r.b)("li",{parentName:"ol"},"Eject to bare: ",Object(r.b)("inlineCode",{parentName:"li"},"expo eject")," and run ",Object(r.b)("inlineCode",{parentName:"li"},"yarn android")),Object(r.b)("li",{parentName:"ol"},"Build a production APK: ",Object(r.b)("inlineCode",{parentName:"li"},"expo build:android")))),Object(r.b)("li",{parentName:"ul"},"Whenever you change the values in ",Object(r.b)("strong",{parentName:"li"},"app.json")," you'll need to rebuild the native app.")),Object(r.b)("h4",{id:"web-apps"},"Web Apps"),Object(r.b)("p",null,"Expo web client ID for use in the browser."),Object(r.b)("p",null,Object(r.b)("a",{parentName:"p",href:"https://console.developers.google.com/apis/credentials"},"Create a new Google Client ID")," that will be used with ",Object(r.b)("inlineCode",{parentName:"p"},"webClientId"),"."),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},Object(r.b)("strong",{parentName:"li"},"Application Type"),": Web Application"),Object(r.b)("li",{parentName:"ul"},'Give it a name (e.g. "Web App").'),Object(r.b)("li",{parentName:"ul"},Object(r.b)("strong",{parentName:"li"},"URIs")," (Authorized JavaScript origins): https://localhost:19006 & ",Object(r.b)("a",{parentName:"li",href:"https://yourwebsite.com"},"https://yourwebsite.com")),Object(r.b)("li",{parentName:"ul"},Object(r.b)("strong",{parentName:"li"},"Authorized redirect URIs"),": https://localhost:19006 & ",Object(r.b)("a",{parentName:"li",href:"https://yourwebsite.com"},"https://yourwebsite.com")),Object(r.b)("li",{parentName:"ul"},"To test this be sure to start your app with ",Object(r.b)("inlineCode",{parentName:"li"},"expo start:web --https"),".")),Object(r.b)(s.b,{tabs:["Standard","Firebase"],mdxType:"Tabs"},Object(r.b)(s.a,{mdxType:"Tab"},Object(r.b)("pre",null,Object(r.b)("code",{parentName:"pre",className:"language-tsx"},"import * as React from 'react';\nimport * as WebBrowser from 'expo-web-browser';\nimport * as Google from 'expo-auth-session/providers/google';\nimport { Button } from 'react-native';\n\n/* @info <strong>Web only:</strong> This method should be invoked on the page that the auth popup gets redirected to on web, it'll ensure that authentication is completed properly. On native this does nothing. */\nWebBrowser.maybeCompleteAuthSession();\n/* @end */\n\nexport default function App() {\n  const [request, response, promptAsync] = Google.useAuthRequest({\n    expoClientId: 'GOOGLE_GUID.apps.googleusercontent.com',\n    iosClientId: 'GOOGLE_GUID.apps.googleusercontent.com',\n    androidClientId: 'GOOGLE_GUID.apps.googleusercontent.com',\n    webClientId: 'GOOGLE_GUID.apps.googleusercontent.com',\n  });\n\n  React.useEffect(() => {\n    if (response?.type === 'success') {\n      /* @info A <code>TokenResponse</code> object with authentication data like accessToken. */\n      const { authentication } = response;\n      /* @end */\n    }\n  }, [response]);\n\n  return (\n    <Button\n      /* @info Disable the button until the request is loaded asynchronously. */\n      disabled={!request}\n      /* @end */\n      title=\"Login\"\n      onPress={() => {\n        /* @info Prompt the user to authenticate in a user interaction or web browsers will block it. */\n        promptAsync();\n        /* @end */\n      }}\n    />\n  );\n}\n"))),Object(r.b)(s.a,{mdxType:"Tab"},Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},"\ud83d\udd25 Create a new Firebase project"),Object(r.b)("li",{parentName:"ul"},"Enable Google auth",Object(r.b)("ul",{parentName:"li"},Object(r.b)("li",{parentName:"ul"},'Open "Web SDK configuration"'),Object(r.b)("li",{parentName:"ul"},'Save "Web client ID" you\'ll need it later'),Object(r.b)("li",{parentName:"ul"},"Press Save"))),Object(r.b)("li",{parentName:"ul"},"Replace ",Object(r.b)("inlineCode",{parentName:"li"},"YOUR_GUID"),' with your "Web client ID" and open this link:',Object(r.b)("ul",{parentName:"li"},Object(r.b)("li",{parentName:"ul"},Object(r.b)("a",{parentName:"li",href:"https://console.developers.google.com/apis/credentials/oauthclient/YOUR_GUID"},"https://console.developers.google.com/apis/credentials/oauthclient/YOUR_GUID")))),Object(r.b)("li",{parentName:"ul"},'Under "URIs" add your hosts URLs',Object(r.b)("ul",{parentName:"li"},Object(r.b)("li",{parentName:"ul"},"Web dev: https://localhost:19006"),Object(r.b)("li",{parentName:"ul"},"Expo Go Proxy: ",Object(r.b)("a",{parentName:"li",href:"https://auth.expo.io"},"https://auth.expo.io")))),Object(r.b)("li",{parentName:"ul"},'Under "Authorized redirect URIs"',Object(r.b)("ul",{parentName:"li"},Object(r.b)("li",{parentName:"ul"},"Web dev: https://localhost:19006 -- this is assuming you want to invoke ",Object(r.b)("inlineCode",{parentName:"li"},"WebBrowser.maybeCompleteAuthSession();")," from the root URL of your app."),Object(r.b)("li",{parentName:"ul"},"Expo Go Proxy: ",Object(r.b)("a",{parentName:"li",href:"https://auth.expo.io/@yourname/your-app"},"https://auth.expo.io/@yourname/your-app"))))),Object(r.b)("img",{alt:"Google Firebase Console for URIs",src:"/static/images/sdk/auth-session/guide/google-firebase-auth-console.png"}),Object(r.b)("pre",null,Object(r.b)("code",{parentName:"pre",className:"language-tsx"},"import * as React from 'react';\nimport * as WebBrowser from 'expo-web-browser';\nimport { ResponseType } from 'expo-auth-session';\nimport * as Google from 'expo-auth-session/providers/google';\nimport { initializeApp } from 'firebase/app';\nimport { getAuth, GoogleAuthProvider, signInWithCredential } from 'firebase/auth';\nimport { Button } from 'react-native';\n\n// Initialize Firebase\ninitializeApp({\n  /* Config */\n});\n\n/* @info <strong>Web only:</strong> This method should be invoked on the page that the auth popup gets redirected to on web, it'll ensure that authentication is completed properly. On native this does nothing. */\nWebBrowser.maybeCompleteAuthSession();\n/* @end */\n\nexport default function App() {\n\n  const [request, response, promptAsync] = Google.useIdTokenAuthRequest(\n    {\n      /* @info This comes from the Firebase Google authentication panel. */\n      clientId: 'Your-Web-Client-ID.apps.googleusercontent.com',\n      /* @end */\n    },\n  );\n\n  React.useEffect(() => {\n    if (response?.type === 'success') {\n      /* @info Use this access token to interact with user data on the provider's server. */\n      const { id_token } = response.params;\n      /* @end */\n\n      /* @info Create a Google credential with the <code>id_token</code> */\n      const auth = getAuth();\n      const provider = new GoogleAuthProvider();\n      const credential = provider.credential(id_token);\n      /* @end */\n      signInWithCredential(auth, credential);\n    }\n  }, [response]);\n\n  return (\n    <Button\n      /* @info Disable the button until the request is loaded asynchronously. */\n      disabled={!request}\n      /* @end */\n      title=\"Login\"\n      onPress={() => {\n        /* @info Prompt the user to authenticate in a user interaction or web browsers will block it. */\n        promptAsync();\n        /* @end */\n      }}\n    />\n  );\n}\n")))),Object(r.b)("h3",{id:"imgur"},"Imgur"),Object(r.b)(i.a,{name:"Imgur",href:"https://api.imgur.com/oauth2/addclient",mdxType:"CreateAppButton"}),Object(r.b)("table",null,Object(r.b)("thead",{parentName:"table"},Object(r.b)("tr",{parentName:"thead"},Object(r.b)("th",{parentName:"tr",align:null},"Website"),Object(r.b)("th",{parentName:"tr",align:null},"Provider"),Object(r.b)("th",{parentName:"tr",align:null},"PKCE"),Object(r.b)("th",{parentName:"tr",align:null},"Auto Discovery"))),Object(r.b)("tbody",{parentName:"table"},Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",{parentName:"tr",align:null},Object(r.b)("a",{parentName:"td",href:"https://api.imgur.com/oauth2/addclient"},"Get Your Config")),Object(r.b)("td",{parentName:"tr",align:null},"OAuth 2.0"),Object(r.b)("td",{parentName:"tr",align:null},"Supported"),Object(r.b)("td",{parentName:"tr",align:null},"Not Available")))),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},"You will need to create a different provider app for each platform (dynamically choosing your ",Object(r.b)("inlineCode",{parentName:"li"},"clientId"),")."),Object(r.b)("li",{parentName:"ul"},"Learn more here: ",Object(r.b)("a",{parentName:"li",href:"https://api.imgur.com/oauth2"},"imgur.com/oauth2"))),Object(r.b)(s.b,{tabs:["Auth Code","Implicit Flow"],mdxType:"Tabs"},Object(r.b)(s.a,{mdxType:"Tab"},Object(r.b)("pre",null,Object(r.b)("code",{parentName:"pre",className:"language-tsx"},"import * as React from 'react';\nimport * as WebBrowser from 'expo-web-browser';\nimport { makeRedirectUri, useAuthRequest } from 'expo-auth-session';\nimport { Button, Platform } from 'react-native';\n\n/* @info <strong>Web only:</strong> This method should be invoked on the page that the auth popup gets redirected to on web, it'll ensure that authentication is completed properly. On native this does nothing. */\nWebBrowser.maybeCompleteAuthSession();\n/* @end */\n\nconst discovery = {\n  authorizationEndpoint: 'https://api.imgur.com/oauth2/authorize',\n  tokenEndpoint: 'https://api.imgur.com/oauth2/token',\n};\n\nexport default function App() {\n  // Request\n  const [request, response, promptAsync] = useAuthRequest(\n    {\n      clientId: 'CLIENT_ID',\n      clientSecret: 'CLIENT_SECRET',\n      redirectUri: makeRedirectUri({\n        /* @info The URI <code>[scheme]://</code> to be used in bare and standalone. If undefined, the <code>scheme</code> property of your app.json or app.config.js will be used instead. */\n        scheme: 'your.app',\n        /* @end */\n      }),\n      // imgur requires an empty array\n      scopes: [],\n    },\n    discovery\n  );\n\n  React.useEffect(() => {\n    if (response?.type === 'success') {\n      /* @info Exchange the code for an access token in a server. Alternatively you can use the <b>Implicit</b> auth method. */\n      const { code } = response.params;\n      /* @end */\n    }\n  }, [response]);\n\n  return (\n    <Button\n      /* @info Disable the button until the request is loaded asynchronously. */\n      disabled={!request}\n      /* @end */\n      title=\"Login\"\n      onPress={() => {\n        /* @info Prompt the user to authenticate in a user interaction or web browsers will block it. */\n        promptAsync();\n        /* @end */\n      }}\n    />\n  );\n}\n"))),Object(r.b)(s.a,{mdxType:"Tab"},Object(r.b)("pre",null,Object(r.b)("code",{parentName:"pre",className:"language-tsx"},"import * as React from 'react';\nimport * as WebBrowser from 'expo-web-browser';\nimport { makeRedirectUri, ResponseType, useAuthRequest } from 'expo-auth-session';\nimport { Button, Platform } from 'react-native';\n\n/* @info <strong>Web only:</strong> This method should be invoked on the page that the auth popup gets redirected to on web, it'll ensure that authentication is completed properly. On native this does nothing. */\nWebBrowser.maybeCompleteAuthSession();\n/* @end */\n\nconst discovery = {\n  authorizationEndpoint: 'https://api.imgur.com/oauth2/authorize',\n  tokenEndpoint: 'https://api.imgur.com/oauth2/token',\n};\n\nexport default function App() {\n  // Request\n  const [request, response, promptAsync] = useAuthRequest(\n    {\n      /* @info Request that the server returns an <code>access_token</code>, not all providers support this. */\n      responseType: ResponseType.Token,\n      /* @end */\n      clientId: 'CLIENT_ID',\n      redirectUri: makeRedirectUri({\n        /* @info The URI <code>[scheme]://</code> to be used in bare and standalone. If undefined, the <code>scheme</code> property of your app.json or app.config.js will be used instead. */\n        scheme: 'your.app',\n        /* @end */\n      }),\n      scopes: [],\n    },\n    discovery\n  );\n\n  React.useEffect(() => {\n    if (response?.type === 'success') {\n      /* @info Use this access token to interact with user data on the provider's server. */\n      const { access_token } = response.params;\n      /* @end */\n    }\n  }, [response]);\n\n  return (\n    <Button\n      /* @info Disable the button until the request is loaded asynchronously. */\n      disabled={!request}\n      /* @end */\n      title=\"Login\"\n      onPress={() => {\n        /* @info Prompt the user to authenticate in a user interaction or web browsers will block it. */\n        promptAsync();\n        /* @end */\n      }}\n    />\n  );\n}\n")))),Object(r.b)("h3",{id:"okta"},"Okta"),Object(r.b)(i.a,{name:"Okta",href:"https://developer.okta.com/signup",mdxType:"CreateAppButton"}),Object(r.b)("table",null,Object(r.b)("thead",{parentName:"table"},Object(r.b)("tr",{parentName:"thead"},Object(r.b)("th",{parentName:"tr",align:null},"Website"),Object(r.b)("th",{parentName:"tr",align:null},"Provider"),Object(r.b)("th",{parentName:"tr",align:null},"PKCE"),Object(r.b)("th",{parentName:"tr",align:null},"Auto Discovery"))),Object(r.b)("tbody",{parentName:"table"},Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",{parentName:"tr",align:null},Object(r.b)("a",{parentName:"td",href:"https://developer.okta.com/signup/"},"Sign-up")," > Applications"),Object(r.b)("td",{parentName:"tr",align:null},"OpenID"),Object(r.b)("td",{parentName:"tr",align:null},"Supported"),Object(r.b)("td",{parentName:"tr",align:null},"Available")))),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},"You cannot define a custom ",Object(r.b)("inlineCode",{parentName:"li"},"redirectUri"),", Okta will provide you with one."),Object(r.b)("li",{parentName:"ul"},"You can use the Expo proxy to test this without a native rebuild, just be sure to configure the project as a website.")),Object(r.b)(s.b,{tabs:["Auth Code","Implicit Flow"],mdxType:"Tabs"},Object(r.b)(s.a,{mdxType:"Tab"},Object(r.b)("pre",null,Object(r.b)("code",{parentName:"pre",className:"language-tsx"},"import * as React from 'react';\nimport * as WebBrowser from 'expo-web-browser';\nimport { makeRedirectUri, useAuthRequest, useAutoDiscovery } from 'expo-auth-session';\nimport { Button, Platform } from 'react-native';\n\n/* @info <strong>Web only:</strong> This method should be invoked on the page that the auth popup gets redirected to on web, it'll ensure that authentication is completed properly. On native this does nothing. */\nWebBrowser.maybeCompleteAuthSession();\n/* @end */\n\nconst useProxy = Platform.select({ web: false, default: true });\n\nexport default function App() {\n  // Endpoint\n  const discovery = useAutoDiscovery('https://<OKTA_DOMAIN>.com/oauth2/default');\n  // Request\n  const [request, response, promptAsync] = useAuthRequest(\n    {\n      clientId: 'CLIENT_ID',\n      scopes: ['openid', 'profile'],\n      // For usage in managed apps using the proxy\n      redirectUri: makeRedirectUri({\n        // For usage in bare and standalone\n        native: 'com.okta.<OKTA_DOMAIN>:/callback',\n        useProxy,\n      }),\n    },\n    discovery\n  );\n\n  React.useEffect(() => {\n    if (response?.type === 'success') {\n      /* @info Exchange the code for an access token in a server. Alternatively you can use the <b>Implicit</b> auth method. */\n      const { code } = response.params;\n      /* @end */\n    }\n  }, [response]);\n\n  return (\n    <Button\n      /* @info Disable the button until the request is loaded asynchronously. */\n      disabled={!request}\n      /* @end */\n      title=\"Login\"\n      onPress={() => {\n        /* @info Prompt the user to authenticate in a user interaction or web browsers will block it. */\n        promptAsync({ useProxy });\n        /* @end */\n      }}\n    />\n  );\n}\n"))),Object(r.b)(s.a,{mdxType:"Tab"},Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},"This flow is not documented yet, learn more ",Object(r.b)("a",{parentName:"li",href:"https://developer.okta.com/docs/guides/implement-implicit/use-flow/"},"from the Okta website"),".")))),Object(r.b)("h3",{id:"reddit"},"Reddit"),Object(r.b)(i.a,{name:"Reddit",href:"https://www.reddit.com/prefs/apps",mdxType:"CreateAppButton"}),Object(r.b)("table",null,Object(r.b)("thead",{parentName:"table"},Object(r.b)("tr",{parentName:"thead"},Object(r.b)("th",{parentName:"tr",align:null},"Website"),Object(r.b)("th",{parentName:"tr",align:null},"Provider"),Object(r.b)("th",{parentName:"tr",align:null},"PKCE"),Object(r.b)("th",{parentName:"tr",align:null},"Auto Discovery"))),Object(r.b)("tbody",{parentName:"table"},Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",{parentName:"tr",align:null},Object(r.b)("a",{parentName:"td",href:"https://www.reddit.com/prefs/apps"},"Get Your Config")),Object(r.b)("td",{parentName:"tr",align:null},"OAuth 2.0"),Object(r.b)("td",{parentName:"tr",align:null},"Supported"),Object(r.b)("td",{parentName:"tr",align:null},"Not Available")))),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},"Provider only allows one redirect URI per app. You'll need an individual app for every method you want to use:",Object(r.b)("ul",{parentName:"li"},Object(r.b)("li",{parentName:"ul"},"Expo Go: ",Object(r.b)("inlineCode",{parentName:"li"},"exp://localhost:19000/--/*")),Object(r.b)("li",{parentName:"ul"},"Expo Go + Proxy: ",Object(r.b)("inlineCode",{parentName:"li"},"https://auth.expo.io/@you/your-app")),Object(r.b)("li",{parentName:"ul"},"Standalone or Bare: ",Object(r.b)("inlineCode",{parentName:"li"},"com.your.app://*")),Object(r.b)("li",{parentName:"ul"},"Web: ",Object(r.b)("inlineCode",{parentName:"li"},"https://yourwebsite.com/*")))),Object(r.b)("li",{parentName:"ul"},"The ",Object(r.b)("inlineCode",{parentName:"li"},"redirectUri")," requires 2 slashes (",Object(r.b)("inlineCode",{parentName:"li"},"://"),").")),Object(r.b)(s.b,{tabs:["Auth Code","Implicit Flow"],mdxType:"Tabs"},Object(r.b)(s.a,{mdxType:"Tab"},Object(r.b)("pre",null,Object(r.b)("code",{parentName:"pre",className:"language-tsx"},"import * as React from 'react';\nimport * as WebBrowser from 'expo-web-browser';\nimport { makeRedirectUri, useAuthRequest } from 'expo-auth-session';\nimport { Button } from 'react-native';\n\n/* @info <strong>Web only:</strong> This method should be invoked on the page that the auth popup gets redirected to on web, it'll ensure that authentication is completed properly. On native this does nothing. */\nWebBrowser.maybeCompleteAuthSession();\n/* @end */\n\n// Endpoint\nconst discovery = {\n  authorizationEndpoint: 'https://www.reddit.com/api/v1/authorize.compact',\n  tokenEndpoint: 'https://www.reddit.com/api/v1/access_token',\n};\n\nexport default function App() {\n  const [request, response, promptAsync] = useAuthRequest(\n    {\n      clientId: 'CLIENT_ID',\n      scopes: ['identity'],\n      redirectUri: makeRedirectUri({\n        // For usage in bare and standalone\n        native: 'your.app://redirect',\n      }),\n    },\n    discovery\n  );\n\n  React.useEffect(() => {\n    if (response?.type === 'success') {\n      /* @info Exchange the code for an access token in a server. Alternatively you can use the <b>Implicit</b> auth method. */\n      const { code } = response.params;\n      /* @end */\n    }\n  }, [response]);\n\n  return (\n    <Button\n      /* @info Disable the button until the request is loaded asynchronously. */\n      disabled={!request}\n      /* @end */\n      title=\"Login\"\n      onPress={() => {\n        /* @info Prompt the user to authenticate in a user interaction or web browsers will block it. */\n        promptAsync();\n        /* @end */\n      }}\n    />\n  );\n}\n"))),Object(r.b)(s.a,{mdxType:"Tab"},Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},"You must select the ",Object(r.b)("inlineCode",{parentName:"li"},"installed")," option for your app on Reddit to use implicit grant.")),Object(r.b)("pre",null,Object(r.b)("code",{parentName:"pre",className:"language-tsx"},"import * as React from 'react';\nimport * as WebBrowser from 'expo-web-browser';\nimport { makeRedirectUri, ResponseType, useAuthRequest } from 'expo-auth-session';\nimport { Button } from 'react-native';\n\n/* @info <strong>Web only:</strong> This method should be invoked on the page that the auth popup gets redirected to on web, it'll ensure that authentication is completed properly. On native this does nothing. */\nWebBrowser.maybeCompleteAuthSession();\n/* @end */\n\n// Endpoint\nconst discovery = {\n  authorizationEndpoint: 'https://www.reddit.com/api/v1/authorize.compact',\n  tokenEndpoint: 'https://www.reddit.com/api/v1/access_token',\n};\n\nexport default function App() {\n  const [request, response, promptAsync] = useAuthRequest(\n    {\n      /* @info Request that the server returns an <code>access_token</code>, not all providers support this. */\n      responseType: ResponseType.Token,\n      /* @end */\n      clientId: 'CLIENT_ID',\n      scopes: ['identity'],\n      redirectUri: makeRedirectUri({\n        /* @info The URI <code>[scheme]://</code> to be used in bare and standalone. If undefined, the <code>scheme</code> property of your app.json or app.config.js will be used instead. */\n        scheme: 'your.app'\n        /* @end */\n      }),\n    },\n    discovery\n  );\n\n  React.useEffect(() => {\n    if (response?.type === 'success') {\n      /* @info Use this access token to interact with user data on the provider's server. */\n      const { access_token } = response.params;\n      /* @end */\n    }\n  }, [response]);\n\n  return (\n    <Button\n      /* @info Disable the button until the request is loaded asynchronously. */\n      disabled={!request}\n      /* @end */\n      title=\"Login\"\n      onPress={() => {\n        /* @info Prompt the user to authenticate in a user interaction or web browsers will block it. */\n        promptAsync();\n        /* @end */\n      }}\n    />\n  );\n}\n")))),Object(r.b)("h3",{id:"slack"},"Slack"),Object(r.b)(i.a,{name:"Slack",href:"https://api.slack.com/apps",mdxType:"CreateAppButton"}),Object(r.b)("table",null,Object(r.b)("thead",{parentName:"table"},Object(r.b)("tr",{parentName:"thead"},Object(r.b)("th",{parentName:"tr",align:null},"Website"),Object(r.b)("th",{parentName:"tr",align:null},"Provider"),Object(r.b)("th",{parentName:"tr",align:null},"PKCE"),Object(r.b)("th",{parentName:"tr",align:null},"Auto Discovery"))),Object(r.b)("tbody",{parentName:"table"},Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",{parentName:"tr",align:null},Object(r.b)("a",{parentName:"td",href:"https://api.slack.com/apps"},"Get Your Config")),Object(r.b)("td",{parentName:"tr",align:null},"OAuth 2.0"),Object(r.b)("td",{parentName:"tr",align:null},"Supported"),Object(r.b)("td",{parentName:"tr",align:null},"Not Available")))),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},"The ",Object(r.b)("inlineCode",{parentName:"li"},"redirectUri")," requires 2 slashes (",Object(r.b)("inlineCode",{parentName:"li"},"://"),")."),Object(r.b)("li",{parentName:"ul"},Object(r.b)("inlineCode",{parentName:"li"},"redirectUri"),' can be defined under the "OAuth & Permissions" section of the website.'),Object(r.b)("li",{parentName:"ul"},Object(r.b)("inlineCode",{parentName:"li"},"clientId")," and ",Object(r.b)("inlineCode",{parentName:"li"},"clientSecret")," can be found in the ",Object(r.b)("strong",{parentName:"li"},'"App Credentials"')," section."),Object(r.b)("li",{parentName:"ul"},"Scopes must be joined with ':' so just create one long string."),Object(r.b)("li",{parentName:"ul"},"Navigate to the ",Object(r.b)("strong",{parentName:"li"},'"Scopes"')," section to enable scopes."),Object(r.b)("li",{parentName:"ul"},Object(r.b)("inlineCode",{parentName:"li"},"revocationEndpoint")," is not available.")),Object(r.b)(s.b,{tabs:["Auth Code","Implicit Flow"],mdxType:"Tabs"},Object(r.b)(s.a,{mdxType:"Tab"},Object(r.b)("pre",null,Object(r.b)("code",{parentName:"pre",className:"language-tsx"},"import * as React from 'react';\nimport * as WebBrowser from 'expo-web-browser';\nimport { makeRedirectUri, useAuthRequest } from 'expo-auth-session';\nimport { Button } from 'react-native';\n\n/* @info <strong>Web only:</strong> This method should be invoked on the page that the auth popup gets redirected to on web, it'll ensure that authentication is completed properly. On native this does nothing. */\nWebBrowser.maybeCompleteAuthSession();\n/* @end */\n\n// Endpoint\nconst discovery = {\n  authorizationEndpoint: 'https://slack.com/oauth/authorize',\n  tokenEndpoint: 'https://slack.com/api/oauth.access',\n};\n\nexport default function App() {\n  const [request, response, promptAsync] = useAuthRequest(\n    {\n      clientId: 'CLIENT_ID',\n      scopes: ['emoji:read'],\n      redirectUri: makeRedirectUri({\n        /* @info The URI <code>[scheme]://</code> to be used in bare and standalone. If undefined, the <code>scheme</code> property of your app.json or app.config.js will be used instead. */\n        scheme: 'your.app'\n        /* @end */\n      }),\n    },\n    discovery\n  );\n\n  React.useEffect(() => {\n    if (response?.type === 'success') {\n      /* @info Exchange the code for an access token in a server. Alternatively you can use the <b>Implicit</b> auth method. */\n      const { code } = response.params;\n      /* @end */\n    }\n  }, [response]);\n\n  return (\n    <Button\n      /* @info Disable the button until the request is loaded asynchronously. */\n      disabled={!request}\n      /* @end */\n      title=\"Login\"\n      onPress={() => {\n        /* @info Prompt the user to authenticate in a user interaction or web browsers will block it. */\n        promptAsync();\n        /* @end */\n      }}\n    />\n  );\n}\n"))),Object(r.b)(s.a,{mdxType:"Tab"},Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},"Slack does not support implicit grant.")))),Object(r.b)("h3",{id:"spotify"},"Spotify"),Object(r.b)(i.a,{name:"Spotify",href:"https://developer.spotify.com/dashboard/applications",mdxType:"CreateAppButton"}),Object(r.b)("table",null,Object(r.b)("thead",{parentName:"table"},Object(r.b)("tr",{parentName:"thead"},Object(r.b)("th",{parentName:"tr",align:null},"Website"),Object(r.b)("th",{parentName:"tr",align:null},"Provider"),Object(r.b)("th",{parentName:"tr",align:null},"PKCE"),Object(r.b)("th",{parentName:"tr",align:null},"Auto Discovery"))),Object(r.b)("tbody",{parentName:"table"},Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",{parentName:"tr",align:null},Object(r.b)("a",{parentName:"td",href:"https://developer.spotify.com/dashboard/applications"},"Get Your Config")),Object(r.b)("td",{parentName:"tr",align:null},"OAuth 2.0"),Object(r.b)("td",{parentName:"tr",align:null},"Supported"),Object(r.b)("td",{parentName:"tr",align:null},"Not Available")))),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},"Setup your redirect URIs: Your project > Edit Settings > Redirect URIs (be sure to save after making changes).",Object(r.b)("ul",{parentName:"li"},Object(r.b)("li",{parentName:"ul"},Object(r.b)("em",{parentName:"li"},"Expo Go"),": ",Object(r.b)("inlineCode",{parentName:"li"},"exp://localhost:19000/--/")),Object(r.b)("li",{parentName:"ul"},Object(r.b)("em",{parentName:"li"},"Web dev"),": ",Object(r.b)("inlineCode",{parentName:"li"},"https://localhost:19006"),Object(r.b)("ul",{parentName:"li"},Object(r.b)("li",{parentName:"ul"},"Important: Ensure there's no slash at the end of the URL unless manually changed in the app code with ",Object(r.b)("inlineCode",{parentName:"li"},"makeRedirectUri({ path: '/' })"),"."),Object(r.b)("li",{parentName:"ul"},"Run ",Object(r.b)("inlineCode",{parentName:"li"},"expo start:web --https")," to run with ",Object(r.b)("strong",{parentName:"li"},"https"),", auth won't work otherwise."))),Object(r.b)("li",{parentName:"ul"},Object(r.b)("em",{parentName:"li"},"Custom app"),": ",Object(r.b)("inlineCode",{parentName:"li"},"your-scheme://"),Object(r.b)("ul",{parentName:"li"},Object(r.b)("li",{parentName:"ul"},"Scheme should be specified in app.json ",Object(r.b)("inlineCode",{parentName:"li"},"expo.scheme: 'your-scheme'"),", then added to the app code with ",Object(r.b)("inlineCode",{parentName:"li"},"makeRedirectUri({ native: 'your-scheme://' })"),")"))),Object(r.b)("li",{parentName:"ul"},Object(r.b)("em",{parentName:"li"},"Proxy"),": ",Object(r.b)("inlineCode",{parentName:"li"},"https://auth.expo.io/@username/slug"),Object(r.b)("ul",{parentName:"li"},Object(r.b)("li",{parentName:"ul"},"If ",Object(r.b)("inlineCode",{parentName:"li"},"useProxy")," is enabled (native only), change ",Object(r.b)("strong",{parentName:"li"},"username")," for your Expo username and ",Object(r.b)("strong",{parentName:"li"},"slug")," for the ",Object(r.b)("inlineCode",{parentName:"li"},"slug")," in your app.json. Try not to change the slug for your app after using it for auth as this can lead to versioning issues."))),Object(r.b)("li",{parentName:"ul"},Object(r.b)("em",{parentName:"li"},"Web production"),": ",Object(r.b)("inlineCode",{parentName:"li"},"https://yourwebsite.com"),Object(r.b)("ul",{parentName:"li"},Object(r.b)("li",{parentName:"ul"},"Set this to whatever your deployed website URL is."))))),Object(r.b)("li",{parentName:"ul"},"For simpler authentication, use the ",Object(r.b)("strong",{parentName:"li"},"Implicit Flow")," as it'll return an ",Object(r.b)("inlineCode",{parentName:"li"},"access_token")," without the need for a code exchange server request."),Object(r.b)("li",{parentName:"ul"},"Learn more about the ",Object(r.b)("a",{parentName:"li",href:"https://developer.spotify.com/documentation/web-api/"},"Spotify API"),".")),Object(r.b)(s.b,{tabs:["Auth Code","Implicit Flow"],mdxType:"Tabs"},Object(r.b)(s.a,{mdxType:"Tab"},Object(r.b)("pre",null,Object(r.b)("code",{parentName:"pre",className:"language-tsx"},"import * as React from 'react';\nimport * as WebBrowser from 'expo-web-browser';\nimport { makeRedirectUri, useAuthRequest } from 'expo-auth-session';\nimport { Button } from 'react-native';\n\n/* @info <strong>Web only:</strong> This method should be invoked on the page that the auth popup gets redirected to on web, it'll ensure that authentication is completed properly. On native this does nothing. */\nWebBrowser.maybeCompleteAuthSession();\n/* @end */\n\n// Endpoint\nconst discovery = {\n  authorizationEndpoint: 'https://accounts.spotify.com/authorize',\n  tokenEndpoint: 'https://accounts.spotify.com/api/token',\n};\n\nexport default function App() {\n  const [request, response, promptAsync] = useAuthRequest(\n    {\n      clientId: 'CLIENT_ID',\n      scopes: ['user-read-email', 'playlist-modify-public'],\n      // In order to follow the \"Authorization Code Flow\" to fetch token after authorizationEndpoint\n      // this must be set to false\n      usePKCE: false,\n      redirectUri: makeRedirectUri({\n        /* @info The URI <code>[scheme]://</code> to be used in bare and standalone. If undefined, the <code>scheme</code> property of your app.json or app.config.js will be used instead. */\n        scheme: 'your.app'\n        /* @end */\n      }),\n    },\n    discovery\n  );\n\n  React.useEffect(() => {\n    if (response?.type === 'success') {\n      /* @info Exchange the code for an access token in a server. Alternatively you can use the <b>Implicit</b> auth method. */\n      const { code } = response.params;\n      /* @end */\n    }\n  }, [response]);\n\n  return (\n    <Button\n      /* @info Disable the button until the request is loaded asynchronously. */\n      disabled={!request}\n      /* @end */\n      title=\"Login\"\n      onPress={() => {\n        /* @info Prompt the user to authenticate in a user interaction or web browsers will block it. */\n        promptAsync();\n        /* @end */\n      }}\n    />\n  );\n}\n"))),Object(r.b)(s.a,{mdxType:"Tab"},Object(r.b)("pre",null,Object(r.b)("code",{parentName:"pre",className:"language-tsx"},"import * as React from 'react';\nimport * as WebBrowser from 'expo-web-browser';\nimport { makeRedirectUri, ResponseType, useAuthRequest } from 'expo-auth-session';\nimport { Button } from 'react-native';\n\n/* @info <strong>Web only:</strong> This method should be invoked on the page that the auth popup gets redirected to on web, it'll ensure that authentication is completed properly. On native this does nothing. */\nWebBrowser.maybeCompleteAuthSession();\n/* @end */\n\n// Endpoint\nconst discovery = {\n  authorizationEndpoint: 'https://accounts.spotify.com/authorize',\n  tokenEndpoint: 'https://accounts.spotify.com/api/token',\n};\n\nexport default function App() {\n  const [request, response, promptAsync] = useAuthRequest(\n    {\n      /* @info Request that the server returns an <code>access_token</code>, not all providers support this. */\n      responseType: ResponseType.Token,\n      /* @end */\n      clientId: 'CLIENT_ID',\n      scopes: ['user-read-email', 'playlist-modify-public'],\n      // In order to follow the \"Authorization Code Flow\" to fetch token after authorizationEndpoint\n      // this must be set to false\n      usePKCE: false,\n      redirectUri: makeRedirectUri({\n        /* @info The URI <code>[scheme]://</code> to be used in bare and standalone. If undefined, the <code>scheme</code> property of your app.json or app.config.js will be used instead. */\n        scheme: 'your.app'\n        /* @end */\n      }),\n    },\n    discovery\n  );\n\n  React.useEffect(() => {\n    if (response?.type === 'success') {\n      /* @info Use this access token to interact with user data on the provider's server. */\n      const { access_token } = response.params;\n      /* @end */\n    }\n  }, [response]);\n\n  return (\n    <Button\n      /* @info Disable the button until the request is loaded asynchronously. */\n      disabled={!request}\n      /* @end */\n      title=\"Login\"\n      onPress={() => {\n        /* @info Prompt the user to authenticate in a user interaction or web browsers will block it. */\n        promptAsync();\n        /* @end */\n      }}\n    />\n  );\n}\n")))),Object(r.b)("h3",{id:"strava"},"Strava"),Object(r.b)(i.a,{name:"Strava",href:"https://www.strava.com/settings/api",mdxType:"CreateAppButton"}),Object(r.b)("table",null,Object(r.b)("thead",{parentName:"table"},Object(r.b)("tr",{parentName:"thead"},Object(r.b)("th",{parentName:"tr",align:null},"Website"),Object(r.b)("th",{parentName:"tr",align:null},"Provider"),Object(r.b)("th",{parentName:"tr",align:null},"PKCE"),Object(r.b)("th",{parentName:"tr",align:null},"Auto Discovery"))),Object(r.b)("tbody",{parentName:"table"},Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",{parentName:"tr",align:null},Object(r.b)("a",{parentName:"td",href:"https://www.strava.com/settings/api"},"Get Your Config")),Object(r.b)("td",{parentName:"tr",align:null},"OAuth 2.0"),Object(r.b)("td",{parentName:"tr",align:null},"Supported"),Object(r.b)("td",{parentName:"tr",align:null},"Not Available")))),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},"Learn more about the ",Object(r.b)("a",{parentName:"li",href:"http://developers.strava.com/docs/reference/"},"Strava API"),"."),Object(r.b)("li",{parentName:"ul"},'The "Authorization Callback Domain" refers to the final path component of your redirect URI. Ex: In the URI ',Object(r.b)("inlineCode",{parentName:"li"},"com.bacon.myapp://redirect")," the domain would be ",Object(r.b)("inlineCode",{parentName:"li"},"redirect"),"."),Object(r.b)("li",{parentName:"ul"},"No Implicit auth flow is provided by Strava.")),Object(r.b)(s.b,{tabs:["Auth Code"],mdxType:"Tabs"},Object(r.b)(s.a,{mdxType:"Tab"},Object(r.b)("pre",null,Object(r.b)("code",{parentName:"pre",className:"language-tsx"},"import * as React from 'react';\nimport * as WebBrowser from 'expo-web-browser';\nimport { makeRedirectUri, useAuthRequest } from 'expo-auth-session';\nimport { Button } from 'react-native';\n\n/* @info <strong>Web only:</strong> This method should be invoked on the page that the auth popup gets redirected to on web, it'll ensure that authentication is completed properly. On native this does nothing. */\nWebBrowser.maybeCompleteAuthSession();\n/* @end */\n\n// Endpoint\nconst discovery = {\n  authorizationEndpoint: 'https://www.strava.com/oauth/mobile/authorize',\n  tokenEndpoint: 'https://www.strava.com/oauth/token',\n  revocationEndpoint: 'https://www.strava.com/oauth/deauthorize',\n};\n\nexport default function App() {\n  const [request, response, promptAsync] = useAuthRequest(\n    {\n      clientId: 'CLIENT_ID',\n      scopes: ['activity:read_all'],\n      redirectUri: makeRedirectUri({\n        // For usage in bare and standalone\n        // the \"redirect\" must match your \"Authorization Callback Domain\" in the Strava dev console.\n        native: 'your.app://redirect',\n      }),\n    },\n    discovery\n  );\n\n  React.useEffect(() => {\n    if (response?.type === 'success') {\n      /* @info Exchange the code for an access token in a server. Alternatively you can use the <b>Implicit</b> auth method. */\n      const { code } = response.params;\n      /* @end */\n    }\n  }, [response]);\n\n  return (\n    <Button\n      /* @info Disable the button until the request is loaded asynchronously. */\n      disabled={!request}\n      /* @end */\n      title=\"Login\"\n      onPress={() => {\n        /* @info Prompt the user to authenticate in a user interaction or web browsers will block it. */\n        promptAsync();\n        /* @end */\n      }}\n    />\n  );\n}\n")),Object(r.b)("p",null,"Strava doesn't provide an implicit auth flow, you should send the code to a server or serverless function to perform the access token exchange.\nFor ",Object(r.b)("strong",{parentName:"p"},"debugging")," purposes, you can perform the exchange client-side using the following method:"),Object(r.b)("pre",null,Object(r.b)("code",{parentName:"pre",className:"language-tsx"},"const { accessToken } = await AuthSession.exchangeCodeAsync(\n  {\n    clientId: request?.clientId,\n    redirectUri,\n    code: result.params.code,\n    extraParams: {\n      // You must use the extraParams variation of clientSecret.\n      // Never store your client secret on the client.\n      client_secret: 'CLIENT_SECRET',\n    },\n  },\n  { tokenEndpoint: 'https://www.strava.com/oauth/token' }\n);\n")))),Object(r.b)("h3",{id:"twitch"},"Twitch"),Object(r.b)(i.a,{name:"Twitch",href:"https://dev.twitch.tv/console/apps/create",mdxType:"CreateAppButton"}),Object(r.b)("table",null,Object(r.b)("thead",{parentName:"table"},Object(r.b)("tr",{parentName:"thead"},Object(r.b)("th",{parentName:"tr",align:null},"Website"),Object(r.b)("th",{parentName:"tr",align:null},"Provider"),Object(r.b)("th",{parentName:"tr",align:null},"PKCE"),Object(r.b)("th",{parentName:"tr",align:null},"Auto Discovery"),Object(r.b)("th",{parentName:"tr",align:null},"Scopes"))),Object(r.b)("tbody",{parentName:"table"},Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",{parentName:"tr",align:null},Object(r.b)("a",{parentName:"td",href:"https://dev.twitch.tv/console/apps/create"},"Get your Config")),Object(r.b)("td",{parentName:"tr",align:null},"OAuth"),Object(r.b)("td",{parentName:"tr",align:null},"Supported"),Object(r.b)("td",{parentName:"tr",align:null},"Not Available"),Object(r.b)("td",{parentName:"tr",align:null},Object(r.b)("a",{parentName:"td",href:"https://dev.twitch.tv/docs/authentication#scopes"},"Info"))))),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},"You will need to enable 2FA on your Twitch account to create an application.")),Object(r.b)(s.b,{tabs:["Auth Code","Implicit Flow"],mdxType:"Tabs"},Object(r.b)(s.a,{mdxType:"Tab"},Object(r.b)("pre",null,Object(r.b)("code",{parentName:"pre",className:"language-tsx"},"import * as React from 'react';\nimport * as WebBrowser from 'expo-web-browser';\nimport { makeRedirectUri, useAuthRequest } from 'expo-auth-session';\nimport { Button } from 'react-native';\n\n/* @info <strong>Web only:</strong> This method should be invoked on the page that the auth popup gets redirected to on web, it'll ensure that authentication is completed properly. On native this does nothing. */\nWebBrowser.maybeCompleteAuthSession();\n/* @end */\n\n// Endpoint\nconst discovery = {\n  authorizationEndpoint: 'https://id.twitch.tv/oauth2/authorize',\n  tokenEndpoint: 'https://id.twitch.tv/oauth2/token',\n  revocationEndpoint: 'https://id.twitch.tv/oauth2/revoke',\n};\n\nexport default function App() {\n  const [request, response, promptAsync] = useAuthRequest(\n    {\n      clientId: 'CLIENT_ID',\n      redirectUri: makeRedirectUri({\n        /* @info The URI <code>[scheme]://</code> to be used in bare and standalone. If undefined, the <code>scheme</code> property of your app.json or app.config.js will be used instead. */\n        scheme: 'your.app'\n        /* @end */\n      }),\n      scopes: ['openid', 'user_read', 'analytics:read:games'],\n    },\n    discovery\n  );\n\n  React.useEffect(() => {\n    if (response?.type === 'success') {\n      /* @info Exchange the code for an access token in a server. Alternatively you can use the <b>Implicit</b> auth method. */\n      const { code } = response.params;\n      /* @end */\n    }\n  }, [response]);\n\n  return (\n    <Button\n      /* @info Disable the button until the request is loaded asynchronously. */\n      disabled={!request}\n      /* @end */\n      title=\"Login\"\n      onPress={() => {\n        /* @info Prompt the user to authenticate in a user interaction or web browsers will block it. */\n        promptAsync();\n        /* @end */\n      }}\n    />\n  );\n}\n"))),Object(r.b)(s.a,{mdxType:"Tab"},Object(r.b)("pre",null,Object(r.b)("code",{parentName:"pre",className:"language-tsx"},"import * as React from 'react';\nimport * as WebBrowser from 'expo-web-browser';\nimport { makeRedirectUri, ResponseType, useAuthRequest } from 'expo-auth-session';\nimport { Button } from 'react-native';\n\n/* @info <strong>Web only:</strong> This method should be invoked on the page that the auth popup gets redirected to on web, it'll ensure that authentication is completed properly. On native this does nothing. */\nWebBrowser.maybeCompleteAuthSession();\n/* @end */\n\n// Endpoint\nconst discovery = {\n  authorizationEndpoint: 'https://id.twitch.tv/oauth2/authorize',\n  tokenEndpoint: 'https://id.twitch.tv/oauth2/token',\n  revocationEndpoint: 'https://id.twitch.tv/oauth2/revoke',\n};\n\nexport default function App() {\n  const [request, response, promptAsync] = useAuthRequest(\n    {\n      /* @info Request that the server returns an <code>access_token</code>, not all providers support this. */\n      responseType: ResponseType.Token,\n      /* @end */\n      clientId: 'CLIENT_ID',\n      redirectUri: makeRedirectUri({\n        /* @info The URI <code>[scheme]://</code> to be used in bare and standalone. If undefined, the <code>scheme</code> property of your app.json or app.config.js will be used instead. */\n        scheme: 'your.app'\n        /* @end */\n      }),\n      scopes: ['openid', 'user_read', 'analytics:read:games'],\n    },\n    discovery\n  );\n\n  React.useEffect(() => {\n    if (response?.type === 'success') {\n      /* @info Use this access token to interact with user data on the provider's server. */\n      const { access_token } = response.params;\n      /* @end */\n    }\n  }, [response]);\n\n  return (\n    <Button\n      /* @info Disable the button until the request is loaded asynchronously. */\n      disabled={!request}\n      /* @end */\n      title=\"Login\"\n      onPress={() => {\n        /* @info Prompt the user to authenticate in a user interaction or web browsers will block it. */\n        promptAsync();\n        /* @end */\n      }}\n    />\n  );\n}\n")))),Object(r.b)("h3",{id:"twitter"},"Twitter"),Object(r.b)(i.a,{name:"Twitter",href:"https://developer.twitter.com/en/portal/projects/new",mdxType:"CreateAppButton"}),Object(r.b)("table",null,Object(r.b)("thead",{parentName:"table"},Object(r.b)("tr",{parentName:"thead"},Object(r.b)("th",{parentName:"tr",align:null},"Website"),Object(r.b)("th",{parentName:"tr",align:null},"Provider"),Object(r.b)("th",{parentName:"tr",align:null},"PKCE"),Object(r.b)("th",{parentName:"tr",align:null},"Auto Discovery"),Object(r.b)("th",{parentName:"tr",align:null},"Scopes"))),Object(r.b)("tbody",{parentName:"table"},Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",{parentName:"tr",align:null},Object(r.b)("a",{parentName:"td",href:"https://developer.twitter.com/en/portal/projects/new"},"Get your Config")),Object(r.b)("td",{parentName:"tr",align:null},"OAuth"),Object(r.b)("td",{parentName:"tr",align:null},"Supported"),Object(r.b)("td",{parentName:"tr",align:null},"Not Available"),Object(r.b)("td",{parentName:"tr",align:null},Object(r.b)("a",{parentName:"td",href:"https://developer.twitter.com/en/docs/authentication/oauth-2-0/authorization-code"},"Info"))))),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},"You will need to be approved by Twitter support before you can use the Twitter v2 API."),Object(r.b)("li",{parentName:"ul"},"Web does not appear to work, the Twitter authentication website appears to block the popup, causing the ",Object(r.b)("inlineCode",{parentName:"li"},"response")," of ",Object(r.b)("inlineCode",{parentName:"li"},"useAuthRequest")," to always be ",Object(r.b)("inlineCode",{parentName:"li"},"{type: 'dismiss'}"),"."),Object(r.b)("li",{parentName:"ul"},"Example redirects:",Object(r.b)("ul",{parentName:"li"},Object(r.b)("li",{parentName:"ul"},"Expo Go + Proxy: ",Object(r.b)("inlineCode",{parentName:"li"},"https://auth.expo.io/@you/your-app")),Object(r.b)("li",{parentName:"ul"},"Standalone or Bare: ",Object(r.b)("inlineCode",{parentName:"li"},"com.your.app://")),Object(r.b)("li",{parentName:"ul"},"Web (dev ",Object(r.b)("inlineCode",{parentName:"li"},"expo start --https"),"): ",Object(r.b)("inlineCode",{parentName:"li"},"https://localhost:19006")," (no ending slash)"))),Object(r.b)("li",{parentName:"ul"},"The ",Object(r.b)("inlineCode",{parentName:"li"},"redirectUri")," requires 2 slashes (",Object(r.b)("inlineCode",{parentName:"li"},"://"),").")),Object(r.b)("h4",{id:"expo-go-1"},"Expo Go"),Object(r.b)("p",null,"You must use the proxy service in the Expo Go app because ",Object(r.b)("inlineCode",{parentName:"p"},"exp://localhost:19000")," cannot be added to your Twitter app as a redirect."),Object(r.b)(s.b,{tabs:["Auth Code"],mdxType:"Tabs"},Object(r.b)(s.a,{mdxType:"Tab"},Object(r.b)("pre",null,Object(r.b)("code",{parentName:"pre",className:"language-tsx"},"import * as React from 'react';\nimport * as WebBrowser from 'expo-web-browser';\nimport { makeRedirectUri, useAuthRequest } from 'expo-auth-session';\nimport { Button, Platform } from 'react-native';\n\nconst useProxy = Platform.select({ web: false, default: true });\n\n/* @info <strong>Web only:</strong> This method should be invoked on the page that the auth popup gets redirected to on web, it'll ensure that authentication is completed properly. On native this does nothing. */\nWebBrowser.maybeCompleteAuthSession();\n/* @end */\n\n// Endpoint\nconst discovery = {\n  authorizationEndpoint: \"https://twitter.com/i/oauth2/authorize\",\n  tokenEndpoint: \"https://twitter.com/i/oauth2/token\",\n  revocationEndpoint: \"https://twitter.com/i/oauth2/revoke\",\n};\n\nexport default function App() {\n  const [request, response, promptAsync] = useAuthRequest(\n    {\n      clientId: 'CLIENT_ID',\n      redirectUri: makeRedirectUri({\n        /* @info The URI <code>[scheme]://</code> to be used in bare and standalone. If undefined, the <code>scheme</code> property of your app.json or app.config.js will be used instead. */\n        scheme: 'your.app',\n        /* @end */\n        useProxy\n      }),\n      usePKCE: true,\n      scopes: [\n        \"tweet.read\",\n      ],\n    },\n    discovery\n  );\n\n  React.useEffect(() => {\n    if (response?.type === 'success') {\n      /* @info Exchange the code for an access token in a server. Alternatively you can use the <b>Implicit</b> auth method. */\n      const { code } = response.params;\n      /* @end */\n    }\n  }, [response]);\n\n  return (\n    <Button\n      /* @info Disable the button until the request is loaded asynchronously. */\n      disabled={!request}\n      /* @end */\n      title=\"Login\"\n      onPress={() => {\n        /* @info Prompt the user to authenticate in a user interaction or web browsers will block it. */\n        promptAsync({ useProxy });\n        /* @end */\n      }}\n    />\n  );\n}\n")))),Object(r.b)("h3",{id:"uber"},"Uber"),Object(r.b)(i.a,{name:"Uber",href:"https://developer.uber.com/docs/riders/guides/authentication/introduction",mdxType:"CreateAppButton"}),Object(r.b)("table",null,Object(r.b)("thead",{parentName:"table"},Object(r.b)("tr",{parentName:"thead"},Object(r.b)("th",{parentName:"tr",align:null},"Website"),Object(r.b)("th",{parentName:"tr",align:null},"Provider"),Object(r.b)("th",{parentName:"tr",align:null},"PKCE"),Object(r.b)("th",{parentName:"tr",align:null},"Auto Discovery"))),Object(r.b)("tbody",{parentName:"table"},Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",{parentName:"tr",align:null},Object(r.b)("a",{parentName:"td",href:"https://developer.uber.com/docs/riders/guides/authentication/introduction"},"Get Your Config")),Object(r.b)("td",{parentName:"tr",align:null},"OAuth 2.0"),Object(r.b)("td",{parentName:"tr",align:null},"Supported"),Object(r.b)("td",{parentName:"tr",align:null},"Not Available")))),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},"The ",Object(r.b)("inlineCode",{parentName:"li"},"redirectUri")," requires 2 slashes (",Object(r.b)("inlineCode",{parentName:"li"},"://"),")."),Object(r.b)("li",{parentName:"ul"},Object(r.b)("inlineCode",{parentName:"li"},"scopes")," can be difficult to get approved.")),Object(r.b)(s.b,{tabs:["Auth Code","Implicit Flow"],mdxType:"Tabs"},Object(r.b)(s.a,{mdxType:"Tab"},Object(r.b)("pre",null,Object(r.b)("code",{parentName:"pre",className:"language-tsx"},"import * as React from 'react';\nimport * as WebBrowser from 'expo-web-browser';\nimport { makeRedirectUri, useAuthRequest } from 'expo-auth-session';\nimport { Button } from 'react-native';\n\n/* @info <strong>Web only:</strong> This method should be invoked on the page that the auth popup gets redirected to on web, it'll ensure that authentication is completed properly. On native this does nothing. */\nWebBrowser.maybeCompleteAuthSession();\n/* @end */\n\n// Endpoint\nconst discovery = {\n  authorizationEndpoint: 'https://login.uber.com/oauth/v2/authorize',\n  tokenEndpoint: 'https://login.uber.com/oauth/v2/token',\n  revocationEndpoint: 'https://login.uber.com/oauth/v2/revoke',\n};\n\nexport default function App() {\n  const [request, response, promptAsync] = useAuthRequest(\n    {\n      clientId: 'CLIENT_ID',\n      scopes: ['profile', 'delivery'],\n      redirectUri: makeRedirectUri({\n        /* @info The URI <code>[scheme]://</code> to be used in bare and standalone. If undefined, the <code>scheme</code> property of your app.json or app.config.js will be used instead. */\n        scheme: 'your.app'\n        /* @end */\n      }),\n    },\n    discovery\n  );\n\n  React.useEffect(() => {\n    if (response?.type === 'success') {\n      /* @info Exchange the code for an access token in a server. Alternatively you can use the <b>Implicit</b> auth method. */\n      const { code } = response.params;\n      /* @end */\n    }\n  }, [response]);\n\n  return (\n    <Button\n      /* @info Disable the button until the request is loaded asynchronously. */\n      disabled={!request}\n      /* @end */\n      title=\"Login\"\n      onPress={() => {\n        /* @info Prompt the user to authenticate in a user interaction or web browsers will block it. */\n        promptAsync();\n        /* @end */\n      }}\n    />\n  );\n}\n"))),Object(r.b)(s.a,{mdxType:"Tab"},Object(r.b)("pre",null,Object(r.b)("code",{parentName:"pre",className:"language-tsx"},"import * as React from 'react';\nimport * as WebBrowser from 'expo-web-browser';\nimport { makeRedirectUri, ResponseType, useAuthRequest } from 'expo-auth-session';\nimport { Button } from 'react-native';\n\n/* @info <strong>Web only:</strong> This method should be invoked on the page that the auth popup gets redirected to on web, it'll ensure that authentication is completed properly. On native this does nothing. */\nWebBrowser.maybeCompleteAuthSession();\n/* @end */\n\n// Endpoint\nconst discovery = {\n  authorizationEndpoint: 'https://login.uber.com/oauth/v2/authorize',\n  tokenEndpoint: 'https://login.uber.com/oauth/v2/token',\n  revocationEndpoint: 'https://login.uber.com/oauth/v2/revoke',\n};\n\nexport default function App() {\n  const [request, response, promptAsync] = useAuthRequest(\n    {\n      /* @info Request that the server returns an <code>access_token</code>, not all providers support this. */\n      responseType: ResponseType.Token,\n      /* @end */\n      clientId: 'CLIENT_ID',\n      scopes: ['profile', 'delivery'],\n      redirectUri: makeRedirectUri({\n        /* @info The URI <code>[scheme]://</code> to be used in bare and standalone. If undefined, the <code>scheme</code> property of your app.json or app.config.js will be used instead. */\n        scheme: 'your.app'\n        /* @end */\n      }),\n    },\n    discovery\n  );\n\n  React.useEffect(() => {\n    if (response?.type === 'success') {\n      /* @info Use this access token to interact with user data on the provider's server. */\n      const { access_token } = response.params;\n      /* @end */\n    }\n  }, [response]);\n\n  return (\n    <Button\n      /* @info Disable the button until the request is loaded asynchronously. */\n      disabled={!request}\n      /* @end */\n      title=\"Login\"\n      onPress={() => {\n        /* @info Prompt the user to authenticate in a user interaction or web browsers will block it. */\n        promptAsync();\n        /* @end */\n      }}\n    />\n  );\n}\n")))),Object(r.b)("h2",{id:"redirect-uri-patterns"},"Redirect URI patterns"),Object(r.b)("p",null,"Here are a few examples of some common redirect URI patterns you may end up using."),Object(r.b)("h4",{id:"expo-proxy"},"Expo Proxy"),Object(r.b)("blockquote",null,Object(r.b)("p",{parentName:"blockquote"},Object(r.b)("inlineCode",{parentName:"p"},"https://auth.expo.io/@yourname/your-app"))),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},Object(r.b)("strong",{parentName:"li"},"Environment:")," Development or production projects in Expo Go, or in a standalone build."),Object(r.b)("li",{parentName:"ul"},Object(r.b)("strong",{parentName:"li"},"Create:")," Use ",Object(r.b)("inlineCode",{parentName:"li"},"AuthSession.makeRedirectUri({ useProxy: true })")," to create this URI.",Object(r.b)("ul",{parentName:"li"},Object(r.b)("li",{parentName:"ul"},"The link is constructed from your Expo username and the Expo app name, which are appended to the proxy website."),Object(r.b)("li",{parentName:"ul"},"For custom apps, you'll need to rebuild the native app if you change users or if you reassign your ",Object(r.b)("inlineCode",{parentName:"li"},"slug"),", or ",Object(r.b)("inlineCode",{parentName:"li"},"owner")," properties in the app.json. We highly recommend ",Object(r.b)("strong",{parentName:"li"},"not")," using the proxy in custom apps (standalone, bare, custom)."))),Object(r.b)("li",{parentName:"ul"},Object(r.b)("strong",{parentName:"li"},"Usage:")," ",Object(r.b)("inlineCode",{parentName:"li"},"promptAsync({ useProxy: true, redirectUri })"))),Object(r.b)("h4",{id:"published-project-in-the-expo-go-app"},"Published project in the Expo Go app"),Object(r.b)("blockquote",null,Object(r.b)("p",{parentName:"blockquote"},Object(r.b)("inlineCode",{parentName:"p"},"exp://exp.host/@yourname/your-app"))),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},Object(r.b)("strong",{parentName:"li"},"Environment:")," Production projects that you ",Object(r.b)("inlineCode",{parentName:"li"},"expo publish"),"'d and opened in the Expo Go app."),Object(r.b)("li",{parentName:"ul"},Object(r.b)("strong",{parentName:"li"},"Create:")," Use ",Object(r.b)("inlineCode",{parentName:"li"},"AuthSession.makeRedirectUri({ useProxy: false })")," to create this URI.",Object(r.b)("ul",{parentName:"li"},Object(r.b)("li",{parentName:"ul"},"The link is constructed from your Expo username and the Expo app name, which are appended to the Expo Go app URI scheme."),Object(r.b)("li",{parentName:"ul"},"You could also create this link with using ",Object(r.b)("inlineCode",{parentName:"li"},"Linking.makeUrl()")," from ",Object(r.b)("inlineCode",{parentName:"li"},"expo-linking"),"."))),Object(r.b)("li",{parentName:"ul"},Object(r.b)("strong",{parentName:"li"},"Usage:")," ",Object(r.b)("inlineCode",{parentName:"li"},"promptAsync({ redirectUri })"))),Object(r.b)("h4",{id:"development-project-in-the-expo-go-app"},"Development project in the Expo Go app"),Object(r.b)("blockquote",null,Object(r.b)("p",{parentName:"blockquote"},Object(r.b)("inlineCode",{parentName:"p"},"exp://localhost:19000"))),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},Object(r.b)("strong",{parentName:"li"},"Environment:")," Development projects in the Expo Go app when you run ",Object(r.b)("inlineCode",{parentName:"li"},"expo start"),"."),Object(r.b)("li",{parentName:"ul"},Object(r.b)("strong",{parentName:"li"},"Create:")," Use ",Object(r.b)("inlineCode",{parentName:"li"},"AuthSession.makeRedirectUri({ useProxy: false })")," to create this URI.",Object(r.b)("ul",{parentName:"li"},Object(r.b)("li",{parentName:"ul"},"This link is built from your Expo server's ",Object(r.b)("inlineCode",{parentName:"li"},"port")," + ",Object(r.b)("inlineCode",{parentName:"li"},"host"),"."),Object(r.b)("li",{parentName:"ul"},"You could also create this link with using ",Object(r.b)("inlineCode",{parentName:"li"},"Linking.makeUrl()")," from ",Object(r.b)("inlineCode",{parentName:"li"},"expo-linking"),"."))),Object(r.b)("li",{parentName:"ul"},Object(r.b)("strong",{parentName:"li"},"Usage:")," ",Object(r.b)("inlineCode",{parentName:"li"},"promptAsync({ redirectUri })"))),Object(r.b)("h4",{id:"standalone-and-bare"},"Standalone and Bare"),Object(r.b)("blockquote",null,Object(r.b)("p",{parentName:"blockquote"},Object(r.b)("inlineCode",{parentName:"p"},"yourscheme://path"))),Object(r.b)("p",null,"In some cases there will be anywhere between 1 to 3 slashes (",Object(r.b)("inlineCode",{parentName:"p"},"/"),")."),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},Object(r.b)("p",{parentName:"li"},Object(r.b)("strong",{parentName:"p"},"Environment:")),Object(r.b)("ul",{parentName:"li"},Object(r.b)("li",{parentName:"ul"},"Bare workflow",Object(r.b)("ul",{parentName:"li"},Object(r.b)("li",{parentName:"ul"},Object(r.b)("inlineCode",{parentName:"li"},"npx create-react-native-app")," or ",Object(r.b)("inlineCode",{parentName:"li"},"expo eject")))),Object(r.b)("li",{parentName:"ul"},"Standalone builds in the App or Play Store",Object(r.b)("ul",{parentName:"li"},Object(r.b)("li",{parentName:"ul"},Object(r.b)("inlineCode",{parentName:"li"},"expo build:ios")," or ",Object(r.b)("inlineCode",{parentName:"li"},"expo build:android")))),Object(r.b)("li",{parentName:"ul"},"Standalone builds for local testing",Object(r.b)("ul",{parentName:"li"},Object(r.b)("li",{parentName:"ul"},Object(r.b)("inlineCode",{parentName:"li"},"expo build:ios -t simulator")," or ",Object(r.b)("inlineCode",{parentName:"li"},"expo build:android -t apk")))))),Object(r.b)("li",{parentName:"ul"},Object(r.b)("p",{parentName:"li"},Object(r.b)("strong",{parentName:"p"},"Create:")," Use ",Object(r.b)("inlineCode",{parentName:"p"},"AuthSession.makeRedirectUri({ native: '<YOUR_URI>' })")," to select native when running in the correct environment."),Object(r.b)("ul",{parentName:"li"},Object(r.b)("li",{parentName:"ul"},Object(r.b)("inlineCode",{parentName:"li"},"your.app://redirect")," -> ",Object(r.b)("inlineCode",{parentName:"li"},"makeRedirectUri({ scheme: 'your.app', path: 'redirect' })")),Object(r.b)("li",{parentName:"ul"},Object(r.b)("inlineCode",{parentName:"li"},"your.app:///")," -> ",Object(r.b)("inlineCode",{parentName:"li"},"makeRedirectUri({ scheme: 'your.app', isTripleSlashed: true })")),Object(r.b)("li",{parentName:"ul"},Object(r.b)("inlineCode",{parentName:"li"},"your.app:/authorize")," -> ",Object(r.b)("inlineCode",{parentName:"li"},"makeRedirectUri({ native: 'your.app:/authorize' })")),Object(r.b)("li",{parentName:"ul"},Object(r.b)("inlineCode",{parentName:"li"},"your.app://auth?foo=bar")," -> ",Object(r.b)("inlineCode",{parentName:"li"},"makeRedirectUri({ scheme: 'your.app', path: 'auth', queryParams: { foo: 'bar' } })")),Object(r.b)("li",{parentName:"ul"},Object(r.b)("inlineCode",{parentName:"li"},"exp://exp.host/@yourname/your-app")," -> ",Object(r.b)("inlineCode",{parentName:"li"},"makeRedirectUri({ useProxy: true })")),Object(r.b)("li",{parentName:"ul"},"This link can often be created automatically but we recommend you define the ",Object(r.b)("inlineCode",{parentName:"li"},"scheme")," property at least. The entire URL can be overridden in custom apps by passing the ",Object(r.b)("inlineCode",{parentName:"li"},"native")," property. Often this will be used for providers like Google or Okta which require you to use a custom native URI redirect. You can add, list, and open URI schemes using ",Object(r.b)("inlineCode",{parentName:"li"},"npx uri-scheme"),"."),Object(r.b)("li",{parentName:"ul"},"If you change the ",Object(r.b)("inlineCode",{parentName:"li"},"expo.scheme")," after ejecting then you'll need to use the ",Object(r.b)("inlineCode",{parentName:"li"},"expo apply")," command to apply the changes to your native project, then rebuild them (",Object(r.b)("inlineCode",{parentName:"li"},"yarn ios"),", ",Object(r.b)("inlineCode",{parentName:"li"},"yarn android"),")."))),Object(r.b)("li",{parentName:"ul"},Object(r.b)("p",{parentName:"li"},Object(r.b)("strong",{parentName:"p"},"Usage:")," ",Object(r.b)("inlineCode",{parentName:"p"},"promptAsync({ redirectUri })")))),Object(r.b)("h2",{id:"improving-user-experience"},"Improving User Experience"),Object(r.b)("p",null,'The "login flow" is an important thing to get right, in a lot of cases this is where the user will ',Object(r.b)("em",{parentName:"p"},"commit")," to using your app again. A bad experience can cause users to give up on your app before they've really gotten to use it."),Object(r.b)("p",null,"Here are a few tips you can use to make authentication quick, easy, and secure for your users!"),Object(r.b)("h3",{id:"warming-the-browser"},"Warming the browser"),Object(r.b)("p",null,"On Android you can optionally warm up the web browser before it's used. This allows the browser app to pre-initialize itself in the background. Doing this can significantly speed up prompting the user for authentication."),Object(r.b)("pre",null,Object(r.b)("code",{parentName:"pre",className:"language-tsx"},"import * as React from 'react';\nimport * as WebBrowser from 'expo-web-browser';\n\nfunction App() {\n  React.useEffect(() => {\n    /* @info <strong>Android only:</strong> Start loading the default browser app in the background to improve transition time. */\n    WebBrowser.warmUpAsync();\n    /* @end */\n\n    return () => {\n      /* @info <strong>Android only:</strong> Cool down the browser when the component unmounts to help improve memory on low-end Android devices. */\n      WebBrowser.coolDownAsync();\n      /* @end */\n    };\n  }, []);\n\n  // Do authentication ...\n}\n")),Object(r.b)("h3",{id:"implicit-login"},"Implicit login"),Object(r.b)("p",null,'You should never store your client secret locally in your bundle because there\'s no secure way to do this. Luckily a lot of providers have an "Implicit flow" which enables you to request an access token without the client secret. By default ',Object(r.b)("inlineCode",{parentName:"p"},"expo-auth-session")," requests an exchange code as this is the most widely applicable login method."),Object(r.b)("p",null,"Here is an example of logging into Spotify without using a client secret."),Object(r.b)("pre",null,Object(r.b)("code",{parentName:"pre",className:"language-tsx"},"import * as React from 'react';\nimport * as WebBrowser from 'expo-web-browser';\nimport { makeRedirectUri, useAuthRequest, ResponseType } from 'expo-auth-session';\n\n/* @info <strong>Web only:</strong> This method should be invoked on the page that the auth popup gets redirected to on web, it'll ensure that authentication is completed properly. On native this does nothing. */\nWebBrowser.maybeCompleteAuthSession();\n/* @end */\n\n// Endpoint\nconst discovery = {\n  authorizationEndpoint: 'https://accounts.spotify.com/authorize',\n};\n\nfunction App() {\n  const [request, response, promptAsync] = useAuthRequest(\n    {\n      /* @info Request that the server returns an <code>access_token</code>, not all providers support this. */\n      responseType: ResponseType.Token,\n      /* @end */\n      clientId: 'CLIENT_ID',\n      scopes: ['user-read-email', 'playlist-modify-public'],\n      redirectUri: makeRedirectUri({\n        /* @info The URI <code>[scheme]://</code> to be used in bare and standalone. If undefined, the <code>scheme</code> property of your app.json or app.config.js will be used instead. */\n        scheme: 'your.app'\n        /* @end */\n      }),\n    },\n    discovery\n  );\n\n  React.useEffect(() => {\n    if (response && response.type === 'success') {\n      /* @info You can use this access token to make calls into the Spotify API. */\n      const token = response.params.access_token;\n      /* @end */\n    }\n  }, [response]);\n\n  return <Button disabled={!request} onPress={() => promptAsync()} title=\"Login\" />;\n}\n")),Object(r.b)("h3",{id:"storing-data"},"Storing data"),Object(r.b)("p",null,"On native platforms like iOS, and Android you can secure things like access tokens locally using a package called ",Object(r.b)("a",{parentName:"p",href:"/../../../../../../versions/latest/sdk/securestore"},Object(r.b)("inlineCode",{parentName:"a"},"expo-secure-store"))," (This is different to ",Object(r.b)("inlineCode",{parentName:"p"},"AsyncStorage")," which is not secure). This package provides native access to ",Object(r.b)("a",{parentName:"p",href:"https://developer.apple.com/documentation/security/keychain_services"},"keychain services")," on iOS and encrypted ",Object(r.b)("a",{parentName:"p",href:"https://developer.android.com/training/basics/data-storage/shared-preferences.html"},Object(r.b)("inlineCode",{parentName:"a"},"SharedPreferences"))," on Android. There is no web equivalent to this functionality."),Object(r.b)("p",null,"You can store your authentication results and rehydrate them later to avoid having to prompt the user to login again."),Object(r.b)("pre",null,Object(r.b)("code",{parentName:"pre",className:"language-tsx"},"import * as SecureStore from 'expo-secure-store';\n\nconst MY_SECURE_AUTH_STATE_KEY = 'MySecureAuthStateKey';\n\nfunction App() {\n  const [, response] = useAuthRequest({});\n\n  React.useEffect(() => {\n    if (response && response.type === 'success') {\n      const auth = response.params;\n      const storageValue = JSON.stringify(auth);\n\n      if (Platform.OS !== 'web') {\n        // Securely store the auth on your device\n        SecureStore.setItemAsync(MY_SECURE_AUTH_STATE_KEY, storageValue);\n      }\n    }\n  }, [response]);\n\n  // More login code...\n}\n")))}u.isMDXComponent=!0},I0q5:function(e,t,n){"use strict";n.d(t,"a",(function(){return y}));var o=n("z7pX"),a=n("H+61"),r=n("UlJF"),i=n("+Css"),s=n("7LId"),p=n("VIvw"),l=n("iHvq"),c=n("cpVT"),b=n("q1tI"),u=n("ufKf"),d=n("3zh3"),m=n("AeFk"),h=function(e){var t=e.size,n=void 0===t?24:t,o=e.stroke,a=void 0===o?d.palette.dark.white:o;return Object(m.c)("svg",{"aria-label":"check",width:n,height:n,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Object(m.c)("path",{d:"M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6m4-3h6v6m-11 5L21 3",stroke:a,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}))},O=n("5BX9");function j(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=Object(l.a)(e);if(t){var a=Object(l.a)(this).constructor;n=Reflect.construct(o,arguments,a)}else n=o.apply(this,arguments);return Object(p.a)(this,n)}}var f="v".concat(n("kiQV").version),y=function(e){Object(s.a)(n,e);var t=j(n);function n(){var e;Object(a.a)(this,n);for(var r=arguments.length,s=new Array(r),p=0;p<r;p++)s[p]=arguments[p];return e=t.call.apply(t,[this].concat(s)),Object(c.a)(Object(i.a)(e),"contentRef",b.createRef()),Object(c.a)(Object(i.a)(e),"state",{ready:!1}),Object(c.a)(Object(i.a)(e),"getSelectedDocsVersion",(function(){var t=e.context.version;return"latest"===t?f:t})),Object(c.a)(Object(i.a)(e),"getSnackSdkVersion",(function(){var t=e.getSelectedDocsVersion();return"unversioned"===t&&(t=f),t.replace("v","")})),Object(c.a)(Object(i.a)(e),"getExamplesPath",(function(){return"".concat(document.location.origin,"/static/examples/").concat(e.getSelectedDocsVersion())})),Object(c.a)(Object(i.a)(e),"getDependencies",(function(){return Object(o.a)(e.props.dependencies).join(",")})),Object(c.a)(Object(i.a)(e),"getCode",(function(){return(e.contentRef.current&&e.contentRef.current.textContent||"").replace(/%%placeholder-start%%.*%%placeholder-end%%/g,"")})),e}return Object(r.a)(n,[{key:"componentDidMount",value:function(){this.setState({ready:!0})}},{key:"render",value:function(){return Object(m.c)("div",null,Object(m.c)("div",{ref:this.contentRef,style:this.props.contentHidden?{display:"none"}:void 0},this.props.children),Object(m.c)("form",{action:u.a,method:"POST",target:"_blank"},Object(m.c)("input",{type:"hidden",name:"platform",value:this.props.defaultPlatform||"android"}),Object(m.c)("input",{type:"hidden",name:"name",value:this.props.label||"Example"}),Object(m.c)("input",{type:"hidden",name:"dependencies",value:this.getDependencies()}),Object(m.c)("input",{type:"hidden",name:"sdkVersion",value:this.getSnackSdkVersion()}),this.props.platforms&&Object(m.c)("input",{type:"hidden",name:"supportedPlatforms",value:this.props.platforms.join(",")}),this.state.ready&&Object(m.c)("input",{type:"hidden",name:"files",value:JSON.stringify(Object(u.b)({templateId:this.props.templateId,code:this.getCode(),files:this.props.files,baseURL:this.getExamplesPath()}))}),Object(m.c)("button",{className:"snack-inline-example-button",disabled:!this.state.ready},Object(m.c)(h,{size:16})," ",this.props.buttonTitle||"Try this example on Snack")))}}]),n}(b.Component);Object(c.a)(y,"contextType",O.a),Object(c.a)(y,"defaultProps",{dependencies:[]})},K6fk:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return p})),n.d(t,"c",(function(){return l}));var o=n("3zh3"),a=(n("q1tI"),n("AeFk"));var r={name:"16147hq",styles:"text-decoration:none;transition:box-shadow 0.15s ease 0s,transform 0.15s ease 0s,-webkit-box-shadow 0.15s ease 0s,-webkit-transform 0.15s ease 0s;box-shadow:rgba(2, 8, 20, 0.1) 0px 0.175em 0.5em,rgba(2, 8, 20, 0.08) 0px 0.085em 0.175em;.protocol{opacity:0;transform:translateY(4px);}:hover{box-shadow:rgba(2, 8, 20, 0.1) 0px 0.35em 1.175em,rgba(2, 8, 20, 0.08) 0px 0.175em 0.5em;transform:scale(1.05);.protocol{opacity:0.6;transform:translateY(0px);}}"},i={name:"1lv1yo7",styles:"display:inline-flex"},s=function(e){var t=e.href,n=e.name;return Object(a.c)("a",{css:i,className:"snack-inline-example-button",href:t,target:"_blank",rel:"noreferrer"},"Create ",n," App")},p=function(e){var t=e.children;return Object(a.c)("div",{style:{gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gridTemplateRows:"1fr",display:"grid",gap:"1.35rem"}},t)},l=function(e){var t=e.title,n=e.protocol,i=void 0===n?[]:n,s=e.image,p=e.href;return Object(a.c)("a",{href:p,css:r,style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",padding:"1.65em 2em",gap:"1.35rem",textDecoration:"none",background:o.theme.background.secondary,borderRadius:4}},Object(a.c)("img",{style:{width:56,height:56,marginBottom:"1.2em"},alt:t,src:s}),Object(a.c)("p",{style:{color:o.theme.text.default,fontSize:"1.2em",fontWeight:900,textAlign:"center"}},t),(i||[]).length&&Object(a.c)("p",{className:"protocol",style:{transitionProperty:"all",transitionDuration:"0.15s",marginTop:"0.4em",color:o.theme.text.default,fontSize:"0.9em",fontWeight:400,textAlign:"center"}},i.join(" | ")))}},cpVT:function(e,t,n){"use strict";function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",(function(){return o}))},kiQV:function(e){e.exports=JSON.parse('{"name":"expo-docs","version":"44.0.0","private":true,"scripts":{"dev":"rimraf .next/preval && next dev -p 3002","build":"cross-env NODE_OPTIONS=--max-old-space-size=8192 next build","export":"yarn run build && next export && yarn run export-issue-404","export-issue-404":"echo \\"\ud83d\udee0  Patching https://github.com/vercel/next.js/issues/16528\\"; cp out/404/index.html out/404.html","export-server":"http-server out -p 8000","import-react-native-docs":"node ./scripts/import-react-native-docs.js","test-links":"node --async-stack-traces --unhandled-rejections=strict ./scripts/test-links.js","prettier":"prettier --write \'**/*.{js,ts,tsx,md}\'","lint":"tsc --noEmit && eslint .","lint-links":"remark -u validate-links ./pages","watch":"tsc --noEmit -w","test":"jest","schema-sync":"node --async-stack-traces --unhandled-rejections=strict ./scripts/schema-sync.js","remove-version":"node --unhandled-rejections=strict ./scripts/remove-version.js"},"resolutions":{"webpack":"^5.28.0"},"dependencies":{"@emotion/react":"^11.4.0","@expo/spawn-async":"^1.5.0","@expo/styleguide":"^4.0.1","@mdx-js/loader":"^1.6.22","@mdx-js/mdx":"^1.6.22","@mdx-js/react":"^1.6.22","@mdx-js/runtime":"^1.6.22","@reach/tabs":"^0.15.0","@sentry/browser":"^5.6.1","date-fns":"^2.28.0","docsearch.js":"^2.5.2","emoji-regex":"^9.2.2","front-matter":"^2.3.0","fs-extra":"^6.0.1","github-slugger":"^1.3.0","hotshot":"^1.0.5","lodash":"^4.17.20","next":"^11.1.4","nprogress":"0.2.0","path-browserify":"^1.0.1","prism-react-renderer":"1.0.2","prop-types":"15.7.2","react":"^17.0.2","react-diff-view":"^2.4.7","react-dom":"^17.0.2","react-feather":"^2.0.9","react-markdown":"^6.0.3","react-player":"^1.11.1","react-visibility-sensor":"^5.1.1","remark-gfm":"^1.0.0","tippy.js":"^6.3.1"},"devDependencies":{"@apidevtools/json-schema-ref-parser":"^9.0.9","@babel/core":"^7.13.14","@emotion/babel-preset-css-prop":"^11.2.0","@emotion/jest":"^11.7.1","@testing-library/jest-dom":"5.11.0","@testing-library/react":"10.4.3","@testing-library/react-hooks":"^7.0.2","@types/cacache":"^15.0.1","@types/fs-extra":"^9.0.11","@types/github-slugger":"^1.3.0","@types/google.analytics":"^0.0.41","@types/gtag.js":"^0.0.6","@types/lodash":"^4.14.161","@types/long":"^4.0.1","@types/mdx-js__react":"^1.5.3","@types/node":"^14.11.2","@types/nprogress":"^0.2.0","@types/react":"^17.0.11","axios":"^0.21.2","babel-plugin-module-resolver":"3.1.1","babel-plugin-preval":"^3.0.1","cross-env":"^5.2.0","danger":"^9.2.10","esbuild-loader":"^2.13.1","eslint":"^8.6.0","eslint-config-next":"^10.2.3","eslint-config-universe":"^10.0.0","eslint-plugin-lodash":"^7.3.0","http-server":"^0.12.3","jest":"^27.4.7","js-yaml":"^4.1.0","prettier":"^2.3.1","puppeteer":"^10.2.0","react-test-renderer":"^17.0.2","rehype-slug":"^4.0.1","remark-cli":"^9.0.0","remark-frontmatter":"^2.0.0","remark-validate-links":"^10.0.4","rimraf":"^3.0.2","semver":"^7.3.5","sitemap":"^6.3.0","typescript":"^4.5.4","unist-builder":"^2.0.0","unist-util-visit":"^2.0.3"}}')},ufKf:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return a}));var o="https://snack.expo.dev";function a(e){var t=e.templateId,n=e.code,o=e.files,a=e.baseURL,r={};return o&&Object.keys(o).forEach((function(e){var t=o[e],n=/\.(jsx?|tsx?|json|md)$/i.test(e);r[e]=n?{type:"CODE",url:t.match(/^https?:\/\//)?t:"".concat(a,"/").concat(t)}:{type:"ASSET",contents:t}})),t?r["App.js"]={type:"CODE",url:"".concat(a,"/").concat(t,".js")}:n&&(r["App.js"]={type:"CODE",contents:n}),r}},z7pX:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var o=n("6FTQ");var a=n("8rE2");function r(e){return function(e){if(Array.isArray(e))return Object(o.a)(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Object(a.a)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}}},[["7M5e",1,0,2,3,4,5,6,23]]]);