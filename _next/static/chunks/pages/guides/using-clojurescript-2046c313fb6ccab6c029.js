_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[167],{"7ljp":function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return m}));var o=n("q1tI"),r=n.n(o);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t){if(null==e)return{};var n,o,r=function(e,t){if(null==e)return{};var n,o,r={},a=Object.keys(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var c=r.a.createContext({}),u=function(e){var t=r.a.useContext(c),n=t;return e&&(n="function"===typeof e?e(t):l(l({},t),e)),n},s=function(e){var t=u(e.components);return r.a.createElement(c.Provider,{value:t},e.children)},b={inlineCode:"code",wrapper:function(e){var t=e.children;return r.a.createElement(r.a.Fragment,{},t)}},d=r.a.forwardRef((function(e,t){var n=e.components,o=e.mdxType,a=e.originalType,i=e.parentName,c=p(e,["components","mdxType","originalType","parentName"]),s=u(n),d=o,m=s["".concat(i,".").concat(d)]||s[d]||b[d]||a;return n?r.a.createElement(m,l(l({ref:t},c),{},{components:n})):r.a.createElement(m,l({ref:t},c))}));function m(e,t){var n=arguments,o=t&&t.mdxType;if("string"===typeof e||o){var a=n.length,i=new Array(a);i[0]=d;var l={};for(var p in t)hasOwnProperty.call(t,p)&&(l[p]=t[p]);l.originalType=e,l.mdxType="string"===typeof e?e:o,i[1]=l;for(var c=2;c<a;c++)i[c]=n[c];return r.a.createElement.apply(null,i)}return r.a.createElement.apply(null,n)}d.displayName="MDXCreateElement"},"9uxj":function(e,t,n){"use strict";n.r(t),n.d(t,"meta",(function(){return l})),n.d(t,"headings",(function(){return p})),n.d(t,"default",(function(){return u}));var o=n("HALo"),r=n("dhJC"),a=(n("q1tI"),n("7ljp")),i=["components"],l={title:"Using ClojureScript",old_permalink:"/versions/v12.0.0/guides/using-clojurescript.html",previous___FILE:"./upgrading-expo.md",next___FILE:"./using-firebase.md"},p=[{depth:2,type:"text",title:"Quickstart"},{depth:2,type:"text",title:"Why ClojureScript?"},{depth:2,type:"text",title:"Why on Expo?"},{depth:2,type:"text",title:"1. Create an Expo project"},{depth:2,type:"text",title:"2. Connect to a REPL"},{depth:3,type:"text",title:"CLI REPL"},{depth:3,type:"text",title:"Emacs REPL"},{depth:3,type:"link",title:"  REPL"},{depth:2,type:"text",title:"3. Start Expo server"},{depth:3,type:"text",title:"Using Expo CLI"},{depth:2,type:"text",title:"4. Publish your app"},{depth:2,type:"text",title:"FAQ"},{depth:3,type:"text",title:"How do I add custom native modules?"},{depth:3,type:"text",title:"Does it support Google Closure advanced compilation?"},{depth:3,type:"text",title:"Does it support source maps?"},{depth:3,type:"text",title:"Can I use npm modules?"},{depth:3,type:"text",title:"Do I need to restart the REPL after adding new JavaScript modules or assets?"},{depth:3,type:"text",title:"Will it support Boot?"}],c={meta:l,headings:p};function u(e){var t=e.components,n=Object(r.a)(e,i);return Object(a.b)("wrapper",Object(o.a)({},c,n,{components:t,mdxType:"MDXLayout"}),Object(a.b)("blockquote",null,Object(a.b)("p",{parentName:"blockquote"},Object(a.b)("strong",{parentName:"p"},"Note:")," ClojureScript is not officially supported by the Expo team, this guide was written by ",Object(a.b)("a",{parentName:"p",href:"https://github.com/tiensonqin"},"@tiensonqin"),"!")),Object(a.b)("h2",{id:"quickstart"},"Quickstart"),Object(a.b)("p",null,"If you're already convinced about ClojureScript and Expo and know what to do once you have figwheel running, you can just read this section. Otherwise, we encourage you to read the entire guide."),Object(a.b)("pre",null,Object(a.b)("code",{parentName:"pre",className:"language-sh"},"lein new expo your-project\n\ncd your-project && yarn install\n\nlein figwheel\n\n# Now in a new tab, open the project in a simulator\nexpo start --ios\n")),Object(a.b)("h2",{id:"why-clojurescript"},"Why ClojureScript?"),Object(a.b)("ul",null,Object(a.b)("li",{parentName:"ul"},"First-class immutable data structures"),Object(a.b)("li",{parentName:"ul"},"Minimizing state and side-effects"),Object(a.b)("li",{parentName:"ul"},"Practicality and pragmatism are always core values of ClojureScript"),Object(a.b)("li",{parentName:"ul"},"Lisp!"),Object(a.b)("li",{parentName:"ul"},"Great JavaScript interoperability")),Object(a.b)("h2",{id:"why-on-expo"},"Why on Expo?"),Object(a.b)("p",null,"It all begins with a ",Object(a.b)("a",{parentName:"p",href:"https://www.infoq.com/presentations/Simple-Made-Easy"},"Simple Made Easy")," design choice: ",Object(a.b)("strong",{parentName:"p"},"you don't write native code"),"."),Object(a.b)("ul",null,Object(a.b)("li",{parentName:"ul"},"You only write ClojureScript or JavaScript."),Object(a.b)("li",{parentName:"ul"},"You don't have to install or use Xcode or Android Studio or deal with any of the platform specific configuration and project files."),Object(a.b)("li",{parentName:"ul"},"Much easier to upgrade when there is no native code involved -- React Native JavaScript APIs are relatively stable compared to the native side. Expo will take care of upgrading the native modules and React Native versions, you only need to upgrade your ClojureScript or JavaScript code."),Object(a.b)("li",{parentName:"ul"},"You can write iOS apps on Linux or Windows (provided that you have an iPhone to test it with)."),Object(a.b)("li",{parentName:"ul"},"It's dead simple to continually share your apps. Once you published your app, you got a link. It is up to you to share the link.")),Object(a.b)("h2",{id:"1-create-an-expo-project"},"1. Create an Expo project"),Object(a.b)("pre",null,Object(a.b)("code",{parentName:"pre",className:"language-sh"},"# Default to use Reagent / Re-frame\nlein new expo your-project\n\n# Or Om Next\nlein new expo your-project +om\n\ncd your-project && yarn install\n")),Object(a.b)("h2",{id:"2-connect-to-a-repl"},"2. Connect to a REPL"),Object(a.b)("h3",{id:"cli-repl"},"CLI REPL"),Object(a.b)("pre",null,Object(a.b)("code",{parentName:"pre",className:"language-sh"},"lein figwheel\n")),Object(a.b)("h3",{id:"emacs-repl"},"Emacs REPL"),Object(a.b)("ol",null,Object(a.b)("li",{parentName:"ol"},"Invoke cider-jack-in."),Object(a.b)("li",{parentName:"ol"},"Run ",Object(a.b)("inlineCode",{parentName:"li"},"(start-figwheel)")," in the connected REPL.")),Object(a.b)("h3",{id:"cursive-repl"},Object(a.b)("a",{parentName:"h3",href:"https://cursive-ide.com/"},"Cursive")," REPL"),Object(a.b)("p",null,"The first time you connect to the repl, you'll need to create a Leiningen nREPL Configuration unless you have one already."),Object(a.b)("ol",null,Object(a.b)("li",{parentName:"ol"},"Click ",Object(a.b)("inlineCode",{parentName:"li"},"Run->Edit")," configurations."),Object(a.b)("li",{parentName:"ol"},"Click the ",Object(a.b)("inlineCode",{parentName:"li"},"+")," button at the top left and choose Clojure REPL."),Object(a.b)("li",{parentName:"ol"},"Choose a ",Object(a.b)("inlineCode",{parentName:"li"},"Local REPL"),"."),Object(a.b)("li",{parentName:"ol"},'Enter a name in the Name field (e.g. "REPL").'),Object(a.b)("li",{parentName:"ol"},"Choose the radio button ",Object(a.b)("inlineCode",{parentName:"li"},"Use nREPL with Leiningen"),"."),Object(a.b)("li",{parentName:"ol"},"Click the ",Object(a.b)("inlineCode",{parentName:"li"},"OK")," button to save your REPL config.")),Object(a.b)("p",null,"Once this is done, you can connect to the REPL."),Object(a.b)("p",null,"In Intellij make sure your REPL config is selected and click the green ",Object(a.b)("strong",{parentName:"p"},"play")," button to start your REPL."),Object(a.b)("p",null,"Run ",Object(a.b)("inlineCode",{parentName:"p"},"(start-figwheel)")," in the connected REPL."),Object(a.b)("h2",{id:"3-start-expo-server"},"3. Start Expo server"),Object(a.b)("h3",{id:"using-expo-cli"},"Using Expo CLI"),Object(a.b)("pre",null,Object(a.b)("code",{parentName:"pre",className:"language-sh"},"# Install Expo CLI if you have not already\nnpm install -g expo-cli\n\n# Connect to iOS simulator\nexpo start --ios\n\n# Or connect to Android devices or simulators\nexpo start --android\n")),Object(a.b)("p",null,"For more information, see ",Object(a.b)("a",{parentName:"p",href:"/workflow/expo-cli/"},"Expo CLI"),"."),Object(a.b)("h2",{id:"4-publish-your-app"},"4. Publish your app"),Object(a.b)("pre",null,Object(a.b)("code",{parentName:"pre",className:"language-sh"},"# Generate main.js\nlein prod-build\n\nexpo publish\n")),Object(a.b)("p",null,"This will publish your app to a persistent URL on Expo, for example: ",Object(a.b)("a",{parentName:"p",href:"https://expo.dev/@community/startr"},"https://expo.dev/@community/startr")),Object(a.b)("h2",{id:"faq"},"FAQ"),Object(a.b)("h3",{id:"how-do-i-add-custom-native-modules"},"How do I add custom native modules?"),Object(a.b)("p",null,"See ",Object(a.b)("a",{parentName:"p",href:"/introduction/faq/#faq"},"How do I add custom native code to my Expo project?"),"."),Object(a.b)("h3",{id:"does-it-support-google-closure-advanced-compilation"},"Does it support Google Closure advanced compilation?"),Object(a.b)("p",null,"It's still experimental, but it already works for multiple projects."),Object(a.b)("h3",{id:"does-it-support-source-maps"},"Does it support source maps?"),Object(a.b)("p",null,"Yes."),Object(a.b)("h3",{id:"can-i-use-npm-modules"},"Can I use npm modules?"),Object(a.b)("p",null,"React Native uses JavaScriptCore, so modules using built-in node like stream, fs, etc wont work. Otherwise, you can just require like: ",Object(a.b)("inlineCode",{parentName:"p"},'(js/require "SomeModule")'),"."),Object(a.b)("h3",{id:"do-i-need-to-restart-the-repl-after-adding-new-javascript-modules-or-assets"},"Do I need to restart the REPL after adding new JavaScript modules or assets?"),Object(a.b)("p",null,"No, you do need to reload JavaScript. To do that, select ",Object(a.b)("strong",{parentName:"p"},"Reload")," from the Developer Menu. You can also press ",Object(a.b)("inlineCode",{parentName:"p"},"\u2318 + R")," in the iOS Simulator, or press ",Object(a.b)("inlineCode",{parentName:"p"},"R")," twice on Android emulators."),Object(a.b)("h3",{id:"will-it-support-boot"},"Will it support Boot?"),Object(a.b)("p",null,"Not currently, but we are working on it."))}u.isMDXComponent=!0},HALo:function(e,t,n){"use strict";function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}n.d(t,"a",(function(){return o}))},Qetd:function(e,t,n){"use strict";var o=Object.assign.bind(Object);e.exports=o,e.exports.default=e.exports},dhJC:function(e,t,n){"use strict";function o(e,t){if(null==e)return{};var n,o,r=function(e,t){if(null==e)return{};var n,o,r={},a=Object.keys(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}n.d(t,"a",(function(){return o}))},sdcp:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/guides/using-clojurescript",function(){return n("9uxj")}])}},[["sdcp",1,0]]]);