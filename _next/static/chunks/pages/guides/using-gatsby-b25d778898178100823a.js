_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[171],{"7ljp":function(e,t,a){"use strict";a.d(t,"a",(function(){return s})),a.d(t,"b",(function(){return j}));var n=a("q1tI"),b=a.n(n);function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function i(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function l(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?i(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function p(e,t){if(null==e)return{};var a,n,b=function(e,t){if(null==e)return{};var a,n,b={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(b[a]=e[a]);return b}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(b[a]=e[a])}return b}var o=b.a.createContext({}),c=function(e){var t=b.a.useContext(o),a=t;return e&&(a="function"===typeof e?e(t):l(l({},t),e)),a},s=function(e){var t=c(e.components);return b.a.createElement(o.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return b.a.createElement(b.a.Fragment,{},t)}},m=b.a.forwardRef((function(e,t){var a=e.components,n=e.mdxType,r=e.originalType,i=e.parentName,o=p(e,["components","mdxType","originalType","parentName"]),s=c(a),m=n,j=s["".concat(i,".").concat(m)]||s[m]||u[m]||r;return a?b.a.createElement(j,l(l({ref:t},o),{},{components:a})):b.a.createElement(j,l({ref:t},o))}));function j(e,t){var a=arguments,n=t&&t.mdxType;if("string"===typeof e||n){var r=a.length,i=new Array(r);i[0]=m;var l={};for(var p in t)hasOwnProperty.call(t,p)&&(l[p]=t[p]);l.originalType=e,l.mdxType="string"===typeof e?e:n,i[1]=l;for(var o=2;o<r;o++)i[o]=a[o];return b.a.createElement.apply(null,i)}return b.a.createElement.apply(null,a)}m.displayName="MDXCreateElement"},D3aq:function(e,t,a){"use strict";a.r(t),a.d(t,"meta",(function(){return l})),a.d(t,"headings",(function(){return p})),a.d(t,"default",(function(){return c}));var n=a("HALo"),b=a("dhJC"),r=(a("q1tI"),a("7ljp")),i=["components"],l={title:"Using Gatsby with Expo for Web",sidebar_title:"Using Gatsby"},p=[{depth:2,type:"text",title:"Example"},{depth:2,type:"text",title:"\ud83c\udfc1 Setup"},{depth:3,type:"text",title:"Expo projects with Gatsby"},{depth:3,type:"text",title:"Gatsby projects with Expo"},{depth:2,type:"text",title:"\u2328\ufe0f New Commands"},{depth:2,type:"text",title:"\ud83d\udcc1 File Structure"},{depth:2,type:"text",title:"Contributing"},{depth:2,type:"text",title:"Learn more about Gatsby"}],o={meta:l,headings:p};function c(e){var t=e.components,a=Object(b.a)(e,i);return Object(r.b)("wrapper",Object(n.a)({},o,a,{components:t,mdxType:"MDXLayout"}),Object(r.b)("blockquote",null,Object(r.b)("p",{parentName:"blockquote"},"Please open any issues related to Gatsby with Expo at ",Object(r.b)("a",{parentName:"p",href:"https://github.com/expo/expo-cli/issues"},"expo-cli/issues"),".")),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},Object(r.b)("a",{parentName:"li",href:"/guides/using-gatsby/#example"},"Example")),Object(r.b)("li",{parentName:"ul"},Object(r.b)("a",{parentName:"li",href:"/guides/using-gatsby/#-setup"},"\ud83c\udfc1 Setup"),Object(r.b)("ul",{parentName:"li"},Object(r.b)("li",{parentName:"ul"},Object(r.b)("a",{parentName:"li",href:"/guides/using-gatsby/#expo-projects-with-gatsby"},"Expo projects with Gatsby")),Object(r.b)("li",{parentName:"ul"},Object(r.b)("a",{parentName:"li",href:"/guides/using-gatsby/#gatsby-projects-with-expo"},"Gatsby projects with Expo")))),Object(r.b)("li",{parentName:"ul"},Object(r.b)("a",{parentName:"li",href:"/guides/using-gatsby/#%EF%B8%8F-new-commands"},"\u2328\ufe0f New Commands")),Object(r.b)("li",{parentName:"ul"},Object(r.b)("a",{parentName:"li",href:"/guides/using-gatsby/#-file-structure"},"\ud83d\udcc1 File Structure")),Object(r.b)("li",{parentName:"ul"},Object(r.b)("a",{parentName:"li",href:"/guides/using-gatsby/#contributing"},"Contributing")),Object(r.b)("li",{parentName:"ul"},Object(r.b)("a",{parentName:"li",href:"/guides/using-gatsby/#learn-more-about-gatsby"},"Learn more about Gatsby"))),Object(r.b)("p",null,Object(r.b)("a",{parentName:"p",href:"https://www.gatsbyjs.org/"},"Gatsby")," is a React framework that helps you perform pre-rendering on your websites.\nUsing Gatsby with Expo will enable you to ",Object(r.b)("a",{parentName:"p",href:"https://www.netlify.com/blog/2016/11/22/prerendering-explained/"},"pre-render")," the web part of your Expo app. You'll also be able to use the web-enabled Expo SDK libraries (eg: Permissions, GestureHandler, Camera) with the Gatsby toolchain!"),Object(r.b)("p",null,"This guide will show you how to use the Gatsby CLI to develop your websites with the Expo web."),Object(r.b)("h2",{id:"example"},"Example"),Object(r.b)("p",null,"If you'd like to jump right into a working project then check out ",Object(r.b)("a",{parentName:"p",href:"https://github.com/expo/examples/edit/master/with-gatsby/"},"expo/examples: with-gatsby"),"."),Object(r.b)("h2",{id:"-setup"},"\ud83c\udfc1 Setup"),Object(r.b)("p",null,"We put all of the features for Expo web in the plugin ",Object(r.b)("a",{parentName:"p",href:"https://github.com/slorber/gatsby-plugin-react-native-web"},Object(r.b)("inlineCode",{parentName:"a"},"gatsby-plugin-react-native-web"))," so setup would be as easy as possible. This guide will show you how to install and use it. Under the hood it's basically doing what ",Object(r.b)("inlineCode",{parentName:"p"},"expo start:web")," or the Expo + Next.js workflows are doing."),Object(r.b)("h3",{id:"expo-projects-with-gatsby"},"Expo projects with Gatsby"),Object(r.b)("p",null,"For using the Gatsby tools in a universal app with the Expo SDK."),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},Object(r.b)("p",{parentName:"li"},"Create a new Expo project"),Object(r.b)("ul",{parentName:"li"},Object(r.b)("li",{parentName:"ul"},"Install the CLI - ",Object(r.b)("inlineCode",{parentName:"li"},"npm install -g expo-cli")),Object(r.b)("li",{parentName:"ul"},"Bootstrap - ",Object(r.b)("inlineCode",{parentName:"li"},"expo init --template blank")))),Object(r.b)("li",{parentName:"ul"},Object(r.b)("p",{parentName:"li"},"Install Gatsby and the plugin"),Object(r.b)("ul",{parentName:"li"},Object(r.b)("li",{parentName:"ul"},Object(r.b)("strong",{parentName:"li"},"using yarn")," - ",Object(r.b)("inlineCode",{parentName:"li"},"yarn add gatsby gatsby-plugin-react-native-web")),Object(r.b)("li",{parentName:"ul"},"using npm - ",Object(r.b)("inlineCode",{parentName:"li"},"npm install --save gatsby gatsby-plugin-react-native-web")))),Object(r.b)("li",{parentName:"ul"},Object(r.b)("p",{parentName:"li"},"Create a ",Object(r.b)("inlineCode",{parentName:"p"},"gatsby-config.js")," and use the plugin - ",Object(r.b)("inlineCode",{parentName:"p"},"touch gatsby-config.js")),Object(r.b)("p",{parentName:"li"},Object(r.b)("inlineCode",{parentName:"p"},"gatsby-config.js")),Object(r.b)("pre",{parentName:"li"},Object(r.b)("code",{parentName:"pre",className:"language-js"},"module.exports = {\n  plugins: [\n    `gatsby-plugin-react-native-web`,\n    /* ... */\n  ],\n};\n"))),Object(r.b)("li",{parentName:"ul"},Object(r.b)("p",{parentName:"li"},"Add ",Object(r.b)("inlineCode",{parentName:"p"},"/.cache")," and ",Object(r.b)("inlineCode",{parentName:"p"},"/public")," to your ",Object(r.b)("inlineCode",{parentName:"p"},".gitignore"))),Object(r.b)("li",{parentName:"ul"},Object(r.b)("p",{parentName:"li"},"Run ",Object(r.b)("inlineCode",{parentName:"p"},"yarn gatsby develop")," to try it out!"),Object(r.b)("ul",{parentName:"li"},Object(r.b)("li",{parentName:"ul"},"Open the project in the browser ",Object(r.b)("inlineCode",{parentName:"li"},"http://localhost:8000/"))))),Object(r.b)("h3",{id:"gatsby-projects-with-expo"},"Gatsby projects with Expo"),Object(r.b)("p",null,"For using the Expo SDK in a web-only Gatsby project."),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},Object(r.b)("p",{parentName:"li"},"Create a new Gatsby project"),Object(r.b)("ul",{parentName:"li"},Object(r.b)("li",{parentName:"ul"},"Install the CLI - ",Object(r.b)("inlineCode",{parentName:"li"},"npm install -g gatsby-cli")),Object(r.b)("li",{parentName:"ul"},"Bootstrap - ",Object(r.b)("inlineCode",{parentName:"li"},"gatsby new gatsby-site")))),Object(r.b)("li",{parentName:"ul"},Object(r.b)("p",{parentName:"li"},"Install the plugin"),Object(r.b)("ul",{parentName:"li"},Object(r.b)("li",{parentName:"ul"},Object(r.b)("strong",{parentName:"li"},"using yarn")," - ",Object(r.b)("inlineCode",{parentName:"li"},"yarn add react-native-web gatsby-plugin-react-native-web")),Object(r.b)("li",{parentName:"ul"},"using npm - ",Object(r.b)("inlineCode",{parentName:"li"},"npm install --save react-native-web gatsby-plugin-react-native-web")))),Object(r.b)("li",{parentName:"ul"},Object(r.b)("p",{parentName:"li"},"Create a ",Object(r.b)("inlineCode",{parentName:"p"},"gatsby-config.js")," and use the plugin - ",Object(r.b)("inlineCode",{parentName:"p"},"touch gatsby-config.js")),Object(r.b)("p",{parentName:"li"},Object(r.b)("inlineCode",{parentName:"p"},"gatsby-config.js")),Object(r.b)("pre",{parentName:"li"},Object(r.b)("code",{parentName:"pre",className:"language-js"},"module.exports = {\n  plugins: [\n    `gatsby-plugin-react-native-web`,\n    /* ... */\n  ],\n};\n"))),Object(r.b)("li",{parentName:"ul"},Object(r.b)("p",{parentName:"li"},"Install the babel preset"),Object(r.b)("ul",{parentName:"li"},Object(r.b)("li",{parentName:"ul"},Object(r.b)("strong",{parentName:"li"},"using yarn")," - ",Object(r.b)("inlineCode",{parentName:"li"},"yarn add -D babel-preset-expo")),Object(r.b)("li",{parentName:"ul"},"using npm - ",Object(r.b)("inlineCode",{parentName:"li"},"npm install --save-dev babel-preset-expo")))),Object(r.b)("li",{parentName:"ul"},Object(r.b)("p",{parentName:"li"},"Create a ",Object(r.b)("strong",{parentName:"p"},"babel.config.js")," and use the Babel preset - ",Object(r.b)("inlineCode",{parentName:"p"},"touch babel.config.js")),Object(r.b)("p",{parentName:"li"},Object(r.b)("strong",{parentName:"p"},"babel.config.js")),Object(r.b)("pre",{parentName:"li"},Object(r.b)("code",{parentName:"pre",className:"language-js"},"module.exports = {\n  presets: ['babel-preset-expo'],\n};\n"))),Object(r.b)("li",{parentName:"ul"},Object(r.b)("p",{parentName:"li"},"Add ",Object(r.b)("inlineCode",{parentName:"p"},"/.expo")," and ",Object(r.b)("inlineCode",{parentName:"p"},"/web-build")," to your ",Object(r.b)("inlineCode",{parentName:"p"},".gitignore"))),Object(r.b)("li",{parentName:"ul"},Object(r.b)("p",{parentName:"li"},"Run ",Object(r.b)("inlineCode",{parentName:"p"},"yarn gatsby develop")," to try it out!")),Object(r.b)("li",{parentName:"ul"},Object(r.b)("p",{parentName:"li"},"[optional]"," You can now install other Expo modules:"),Object(r.b)("ul",{parentName:"li"},Object(r.b)("li",{parentName:"ul"},"Core packages: ",Object(r.b)("inlineCode",{parentName:"li"},"yarn add expo")),Object(r.b)("li",{parentName:"ul"},"Gestures: ",Object(r.b)("inlineCode",{parentName:"li"},"yarn add react-native-gesture-handler")),Object(r.b)("li",{parentName:"ul"},"hooks: ",Object(r.b)("inlineCode",{parentName:"li"},"yarn add react-native-web-hooks"))))),Object(r.b)("h2",{id:"\ufe0f-new-commands"},"\u2328\ufe0f New Commands"),Object(r.b)("p",null,"You'll want to use the Gatsby CLI to develop the web part of your app now. You should still use ",Object(r.b)("inlineCode",{parentName:"p"},"expo-cli")," to run on iOS, and Android."),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},Object(r.b)("p",{parentName:"li"},Object(r.b)("strong",{parentName:"p"},"Starting web")),Object(r.b)("ul",{parentName:"li"},Object(r.b)("li",{parentName:"ul"},"\ud83d\udeab ",Object(r.b)("inlineCode",{parentName:"li"},"expo start:web")),Object(r.b)("li",{parentName:"ul"},"\u2705 ",Object(r.b)("inlineCode",{parentName:"li"},"yarn gatsby develop")))),Object(r.b)("li",{parentName:"ul"},Object(r.b)("p",{parentName:"li"},Object(r.b)("strong",{parentName:"p"},"Building web")),Object(r.b)("ul",{parentName:"li"},Object(r.b)("li",{parentName:"ul"},"\ud83d\udeab ",Object(r.b)("inlineCode",{parentName:"li"},"expo build:web")),Object(r.b)("li",{parentName:"ul"},"\u2705 ",Object(r.b)("inlineCode",{parentName:"li"},"yarn gatsby build")))),Object(r.b)("li",{parentName:"ul"},Object(r.b)("p",{parentName:"li"},Object(r.b)("strong",{parentName:"p"},"Serving your static project")),Object(r.b)("ul",{parentName:"li"},Object(r.b)("li",{parentName:"ul"},"\ud83d\udeab ",Object(r.b)("inlineCode",{parentName:"li"},"serve web-build")),Object(r.b)("li",{parentName:"ul"},"\u2705 ",Object(r.b)("inlineCode",{parentName:"li"},"yarn gatsby serve"))))),Object(r.b)("h2",{id:"-file-structure"},"\ud83d\udcc1 File Structure"),Object(r.b)("p",null,"Here is the recommended file structure for a Expo project with Gatsby support."),Object(r.b)("pre",null,Object(r.b)("code",{parentName:"pre"},"Expo Gatsby\n\u251c\u2500\u2500 src\n\u2502   \u2514\u2500\u2500 pages \u27a1\ufe0f Routes\n\u2502       \u2514\u2500\u2500 index.tsx \u27a1\ufe0f Entry Point for Gatsby\n\u251c\u2500\u2500 .cache \u27a1\ufe0f Generated Gatsby files (should be ignored)\n\u251c\u2500\u2500 public \u27a1\ufe0f Generated Gatsby files (should be ignored)\n\u251c\u2500\u2500 assets \u27a1\ufe0f All static assets for your project\n\u251c\u2500\u2500 App.tsx \u27a1\ufe0f Entry Point for Mobile apps\n\u251c\u2500\u2500 app.json \u27a1\ufe0f Expo config file\n\u251c\u2500\u2500 gatsby-config.js \u27a1\ufe0f Gatsby config file\n\u2514\u2500\u2500 babel.config.js \u27a1\ufe0f Babel config (should be using `babel-preset-expo`)\n")),Object(r.b)("h2",{id:"contributing"},"Contributing"),Object(r.b)("p",null,"If you would like to help make Gatsby support in Expo better, please feel free to open a PR or submit an issue:"),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},Object(r.b)("a",{parentName:"li",href:"https://github.com/expo/expo-cli/"},"Expo CLI"))),Object(r.b)("p",null,"If you have any problems rendering a certain component with pre-rendering then you can submit fixes to the expo/expo repo:"),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},Object(r.b)("a",{parentName:"li",href:"https://github.com/expo/expo/tree/main/packages"},"Expo SDK packages"))),Object(r.b)("p",null,"If you're curious how Expo support works under the hood, you can refer to this pull request:"),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},Object(r.b)("a",{parentName:"li",href:"https://github.com/slorber/gatsby-plugin-react-native-web/pull/14"},"Expo/Gatsby support PR"))),Object(r.b)("h2",{id:"learn-more-about-gatsby"},"Learn more about Gatsby"),Object(r.b)("p",null,"Learn more about how to use Gatsby in their ",Object(r.b)("a",{parentName:"p",href:"https://www.gatsbyjs.org/docs"},"docs"),"."))}c.isMDXComponent=!0},HALo:function(e,t,a){"use strict";function n(){return(n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}a.d(t,"a",(function(){return n}))},OAQW:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/guides/using-gatsby",function(){return a("D3aq")}])},Qetd:function(e,t,a){"use strict";var n=Object.assign.bind(Object);e.exports=n,e.exports.default=e.exports},dhJC:function(e,t,a){"use strict";function n(e,t){if(null==e)return{};var a,n,b=function(e,t){if(null==e)return{};var a,n,b={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(b[a]=e[a]);return b}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(b[a]=e[a])}return b}a.d(t,"a",(function(){return n}))}},[["OAQW",1,0]]]);