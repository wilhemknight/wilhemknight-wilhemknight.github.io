_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[154],{"+Css":function(e,t,n){"use strict";function a(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n.d(t,"a",(function(){return a}))},"7LId":function(e,t,n){"use strict";function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function r(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}n.d(t,"a",(function(){return r}))},"7ljp":function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return u}));var a=n("q1tI"),r=n.n(a);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var p=r.a.createContext({}),c=function(e){var t=r.a.useContext(p),n=t;return e&&(n="function"===typeof e?e(t):b(b({},t),e)),n},d=function(e){var t=c(e.components);return r.a.createElement(p.Provider,{value:t},e.children)},s={inlineCode:"code",wrapper:function(e){var t=e.children;return r.a.createElement(r.a.Fragment,{},t)}},m=r.a.forwardRef((function(e,t){var n=e.components,a=e.mdxType,i=e.originalType,l=e.parentName,p=o(e,["components","mdxType","originalType","parentName"]),d=c(n),m=a,u=d["".concat(l,".").concat(m)]||d[m]||s[m]||i;return n?r.a.createElement(u,b(b({ref:t},p),{},{components:n})):r.a.createElement(u,b({ref:t},p))}));function u(e,t){var n=arguments,a=t&&t.mdxType;if("string"===typeof e||a){var i=n.length,l=new Array(i);l[0]=m;var b={};for(var o in t)hasOwnProperty.call(t,o)&&(b[o]=t[o]);b.originalType=e,b.mdxType="string"===typeof e?e:a,l[1]=b;for(var p=2;p<i;p++)l[p]=n[p];return r.a.createElement.apply(null,l)}return r.a.createElement.apply(null,n)}m.displayName="MDXCreateElement"},"C+bE":function(e,t){function n(t){return"function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?(e.exports=n=function(e){return typeof e},e.exports.default=e.exports,e.exports.__esModule=!0):(e.exports=n=function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.default=e.exports,e.exports.__esModule=!0),n(t)}e.exports=n,e.exports.default=e.exports,e.exports.__esModule=!0},"H+61":function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,"a",(function(){return a}))},P8iW:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/guides/progressive-web-apps",function(){return n("r+MQ")}])},UlJF:function(e,t,n){"use strict";function a(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function r(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}n.d(t,"a",(function(){return r}))},VIvw:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a=n("C+bE"),r=n.n(a),i=n("+Css");function l(e,t){if(t&&("object"===r()(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Object(i.a)(e)}},iHvq:function(e,t,n){"use strict";function a(e){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}n.d(t,"a",(function(){return a}))},"r+MQ":function(e,t,n){"use strict";n.r(t),n.d(t,"meta",(function(){return o})),n.d(t,"headings",(function(){return p})),n.d(t,"default",(function(){return d}));var a=n("HALo"),r=n("dhJC"),i=(n("q1tI"),n("7ljp")),l=n("3WCi"),b=["components"],o={title:"Progressive Web Apps"},p=[{depth:2,type:"text",title:"Usage"},{depth:3,type:"text",title:"Icons"},{depth:3,type:"text",title:"Chrome"},{depth:3,type:"text",title:"Safari"},{depth:3,type:"text",title:"Offline"},{depth:3,type:"text",title:"Related Applications"},{depth:3,type:"text",title:"Manual Setup"},{depth:4,type:"text",title:"manifest.json"}],c={meta:o,headings:p};function d(e){var t=e.components,n=Object(r.a)(e,b);return Object(i.b)("wrapper",Object(a.a)({},c,n,{components:t,mdxType:"MDXLayout"}),Object(i.b)("p",null,"A progressive web app (or PWA for short) is a website that can be installed on the user's device and used offline. If you build your native app with Expo, then Expo CLI can generate a lot of the PWA automatically based on how the native app works. Ex: icons, splash screens, orientation, etc. Just ",Object(i.b)("a",{parentName:"p",href:"https://expo.fyi/enabling-web-service-workers"},"add service workers")," to get a complete PWA."),Object(i.b)("p",null,"You can test your PWA in an Emulator and Simulator by running ",Object(i.b)("inlineCode",{parentName:"p"},"expo start:web --https --ios --android")," then installing the PWA via the mobile browser."),Object(i.b)("h2",{id:"usage"},"Usage"),Object(i.b)("p",null,"Expo web projects generate PWA assets and manifests by default, you only need to ",Object(i.b)("a",{parentName:"p",href:"https://expo.fyi/enabling-web-service-workers"},"add offline web support")," to get a full PWA. You can disable asset and manifest generation by passing the ",Object(i.b)("inlineCode",{parentName:"p"},"--no-pwa")," to ",Object(i.b)("inlineCode",{parentName:"p"},"expo build:web"),", this won't effect favicon generation."),Object(i.b)("p",null,"When you run ",Object(i.b)("inlineCode",{parentName:"p"},"expo build:web")," the Webpack config reads your ",Object(i.b)("strong",{parentName:"p"},"app.config.js")," (or ",Object(i.b)("strong",{parentName:"p"},"app.json"),") and generates a PWA from it."),Object(i.b)("p",null,"The following properties can be used to customize your PWA:"),Object(i.b)("table",null,Object(i.b)("thead",{parentName:"table"},Object(i.b)("tr",{parentName:"thead"},Object(i.b)("th",{parentName:"tr",align:null},Object(i.b)("strong",{parentName:"th"},"app.config.js")),Object(i.b)("th",{parentName:"tr",align:null},Object(i.b)("strong",{parentName:"th"},"manifest.json")),Object(i.b)("th",{parentName:"tr",align:null},Object(i.b)("strong",{parentName:"th"},"index.html")))),Object(i.b)("tbody",{parentName:"table"},Object(i.b)("tr",{parentName:"tbody"},Object(i.b)("td",{parentName:"tr",align:null},Object(i.b)("inlineCode",{parentName:"td"},"web.backgroundColor")),Object(i.b)("td",{parentName:"tr",align:null},Object(i.b)("inlineCode",{parentName:"td"},"background_color")),Object(i.b)("td",{parentName:"tr",align:null})),Object(i.b)("tr",{parentName:"tbody"},Object(i.b)("td",{parentName:"tr",align:null},Object(i.b)(l.b,{mdxType:"InlineCode"},"web.description ","|"," description")),Object(i.b)("td",{parentName:"tr",align:null},Object(i.b)("inlineCode",{parentName:"td"},"description")),Object(i.b)("td",{parentName:"tr",align:null},Object(i.b)("inlineCode",{parentName:"td"},'<meta name="description" />'))),Object(i.b)("tr",{parentName:"tbody"},Object(i.b)("td",{parentName:"tr",align:null},Object(i.b)("inlineCode",{parentName:"td"},"web.dir")),Object(i.b)("td",{parentName:"tr",align:null},Object(i.b)("inlineCode",{parentName:"td"},"dir")),Object(i.b)("td",{parentName:"tr",align:null})),Object(i.b)("tr",{parentName:"tbody"},Object(i.b)("td",{parentName:"tr",align:null},Object(i.b)("inlineCode",{parentName:"td"},"web.display")),Object(i.b)("td",{parentName:"tr",align:null},Object(i.b)("inlineCode",{parentName:"td"},"display")),Object(i.b)("td",{parentName:"tr",align:null})),Object(i.b)("tr",{parentName:"tbody"},Object(i.b)("td",{parentName:"tr",align:null},Object(i.b)("inlineCode",{parentName:"td"},"web.lang")),Object(i.b)("td",{parentName:"tr",align:null},Object(i.b)("inlineCode",{parentName:"td"},"lang")),Object(i.b)("td",{parentName:"tr",align:null},Object(i.b)("inlineCode",{parentName:"td"},'<html lang="">'))),Object(i.b)("tr",{parentName:"tbody"},Object(i.b)("td",{parentName:"tr",align:null},Object(i.b)(l.b,{mdxType:"InlineCode"},"web.name ","|"," name")),Object(i.b)("td",{parentName:"tr",align:null},Object(i.b)("inlineCode",{parentName:"td"},"name")),Object(i.b)("td",{parentName:"tr",align:null},Object(i.b)("inlineCode",{parentName:"td"},"<title />"))),Object(i.b)("tr",{parentName:"tbody"},Object(i.b)("td",{parentName:"tr",align:null},Object(i.b)(l.b,{mdxType:"InlineCode"},"web.orientation ","|"," orientation")),Object(i.b)("td",{parentName:"tr",align:null},Object(i.b)("inlineCode",{parentName:"td"},"orientation")),Object(i.b)("td",{parentName:"tr",align:null})),Object(i.b)("tr",{parentName:"tbody"},Object(i.b)("td",{parentName:"tr",align:null},Object(i.b)("inlineCode",{parentName:"td"},"web.scope")),Object(i.b)("td",{parentName:"tr",align:null},Object(i.b)("inlineCode",{parentName:"td"},"scope")),Object(i.b)("td",{parentName:"tr",align:null})),Object(i.b)("tr",{parentName:"tbody"},Object(i.b)("td",{parentName:"tr",align:null},Object(i.b)(l.b,{mdxType:"InlineCode"},"web.shortName ","|"," web.name")),Object(i.b)("td",{parentName:"tr",align:null},Object(i.b)("inlineCode",{parentName:"td"},"short_name")),Object(i.b)("td",{parentName:"tr",align:null},Object(i.b)("inlineCode",{parentName:"td"},'<meta name="apple-mobile-web-app-title"/>'))),Object(i.b)("tr",{parentName:"tbody"},Object(i.b)("td",{parentName:"tr",align:null},Object(i.b)("inlineCode",{parentName:"td"},"web.startUrl")),Object(i.b)("td",{parentName:"tr",align:null},Object(i.b)("inlineCode",{parentName:"td"},"start_url")),Object(i.b)("td",{parentName:"tr",align:null})),Object(i.b)("tr",{parentName:"tbody"},Object(i.b)("td",{parentName:"tr",align:null},Object(i.b)(l.b,{mdxType:"InlineCode"},"web.themeColor ","|"," primaryColor")),Object(i.b)("td",{parentName:"tr",align:null},Object(i.b)("inlineCode",{parentName:"td"},"theme_color")),Object(i.b)("td",{parentName:"tr",align:null},Object(i.b)("inlineCode",{parentName:"td"},'<meta name="theme-color" />'))),Object(i.b)("tr",{parentName:"tbody"},Object(i.b)("td",{parentName:"tr",align:null},Object(i.b)("inlineCode",{parentName:"td"},"web.crossorigin")),Object(i.b)("td",{parentName:"tr",align:null},Object(i.b)("inlineCode",{parentName:"td"},"crossorigin")),Object(i.b)("td",{parentName:"tr",align:null})),Object(i.b)("tr",{parentName:"tbody"},Object(i.b)("td",{parentName:"tr",align:null},Object(i.b)("inlineCode",{parentName:"td"},"web.relatedApplications")),Object(i.b)("td",{parentName:"tr",align:null},Object(i.b)("inlineCode",{parentName:"td"},"related_applications")),Object(i.b)("td",{parentName:"tr",align:null})),Object(i.b)("tr",{parentName:"tbody"},Object(i.b)("td",{parentName:"tr",align:null},Object(i.b)("inlineCode",{parentName:"td"},"web.preferRelatedApplications")),Object(i.b)("td",{parentName:"tr",align:null},Object(i.b)("inlineCode",{parentName:"td"},"prefer_related_applications")),Object(i.b)("td",{parentName:"tr",align:null})),Object(i.b)("tr",{parentName:"tbody"},Object(i.b)("td",{parentName:"tr",align:null},Object(i.b)(l.b,{mdxType:"InlineCode"},"android.icon ","|"," icon")),Object(i.b)("td",{parentName:"tr",align:null},Object(i.b)("inlineCode",{parentName:"td"},"icons")),Object(i.b)("td",{parentName:"tr",align:null})),Object(i.b)("tr",{parentName:"tbody"},Object(i.b)("td",{parentName:"tr",align:null},Object(i.b)(l.b,{mdxType:"InlineCode"},"ios.icon ","|"," icon")),Object(i.b)("td",{parentName:"tr",align:null}),Object(i.b)("td",{parentName:"tr",align:null},Object(i.b)("inlineCode",{parentName:"td"},'<link rel="apple-touch-icon" >'))),Object(i.b)("tr",{parentName:"tbody"},Object(i.b)("td",{parentName:"tr",align:null},Object(i.b)(l.b,{mdxType:"InlineCode"},"web.favicon ","|"," icon")),Object(i.b)("td",{parentName:"tr",align:null}),Object(i.b)("td",{parentName:"tr",align:null},Object(i.b)("inlineCode",{parentName:"td"},'<link rel="shortcut icon" >'))),Object(i.b)("tr",{parentName:"tbody"},Object(i.b)("td",{parentName:"tr",align:null},Object(i.b)("inlineCode",{parentName:"td"},"web.barStyle")),Object(i.b)("td",{parentName:"tr",align:null}),Object(i.b)("td",{parentName:"tr",align:null},Object(i.b)("inlineCode",{parentName:"td"},'<meta name="apple-mobile-web-app-status-bar-style" />'))),Object(i.b)("tr",{parentName:"tbody"},Object(i.b)("td",{parentName:"tr",align:null},Object(i.b)(l.b,{mdxType:"InlineCode"},"web.splash ","|"," ios.splash ","|"," splash")),Object(i.b)("td",{parentName:"tr",align:null}),Object(i.b)("td",{parentName:"tr",align:null},Object(i.b)("inlineCode",{parentName:"td"},'<link rel="apple-touch-startup-image" >'))))),Object(i.b)("p",null,"If you need finer control on how the PWA is generated, you should eject the ",Object(i.b)("strong",{parentName:"p"},"web/index.html")," and add it there."),Object(i.b)("h3",{id:"icons"},"Icons"),Object(i.b)("p",null,"Icons are generated in Webpack using the ",Object(i.b)("a",{parentName:"p",href:"https://github.com/expo/expo-cli/tree/main/packages/pwa"},Object(i.b)("inlineCode",{parentName:"a"},"expo-pwa"))," CLI. You can customize and override icon generation by using the ",Object(i.b)("inlineCode",{parentName:"p"},"expo-pwa")," CLI directly. ",Object(i.b)("a",{parentName:"p",href:"https://github.com/expo/expo-cli/tree/main/packages/pwa"},"Learn more about ",Object(i.b)("inlineCode",{parentName:"a"},"expo-pwa")),"."),Object(i.b)("h3",{id:"chrome"},"Chrome"),Object(i.b)("p",null,"Chrome PWAs use the ",Object(i.b)("strong",{parentName:"p"},"manifest.json")," and various meta tags in the ",Object(i.b)("inlineCode",{parentName:"p"},"<head />")," element of the website's ",Object(i.b)("strong",{parentName:"p"},"index.html"),". Chrome PWAs are far more robust than iOS/Safari PWAs so you may find that certain features don't line up as well as they do natively."),Object(i.b)("h3",{id:"safari"},"Safari"),Object(i.b)("p",null,"Safari PWAs do not use the ",Object(i.b)("strong",{parentName:"p"},"manifest.json"),", instead they rely on meta tags in the ",Object(i.b)("inlineCode",{parentName:"p"},"<head/>")," element of a website's ",Object(i.b)("strong",{parentName:"p"},"index.html"),". Expo unifies values as much as possible to simplify this."),Object(i.b)("ul",null,Object(i.b)("li",{parentName:"ul"},"Safari icons are resolved with: ",Object(i.b)("inlineCode",{parentName:"li"},"ios.icon | icon"),".",Object(i.b)("ul",{parentName:"li"},Object(i.b)("li",{parentName:"ul"},"All icons can be individually overwritten with ",Object(i.b)("inlineCode",{parentName:"li"},'<link rel="apple-touch-icon" />')," in the ",Object(i.b)("strong",{parentName:"li"},"web/index.html")))),Object(i.b)("li",{parentName:"ul"},"Splash screens are resolved with: ",Object(i.b)("inlineCode",{parentName:"li"},"web.splash | ios.splash | splash"),".",Object(i.b)("ul",{parentName:"li"},Object(i.b)("li",{parentName:"ul"},"All splash screens can be individually overwritten with ",Object(i.b)("inlineCode",{parentName:"li"},'<link rel="apple-touch-startup-image" />')," in the ",Object(i.b)("strong",{parentName:"li"},"web/index.html")))),Object(i.b)("li",{parentName:"ul"},"Status Bar Style is resolved with: ",Object(i.b)("inlineCode",{parentName:"li"},"web.meta.apple.barStyle | web.barStyle"),".",Object(i.b)("ul",{parentName:"li"},Object(i.b)("li",{parentName:"ul"},"The default status bar style is ",Object(i.b)("inlineCode",{parentName:"li"},"black-translucent")," (the only full screen setting)."),Object(i.b)("li",{parentName:"ul"},"This can be overwritten with ",Object(i.b)("inlineCode",{parentName:"li"},'<meta name="apple-mobile-web-app-status-bar-style" />')," in the ",Object(i.b)("strong",{parentName:"li"},"web/index.html")))),Object(i.b)("li",{parentName:"ul"},"The home screen name is resolved with: ",Object(i.b)("inlineCode",{parentName:"li"},"web.shortName | web.name | name"),".",Object(i.b)("ul",{parentName:"li"},Object(i.b)("li",{parentName:"ul"},"This can be overwritten with ",Object(i.b)("inlineCode",{parentName:"li"},'<meta name="apple-mobile-web-app-title" />')," in the ",Object(i.b)("strong",{parentName:"li"},"web/index.html"))))),Object(i.b)("h3",{id:"offline"},"Offline"),Object(i.b)("p",null,"In order to add offline support, you'll need to add service workers to your project. We recommend using ",Object(i.b)("a",{parentName:"p",href:"https://developers.google.com/web/tools/workbox/modules/workbox-webpack-plugin"},"Workbox")," as it handles most of the heavy lifting."),Object(i.b)("h3",{id:"related-applications"},"Related Applications"),Object(i.b)("p",null,Object(i.b)("a",{parentName:"p",href:"https://developer.mozilla.org/en-US/docs/Web/Manifest#related_applications"},"Related applications")," are a way of telling your website which apps it should install in favor of a PWA, Expo websites try to recommend the native app when possible."),Object(i.b)("p",null,"Related applications can be inferred automatically from the following native ",Object(i.b)("strong",{parentName:"p"},"app.config.js")," properties:"),Object(i.b)("pre",null,Object(i.b)("code",{parentName:"pre",className:"language-js"},"// app.config.js\nexport default {\n  ios: {\n    bundleIdentifier: 'com.myapp',\n    appStoreUrl: 'app store url',\n  },\n  android: {\n    androidPackage: 'package',\n    // This is optional as it can be inferred from the androidPackage.\n    playStoreUrl: 'play store url',\n  },\n};\n")),Object(i.b)("p",null,Object(i.b)("strong",{parentName:"p"},"Optionally")," you could override these values by manually defining the related applications:"),Object(i.b)("pre",null,Object(i.b)("code",{parentName:"pre",className:"language-js"},"export default {\n  web: {\n    relatedApplications: [\n      {\n        platform: 'itunes',\n        url: 'app store url',\n        id: 'iOS bundle identifier',\n      },\n      {\n        platform: 'play',\n        url: 'play store url',\n        id: 'android package',\n      },\n    ],\n    preferRelatedApplications: true,\n  },\n};\n")),Object(i.b)("h3",{id:"manual-setup"},"Manual Setup"),Object(i.b)("p",null,"Under the hood ",Object(i.b)("inlineCode",{parentName:"p"},"@expo/webpack-config")," uses a CLI called ",Object(i.b)("inlineCode",{parentName:"p"},"expo-pwa"),". If you want more control on how PWAs are generated, you can use the ",Object(i.b)("inlineCode",{parentName:"p"},"expo-pwa")," CLI directly."),Object(i.b)("p",null,"Firstly, you'll need to eject the ",Object(i.b)("strong",{parentName:"p"},"web/index.html")," with ",Object(i.b)("inlineCode",{parentName:"p"},"expo customize:web"),". Now you can generate custom files and link them in the ",Object(i.b)("strong",{parentName:"p"},"web/index.html"),". ",Object(i.b)("inlineCode",{parentName:"p"},"@expo/webpack-config")," will check to see if assets are linked first before attempting to generate new ones."),Object(i.b)("h4",{id:"manifestjson"},"manifest.json"),Object(i.b)("ul",null,Object(i.b)("li",{parentName:"ul"},Object(i.b)("inlineCode",{parentName:"li"},"touch web/manifest.json")," or ",Object(i.b)("inlineCode",{parentName:"li"},"expo-pwa manifest")),Object(i.b)("li",{parentName:"ul"},"Add the following line to the ",Object(i.b)("inlineCode",{parentName:"li"},"<head/>")," element of your ",Object(i.b)("strong",{parentName:"li"},"web/index.html"),":")),Object(i.b)("pre",null,Object(i.b)("code",{parentName:"pre",className:"language-html"},'<link rel="manifest" href="/manifest.json" />\n')),Object(i.b)("p",null,"Now ",Object(i.b)("inlineCode",{parentName:"p"},"expo build:web")," will copy the ",Object(i.b)("strong",{parentName:"p"},"web/manifest.json")," file into the build folder and skip converting the ",Object(i.b)("strong",{parentName:"p"},"app.config.js")," or ",Object(i.b)("strong",{parentName:"p"},"app.json")," into a ",Object(i.b)("strong",{parentName:"p"},"manifest.json"),"."),Object(i.b)("p",null,"Note that if the ",Object(i.b)("inlineCode",{parentName:"p"},"icons")," property is not defined then the build step will still attempt to generate and append Chrome icons to your ",Object(i.b)("strong",{parentName:"p"},"manifest.json"),"."))}d.isMDXComponent=!0}},[["P8iW",1,0,2,3,7]]]);